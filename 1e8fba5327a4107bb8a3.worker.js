/*! For license information please see 1e8fba5327a4107bb8a3.worker.js.LICENSE.txt_ */
(()=>{var e={1977:function(e,t){var r;!function(n){"use strict";var i=function(e){return.5*(Math.exp(e)+Math.exp(-e))},s=function(e){return.5*(Math.exp(e)-Math.exp(-e))},a=function(){throw SyntaxError("Invalid Param")};function o(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function u(e,t){if(!(this instanceof u))return new u(e,t);var r=function(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return u.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return u.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):a();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,s=0;null===n&&a();for(var o=0;o<n.length;o++){var l=n[o];" "===l||"\t"===l||"\n"===l||("+"===l?i++:"-"===l?s++:"i"===l||"I"===l?(i+s===0&&a()," "===n[o+1]||isNaN(n[o+1])?r.im+=parseFloat((s%2?"-":"")+"1"):(r.im+=parseFloat((s%2?"-":"")+n[o+1]),o++),i=s=0):((i+s===0||isNaN(l))&&a(),"i"===n[o+1]||"I"===n[o+1]?(r.im+=parseFloat((s%2?"-":"")+l),o++):r.re+=parseFloat((s%2?"-":"")+l),i=s=0))}i+s>0&&a();break;case"number":r.im=0,r.re=e;break;default:a()}return isNaN(r.re)||isNaN(r.im),r}(e,t);this.re=r.re,this.im=r.im}u.prototype={re:0,im:0,sign:function(){var e=this.abs();return new u(this.re/e,this.im/e)},add:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re+r.re,this.im+r.im)},sub:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re-r.re,this.im-r.im)},mul:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:0===r.im&&0===this.im?new u(this.re*r.re,0):new u(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){var r=new u(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return u.NAN;if(this.isInfinite()||r.isZero())return u.INFINITY;if(this.isZero()||r.isInfinite())return u.ZERO;e=this.re,t=this.im;var n,i,s=r.re,a=r.im;return 0===a?new u(e/s,t/s):Math.abs(s)<Math.abs(a)?new u((e*(i=s/a)+t)/(n=s*i+a),(t*i-e)/n):new u((e+t*(i=a/s))/(n=a*i+s),(t-e*i)/n)},pow:function(e,t){var r=new u(e,t);if(e=this.re,t=this.im,r.isZero())return u.ONE;if(0===r.im){if(0===t&&e>=0)return new u(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new u(Math.pow(t,r.re),0);case 1:return new u(0,Math.pow(t,r.re));case 2:return new u(-Math.pow(t,r.re),0);case 3:return new u(0,-Math.pow(t,r.re))}}if(0===e&&0===t&&r.re>0&&r.im>=0)return u.ZERO;var n=Math.atan2(t,e),i=o(e,t);return e=Math.exp(r.re*i-r.im*n),t=r.im*i+r.re*n,new u(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new u(Math.sqrt(r),0);e=.5*Math.sqrt(2*(i+r))}else e=Math.abs(n)/Math.sqrt(2*(i-r));return t=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new u(e,n<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new u(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new u(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var r=e*e;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new u(o(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,r=Math.abs(e),n=Math.abs(t),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=e/t):n=t/e,r*Math.sqrt(1+n*n));var e,t,r,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new u(Math.sin(e)*i(t),Math.cos(e)*s(t))},cos:function(){var e=this.re,t=this.im;return new u(Math.cos(e)*i(t),-Math.sin(e)*s(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+i(t);return new u(Math.sin(e)/r,s(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-i(t);return new u(-Math.sin(e)/r,s(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*i(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*i(t)/r,Math.sin(e)*s(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*i(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*i(t)/r,-Math.cos(e)*s(t)/r)},asin:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(n.im,-n.re)},acos:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(Math.PI/2-n.im,n.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0)}var r=e*e+(1-t)*(1-t),n=new u((1-t*t-e*e)/r,-2*e/r).log();return new u(-.5*n.im,.5*n.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atan():new u(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acos():new u(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asin():new u(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new u(s(e)*Math.cos(t),i(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new u(i(e)*Math.cos(t),s(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=i(e)+Math.cos(t);return new u(s(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=i(e)-Math.cos(t);return new u(s(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-i(2*e);return new u(-2*s(e)*Math.cos(t)/r,2*i(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+i(2*e);return new u(2*i(e)*Math.cos(t)/r,-2*s(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im,r=e>1&&0===t,n=1-e,i=1+e,s=n*n+t*t,a=0!==s?new u((i*n-t*t)/s,(t*n+i*t)/s):new u(-1!==e?e/0:0,0!==t?t/0:0),l=a.re;return a.re=o(a.re,a.im)/2,a.im=Math.atan2(a.im,l)/2,r&&(a.im=-a.im),a},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atanh():new u(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asinh():new u(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return u.INFINITY;var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acosh():new u(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new u(e/r,-t/r)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var r=new u(e,t);return Math.abs(r.re-this.re)<=u.EPSILON&&Math.abs(r.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(r+=e),0!==t&&(0!==e?r+=t<0?" - ":" + ":t<0&&(r+="-"),1!==(t=Math.abs(t))&&(r+=t),r+="i"),r||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,void 0===(r=function(){return u}.apply(t,[]))||(e.exports=r)}()},3776:function(e,t,r){var n;!function(i){"use strict";var s,a,o,u=9e15,l="0123456789abcdef",c="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},f=!0,m="[DecimalError] Invalid argument: ",d=Math.floor,g=Math.pow,y=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,v=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,w=1e7,S=c.length-1,E=h.length-1,A={name:"[object Decimal]"};function T(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(s+=F(r)),s+=n;(r=7-(n=(a=e[t])+"").length)&&(s+=F(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function M(e,t,r){if(e!==~~e||e<t||e>r)throw Error(m+e)}function _(e,t,r,n){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=g(10,7-t),o=e[i]%s|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(e[i+1]/s/100|0)==g(10,t-2)-1||(o==s/2||0==o)&&0==(e[i+1]/s/100|0):t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==g(10,t-3)-1,a}function N(e,t,r){for(var n,i,s=[0],a=0,o=e.length;a<o;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=l.indexOf(e.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}A.absoluteValue=A.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),C(e)},A.ceil=function(){return C(new this.constructor(this),this.e+1,2)},A.comparedTo=A.cmp=function(e){var t,r,n,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,u=s.s,l=e.s;if(!a||!o)return u&&l?u!==l?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-l:0;if(u!==l)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(t=0,r=(n=a.length)<(i=o.length)?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},A.cosine=A.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?n=(1/j(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=K(e,1,t.times(n),new e(1));for(var s=r;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,H(n,r)),n.precision=e,n.rounding=t,C(2==o||3==o?r.neg():r,e,t,!0)):new n(1):new n(NaN)},A.cubeRoot=A.cbrt=function(){var e,t,r,n,i,s,a,o,u,l,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(f=!1,(s=c.s*g(c.s*c,1/3))&&Math.abs(s)!=1/0?n=new h(s.toString()):(r=T(c.d),(s=((e=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=g(r,1/3),e=d((e+1)/3)-(e%3==(e<0?-1:2)),(n=new h(r=s==1/0?"5e"+e:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=c.s),a=(e=h.precision)+3;;)if(l=(u=(o=n).times(o).times(o)).plus(c),n=I(l.plus(c).times(o),l.plus(u),a+2,1),T(o.d).slice(0,a)===(r=T(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(C(n,e+1,1),t=!n.times(n).times(n).eq(c));break}if(!i&&(C(o,e+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1}return f=!0,C(n,e,h.rounding,t)},A.decimalPlaces=A.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=7*((e=t.length-1)-d(this.e/7)),e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},A.dividedBy=A.div=function(e){return I(this,new this.constructor(e))},A.dividedToIntegerBy=A.divToInt=function(e){var t=this.constructor;return C(I(this,new t(e),0,1,1),t.precision,t.rounding)},A.equals=A.eq=function(e){return 0===this.cmp(e)},A.floor=function(){return C(new this.constructor(this),this.e+1,3)},A.greaterThan=A.gt=function(e){return this.cmp(e)>0},A.greaterThanOrEqualTo=A.gte=function(e){var t=this.cmp(e);return 1==t||0===t},A.hyperbolicCosine=A.cosh=function(){var e,t,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?t=(1/j(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=K(a,1,s.times(t),new a(1),!0);for(var u,l=e,c=new a(8);l--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return C(s,a.precision=r,a.rounding=n,!0)},A.hyperbolicSine=A.sinh=function(){var e,t,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=K(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=K(s,2,i=i.times(1/j(5,e)),i,!0);for(var a,o=new s(5),u=new s(16),l=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(l))))}return s.precision=t,s.rounding=r,C(i,t,r,!0)},A.hyperbolicTangent=A.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,I(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},A.inverseCosine=A.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,s=r.rounding;return-1!==n?0===n?t.isNeg()?R(r,i,s):new r(0):new r(NaN):t.isZero()?R(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=R(r,i+4,s).times(.5),r.precision=i,r.rounding=s,e.minus(t))},A.inverseHyperbolicCosine=A.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,f=!1,r=r.times(r).minus(1).sqrt().plus(r),f=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},A.inverseHyperbolicSine=A.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,f=!1,r=r.times(r).plus(1).sqrt().plus(r),f=!0,n.precision=e,n.rounding=t,r.ln())},A.inverseHyperbolicTangent=A.atanh=function(){var e,t,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?C(new s(i),e,t,!0):(s.precision=r=n-i.e,i=I(i.plus(1),new s(1).minus(i),r+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},A.inverseSine=A.asin=function(){var e,t,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==t?0===t?((e=R(s,r+4,n).times(.5)).s=i.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},A.inverseTangent=A.atan=function(){var e,t,r,n,i,s,a,o,u,l=this,c=l.constructor,h=c.precision,p=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&h+4<=E)return(a=R(c,h+4,p).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(h+4<=E)return(a=R(c,h+4,p).times(.5)).s=l.s,a}for(c.precision=o=h+10,c.rounding=1,e=r=Math.min(28,o/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(f=!1,t=Math.ceil(o/7),n=1,u=l.times(l),a=new c(l),i=l;-1!==e;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===s.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),f=!0,C(a,c.precision=h,c.rounding=p,!0)},A.isFinite=function(){return!!this.d},A.isInteger=A.isInt=function(){return!!this.d&&d(this.e/7)>this.d.length-2},A.isNaN=function(){return!this.s},A.isNegative=A.isNeg=function(){return this.s<0},A.isPositive=A.isPos=function(){return this.s>0},A.isZero=function(){return!!this.d&&0===this.d[0]},A.lessThan=A.lt=function(e){return this.cmp(e)<0},A.lessThanOrEqualTo=A.lte=function(e){return this.cmp(e)<1},A.logarithm=A.log=function(e){var t,r,n,i,s,a,o,u,l=this.constructor,c=l.precision,h=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)s=!0;else{for(i=r[0];i%10==0;)i/=10;s=1!==i}if(f=!1,a=V(this,o=c+5),n=t?D(l,o+10):V(e,o),_((u=I(a,n,o,1)).d,i=c,h))do{if(a=V(this,o+=10),n=t?D(l,o+10):V(e,o),u=I(a,n,o,1),!s){+T(u.d).slice(i+1,i+15)+1==1e14&&(u=C(u,c+1,0));break}}while(_(u.d,i+=10,h));return f=!0,C(u,c,h)},A.minus=A.sub=function(e){var t,r,n,i,s,a,o,u,l,c,h,p,m=this,g=m.constructor;if(e=new g(e),!m.d||!e.d)return m.s&&e.s?m.d?e.s=-e.s:e=new g(e.d||m.s!==e.s?m:NaN):e=new g(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(l=m.d,p=e.d,o=g.precision,u=g.rounding,!l[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!l[0])return new g(3===u?-0:0);e=new g(m)}return f?C(e,o,u):e}if(r=d(e.e/7),c=d(m.e/7),l=l.slice(),s=c-r){for((h=s<0)?(t=l,s=-s,a=p.length):(t=p,r=c,a=l.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for((h=(n=l.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(l[n]!=p[n]){h=l[n]<p[n];break}s=0}for(h&&(t=l,l=p,p=t,e.s=-e.s),a=l.length,n=p.length-a;n>0;--n)l[a++]=0;for(n=p.length;n>s;){if(l[--n]<p[n]){for(i=n;i&&0===l[--i];)l[i]=w-1;--l[i],l[n]+=w}l[n]-=p[n]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=k(l,r),f?C(e,o,u):e):new g(3===u?-0:0)},A.modulo=A.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?C(new n(r),n.precision,n.rounding):(f=!1,9==n.modulo?(t=I(r,e.abs(),0,3,1)).s*=e.s:t=I(r,e,0,n.modulo,1),t=t.times(e),f=!0,r.minus(t))},A.naturalExponential=A.exp=function(){return B(this)},A.naturalLogarithm=A.ln=function(){return V(this)},A.negated=A.neg=function(){var e=new this.constructor(this);return e.s=-e.s,C(e)},A.plus=A.add=function(e){var t,r,n,i,s,a,o,u,l,c,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new p(e.d||h.s===e.s?h:NaN)):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,c=e.d,o=p.precision,u=p.rounding,!l[0]||!c[0])return c[0]||(e=new p(h)),f?C(e,o,u):e;if(s=d(h.e/7),n=d(e.e/7),l=l.slice(),i=s-n){for(i<0?(r=l,i=-i,a=c.length):(r=c,n=s,a=l.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=l.length)-(i=c.length)<0&&(i=a,r=c,c=l,l=r),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/w|0,l[i]%=w;for(t&&(l.unshift(t),++n),a=l.length;0==l[--a];)l.pop();return e.d=l,e.e=k(l,n),f?C(e,o,u):e},A.precision=A.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(m+e);return r.d?(t=L(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},A.round=function(){var e=this,t=e.constructor;return C(new t(e),e.e+1,t.rounding)},A.sine=A.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return K(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=K(e,2,t=t.times(1/j(5,r)),t);for(var i,s=new e(5),a=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}(n,H(n,r)),n.precision=e,n.rounding=t,C(o>2?r.neg():r,e,t,!0)):new n(NaN)},A.squareRoot=A.sqrt=function(){var e,t,r,n,i,s,a=this,o=a.d,u=a.e,l=a.s,c=a.constructor;if(1!==l||!o||!o[0])return new c(!l||l<0&&(!o||o[0])?NaN:o?a:1/0);for(f=!1,0==(l=Math.sqrt(+a))||l==1/0?(((t=T(o)).length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=d((u+1)/2)-(u<0||u%2),n=new c(t=l==1/0?"1e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new c(l.toString()),r=(u=c.precision)+3;;)if(n=(s=n).plus(I(a,s,r+2,1)).times(.5),T(s.d).slice(0,r)===(t=T(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(C(n,u+1,1),e=!n.times(n).eq(a));break}if(!i&&(C(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1}return f=!0,C(n,u,c.rounding,e)},A.tangent=A.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=I(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,C(2==o||4==o?r.neg():r,e,t,!0)):new n(NaN)},A.times=A.mul=function(e){var t,r,n,i,s,a,o,u,l,c=this,h=c.constructor,p=c.d,m=(e=new h(e)).d;if(e.s*=c.s,!(p&&p[0]&&m&&m[0]))return new h(!e.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:p&&m?0*e.s:e.s/0);for(r=d(c.e/7)+d(e.e/7),(u=p.length)<(l=m.length)&&(s=p,p=m,m=s,a=u,u=l,l=a),s=[],n=a=u+l;n--;)s.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)o=s[i]+m[n]*p[i-n-1]+t,s[i--]=o%w|0,t=o/w|0;s[i]=(s[i]+t)%w|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=k(s,r),f?C(e,h.precision,h.rounding):e},A.toBinary=function(e,t){return W(this,2,e,t)},A.toDecimalPlaces=A.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(M(e,0,1e9),void 0===t?t=n.rounding:M(t,0,8),C(r,e+r.e+1,t))},A.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=O(n,!0):(M(e,0,1e9),void 0===t?t=i.rounding:M(t,0,8),r=O(n=C(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},A.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return void 0===e?r=O(i):(M(e,0,1e9),void 0===t?t=s.rounding:M(t,0,8),r=O(n=C(new s(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},A.toFraction=function(e){var t,r,n,i,s,a,o,u,l,c,h,p,d=this,y=d.d,v=d.constructor;if(!y)return new v(d);if(l=r=new v(1),n=u=new v(0),a=(s=(t=new v(n)).e=L(y)-d.e-1)%7,t.d[0]=g(10,a<0?7+a:a),null==e)e=s>0?t:l;else{if(!(o=new v(e)).isInt()||o.lt(l))throw Error(m+o);e=o.gt(t)?s>0?t:l:o}for(f=!1,o=new v(T(y)),c=v.precision,v.precision=s=7*y.length*2;h=I(o,t,0,1,1),1!=(i=r.plus(h.times(n))).cmp(e);)r=n,n=i,i=l,l=u.plus(h.times(i)),u=i,i=t,t=o.minus(h.times(i)),o=i;return i=I(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=d.s,p=I(l,n,s,1).minus(d).abs().cmp(I(u,r,s,1).minus(d).abs())<1?[l,n]:[u,r],v.precision=c,f=!0,p},A.toHexadecimal=A.toHex=function(e,t){return W(this,16,e,t)},A.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:M(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(f=!1,r=I(r,e,0,t,1).times(e),f=!0,C(r)):(e.s=r.s,r=e),r},A.toNumber=function(){return+this},A.toOctal=function(e,t){return W(this,8,e,t)},A.toPower=A.pow=function(e){var t,r,n,i,s,a,o=this,u=o.constructor,l=+(e=new u(e));if(!(o.d&&e.d&&o.d[0]&&e.d[0]))return new u(g(+o,l));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,e.eq(1))return C(o,n,s);if((t=d(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=9007199254740991)return i=U(u,o,r,n),e.s<0?new u(1).div(i):C(i,n,s);if((a=o.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(r=g(+o,l))&&isFinite(r)?new u(r+"").e:d(l*(Math.log("0."+T(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(f=!1,u.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=B(e.times(V(o,n+r)),n)).d&&_((i=C(i,n+5,1)).d,n,s)&&(t=n+10,+T((i=C(B(e.times(V(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=C(i,n+1,0))),i.s=a,f=!0,u.rounding=s,C(i,n,s))},A.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=O(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(M(e,1,1e9),void 0===t?t=i.rounding:M(t,0,8),r=O(n=C(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},A.toSignificantDigits=A.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(M(e,1,1e9),void 0===t?t=r.rounding:M(t,0,8)),C(new r(this),e,t)},A.toString=function(){var e=this,t=e.constructor,r=O(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},A.truncated=A.trunc=function(){return C(new this.constructor(this),this.e+1,1)},A.valueOf=A.toJSON=function(){var e=this,t=e.constructor,r=O(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var I=function(){function e(e,t,r){var n,i=0,s=e.length;for(e=e.slice();s--;)n=e[s]*t+i,e[s]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,s,o,u,l){var c,h,p,f,m,g,y,v,x,b,S,E,A,T,M,_,N,I,O,k,D=n.constructor,R=n.s==i.s?1:-1,L=n.d,F=i.d;if(!(L&&L[0]&&F&&F[0]))return new D(n.s&&i.s&&(L?!F||L[0]!=F[0]:F)?L&&0==L[0]||!F?0*R:R/0:NaN);for(l?(m=1,h=n.e-i.e):(l=w,m=7,h=d(n.e/m)-d(i.e/m)),O=F.length,N=L.length,b=(x=new D(R)).d=[],p=0;F[p]==(L[p]||0);p++);if(F[p]>(L[p]||0)&&h--,null==s?(T=s=D.precision,o=D.rounding):T=u?s+(n.e-i.e)+1:s,T<0)b.push(1),g=!0;else{if(T=T/m+2|0,p=0,1==O){for(f=0,F=F[0],T++;(p<N||f)&&T--;p++)M=f*l+(L[p]||0),b[p]=M/F|0,f=M%F|0;g=f||p<N}else{for((f=l/(F[0]+1)|0)>1&&(F=e(F,f,l),L=e(L,f,l),O=F.length,N=L.length),_=O,E=(S=L.slice(0,O)).length;E<O;)S[E++]=0;(k=F.slice()).unshift(0),I=F[0],F[1]>=l/2&&++I;do{f=0,(c=t(F,S,O,E))<0?(A=S[0],O!=E&&(A=A*l+(S[1]||0)),(f=A/I|0)>1?(f>=l&&(f=l-1),1==(c=t(y=e(F,f,l),S,v=y.length,E=S.length))&&(f--,r(y,O<v?k:F,v,l))):(0==f&&(c=f=1),y=F.slice()),(v=y.length)<E&&y.unshift(0),r(S,y,E,l),-1==c&&(c=t(F,S,O,E=S.length))<1&&(f++,r(S,O<E?k:F,E,l)),E=S.length):0===c&&(f++,S=[0]),b[p++]=f,c&&S[0]?S[E++]=L[_]||0:(S=[L[_]],E=1)}while((_++<N||void 0!==S[0])&&T--);g=void 0!==S[0]}b[0]||b.shift()}if(1==m)x.e=h,a=g;else{for(p=1,f=b[0];f>=10;f/=10)p++;x.e=p+h*m-1,C(x,u?s+x.e+1:s,o,g)}return x}}();function C(e,t,r,n){var i,s,a,o,u,l,c,h,p,m=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,o=h[0];o>=10;o/=10)i++;if((s=t-i)<0)s+=7,a=t,u=(c=h[p=0])/g(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=h.length)){if(!n)break e;for(;o++<=p;)h.push(0);c=u=0,i=1,a=(s%=7)-7+1}else{for(c=o=h[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:c/g(10,i-a-1)%10|0}if(n=n||t<0||void 0!==h[p+1]||(a<0?c:c%g(10,i-a-1)),l=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?c/g(10,i-a):0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=g(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=p,o=1,p--):(h.length=p+1,o=g(10,7-s),h[p]=a>0?(c/g(10,i-a)%g(10,a)|0)*o:0),l)for(;;){if(0==p){for(s=1,a=h[0];a>=10;a/=10)s++;for(a=h[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,h[0]==w&&(h[0]=1));break}if(h[p]+=o,h[p]!=w)break;h[p--]=0,o=1}for(s=h.length;0===h[--s];)h.pop()}return f&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function O(e,t,r){if(!e.isFinite())return q(e);var n,i=e.e,s=T(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+F(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+F(-i-1)+s,r&&(n=r-a)>0&&(s+=F(n))):i>=a?(s+=F(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+F(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=F(n))),s}function k(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function D(e,t,r){if(t>S)throw f=!0,r&&(e.precision=r),Error("[DecimalError] Precision limit exceeded");return C(new e(c),t,1,!0)}function R(e,t,r){if(t>E)throw Error("[DecimalError] Precision limit exceeded");return C(new e(h),t,r,!0)}function L(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function F(e){for(var t="";e--;)t+="0";return t}function U(e,t,r,n){var i,s=new e(1),a=Math.ceil(n/7+4);for(f=!1;;){if(r%2&&X((s=s.times(t)).d,a)&&(i=!0),0===(r=d(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}X((t=t.times(t)).d,a)}return f=!0,s}function z(e){return 1&e.d[e.d.length-1]}function P(e,t,r){for(var n,i=new e(t[0]),s=0;++s<t.length;){if(!(n=new e(t[s])).s){i=n;break}i[r](n)&&(i=n)}return i}function B(e,t){var r,n,i,s,a,o,u,l=0,c=0,h=0,p=e.constructor,m=p.rounding,d=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(f=!1,u=d):u=t,o=new p(.03125);e.e>-2;)e=e.times(o),h+=5;for(u+=n=Math.log(g(2,h))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=C(s.times(e),u,1),r=r.times(++c),T((o=a.plus(I(s,r,u,1))).d).slice(0,u)===T(a.d).slice(0,u)){for(i=h;i--;)a=C(a.times(a),u,1);if(null!=t)return p.precision=d,a;if(!(l<3&&_(a.d,u-n,m,l)))return C(a,p.precision=d,m,f=!0);p.precision=u+=10,r=s=o=new p(1),c=0,l++}a=o}}function V(e,t){var r,n,i,s,a,o,u,l,c,h,p,m=1,d=e,g=d.d,y=d.constructor,v=y.rounding,x=y.precision;if(d.s<0||!g||!g[0]||!d.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=d.s?NaN:g?0:d);if(null==t?(f=!1,c=x):c=t,y.precision=c+=10,n=(r=T(g)).charAt(0),!(Math.abs(s=d.e)<15e14))return l=D(y,c+2,x).times(s+""),d=V(new y(n+"."+r.slice(1)),c-10).plus(l),y.precision=x,null==t?C(d,x,v,f=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=T((d=d.times(e)).d)).charAt(0),m++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),h=d,u=a=d=I(d.minus(1),d.plus(1),c,1),p=C(d.times(d),c,1),i=3;;){if(a=C(a.times(p),c,1),T((l=u.plus(I(a,new y(i),c,1))).d).slice(0,c)===T(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(D(y,c+2,x).times(s+""))),u=I(u,new y(m),c,1),null!=t)return y.precision=x,u;if(!_(u.d,c-10,v,o))return C(u,y.precision=x,v,f=!0);y.precision=c+=10,l=a=d=I(h.minus(1),h.plus(1),c,1),p=C(d.times(d),c,1),i=o=1}u=l,i+=2}}function q(e){return String(e.s*e.s/0)}function $(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function G(e,t){var r,n,i,a,o,u,l,c,h;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(v.test(t))r=16,t=t.toLowerCase();else if(y.test(t))r=2;else{if(!x.test(t))throw Error(m+t);r=8}for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,n=e.constructor,o&&(a=(u=(t=t.replace(".","")).length)-a,i=U(n,new n(r),a,2*a)),a=h=(c=N(t,r,w)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=k(c,h),e.d=c,f=!1,o&&(e=I(e,i,4*u)),l&&(e=e.times(Math.abs(l)<54?g(2,l):s.pow(2,l))),f=!0,e)}function K(e,t,r,n,i){var s,a,o,u,l=e.precision,c=Math.ceil(l/7);for(f=!1,u=r.times(r),o=new e(n);;){if(a=I(o.times(u),new e(t++*t++),l,1),o=i?n.plus(a):n.minus(a),n=I(a.times(u),new e(t++*t++),l,1),void 0!==(a=o.plus(n)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s}return f=!0,a.d.length=c+1,a}function j(e,t){for(var r=e;--t;)r*=e;return r}function H(e,t){var r,n=t.s<0,i=R(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return o=n?4:1,t;if((r=t.divToInt(i)).isZero())o=n?3:2;else{if((t=t.minus(r.times(i))).lte(s))return o=z(r)?n?2:3:n?4:1,t;o=z(r)?n?1:4:n?3:2}return t.minus(i).abs()}function W(e,t,r,n){var i,s,o,u,c,h,p,f,m,d=e.constructor,g=void 0!==r;if(g?(M(r,1,1e9),void 0===n?n=d.rounding:M(n,0,8)):(r=d.precision,n=d.rounding),e.isFinite()){for(g?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(o=(p=O(e)).indexOf("."))>=0&&(p=p.replace(".",""),(m=new d(1)).e=p.length-o,m.d=N(O(m),10,i),m.e=m.d.length),s=c=(f=N(p,10,i)).length;0==f[--c];)f.pop();if(f[0]){if(o<0?s--:((e=new d(e)).d=f,e.e=s,f=(e=I(e,m,r,n,0,i)).d,s=e.e,h=a),o=f[r],u=i/2,h=h||void 0!==f[r+1],h=n<4?(void 0!==o||h)&&(0===n||n===(e.s<0?3:2)):o>u||o===u&&(4===n||h||6===n&&1&f[r-1]||n===(e.s<0?8:7)),f.length=r,h)for(;++f[--r]>i-1;)f[r]=0,r||(++s,f.unshift(1));for(c=f.length;!f[c-1];--c);for(o=0,p="";o<c;o++)p+=l.charAt(f[o]);if(g){if(c>1)if(16==t||8==t){for(o=16==t?4:3,--c;c%o;c++)p+="0";for(c=(f=N(p,i,t)).length;!f[c-1];--c);for(o=1,p="1.";o<c;o++)p+=l.charAt(f[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)p="0"+p;p="0."+p}else if(++s>c)for(s-=c;s--;)p+="0";else s<c&&(p=p.slice(0,s)+"."+p.slice(s))}else p=g?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=q(e);return e.s<0?"-"+p:p}function X(e,t){if(e.length>t)return e.length=t,!0}function Y(e){return new this(e).abs()}function Z(e){return new this(e).acos()}function J(e){return new this(e).acosh()}function Q(e,t){return new this(e).plus(t)}function ee(e){return new this(e).asin()}function te(e){return new this(e).asinh()}function re(e){return new this(e).atan()}function ne(e){return new this(e).atanh()}function ie(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,s=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?R(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=R(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,r=this.atan(I(e,t,s,1)),t=R(this,s,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(I(e,t,s,1)):(r=R(this,s,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function se(e){return new this(e).cbrt()}function ae(e){return C(e=new this(e),e.e+1,2)}function oe(e){if(!e||"object"!=typeof e)throw Error("[DecimalError] Object expected");var t,r,n,i=!0===e.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],i&&(this[r]=p[r]),void 0!==(n=e[r])){if(!(d(n)===n&&n>=s[t+1]&&n<=s[t+2]))throw Error(m+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=p[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(m+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0}else this[r]=!1}return this}function ue(e){return new this(e).cos()}function le(e){return new this(e).cosh()}function ce(e,t){return new this(e).div(t)}function he(e){return new this(e).exp()}function pe(e){return C(e=new this(e),e.e+1,3)}function fe(){var e,t,r=new this(0);for(f=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return f=!0,new this(1/0);r=t}return f=!0,r.sqrt()}function me(e){return e instanceof s||e&&"[object Decimal]"===e.name||!1}function de(e){return new this(e).ln()}function ge(e,t){return new this(e).log(t)}function ye(e){return new this(e).log(2)}function ve(e){return new this(e).log(10)}function xe(){return P(this,arguments,"lt")}function be(){return P(this,arguments,"gt")}function we(e,t){return new this(e).mod(t)}function Se(e,t){return new this(e).mul(t)}function Ee(e,t){return new this(e).pow(t)}function Ae(e){var t,r,n,i,s=0,a=new this(1),o=[];if(void 0===e?e=this.precision:M(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(t=crypto.randomBytes(n*=4);s<n;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=n/4}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(e%=7,(n=o[--s])&&e&&(i=g(10,7-e),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return a.e=r,a.d=o,a}function Te(e){return C(e=new this(e),e.e+1,this.rounding)}function Me(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function _e(e){return new this(e).sin()}function Ne(e){return new this(e).sinh()}function Ie(e){return new this(e).sqrt()}function Ce(e,t){return new this(e).sub(t)}function Oe(e){return new this(e).tan()}function ke(e){return new this(e).tanh()}function De(e){return C(e=new this(e),e.e+1,1)}(s=function e(t){var r,n,i;function s(e){var t,r,n,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,e instanceof s)return i.s=e.s,void(f?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(f?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):$(i,e.toString())}if("string"!==n)throw Error(m+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),b.test(e)?$(i,e):G(i,e)}if(s.prototype=A,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=oe,s.clone=e,s.isDecimal=me,s.abs=Y,s.acos=Z,s.acosh=J,s.add=Q,s.asin=ee,s.asinh=te,s.atan=re,s.atanh=ne,s.atan2=ie,s.cbrt=se,s.ceil=ae,s.cos=ue,s.cosh=le,s.div=ce,s.exp=he,s.floor=pe,s.hypot=fe,s.ln=de,s.log=ge,s.log10=ve,s.log2=ye,s.max=xe,s.min=be,s.mod=we,s.mul=Se,s.pow=Ee,s.random=Ae,s.round=Te,s.sign=Me,s.sin=_e,s.sinh=Ne,s.sqrt=Ie,s.sub=Ce,s.tan=Oe,s.tanh=ke,s.trunc=De,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return s.config(t),s}(p)).default=s.Decimal=s,c=new s(c),h=new s(h),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},5628:function(e,t){var r;!function(n){"use strict";var i={s:1,n:0,d:1};function s(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function r(){}return r.prototype=Error.prototype,t.prototype=new r,t}var a=p.DivisionByZero=s("DivisionByZero"),o=p.InvalidParameter=s("InvalidParameter");function u(e,t){return isNaN(e=parseInt(e,10))&&l(),e*t}function l(){throw new o}var c=function(e,t){var r,n=0,s=1,o=1,c=0,h=0,p=0,f=1,m=1,d=0,g=1,y=1,v=1,x=1e7;if(null==e);else if(void 0!==t)o=(n=e)*(s=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,s=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(s=e[1])):l(),o=n*s;break;case"number":if(e<0&&(o=e,e=-e),e%1==0)n=e;else if(e>0){for(e>=1&&(e/=m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));g<=x&&v<=x;){if(e===(r=(d+y)/(g+v))){g+v<=x?(n=d+y,s=g+v):v>g?(n=y,s=v):(n=d,s=g);break}e>r?(d+=y,g+=v):(y+=d,v+=g),g>x?(n=y,s=v):(n=d,s=g)}n*=m}else(isNaN(e)||isNaN(t))&&(s=n=NaN);break;case"string":if(null===(g=e.match(/\d+|./g))&&l(),"-"===g[d]?(o=-1,d++):"+"===g[d]&&d++,g.length===d+1?h=u(g[d++],o):"."===g[d+1]||"."===g[d]?("."!==g[d]&&(c=u(g[d++],o)),(1+ ++d===g.length||"("===g[d+1]&&")"===g[d+3]||"'"===g[d+1]&&"'"===g[d+3])&&(h=u(g[d],o),f=Math.pow(10,g[d].length),d++),("("===g[d]&&")"===g[d+2]||"'"===g[d]&&"'"===g[d+2])&&(p=u(g[d+1],o),m=Math.pow(10,g[d+1].length)-1,d+=3)):"/"===g[d+1]||":"===g[d+1]?(h=u(g[d],o),f=u(g[d+2],1),d+=3):"/"===g[d+3]&&" "===g[d+1]&&(c=u(g[d],o),h=u(g[d+2],o),f=u(g[d+4],1),d+=5),g.length<=d){o=n=p+(s=f*m)*c+m*h;break}default:l()}if(0===s)throw new a;i.s=o<0?-1:1,i.n=Math.abs(n),i.d=Math.abs(s)};function h(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function p(e,t){if(!(this instanceof p))return new p(e,t);c(e,t),e=p.REDUCE?h(i.d,i.n):1,this.s=i.s,this.n=i.n/e,this.d=i.d/e}p.REDUCE=1,p.prototype={s:1,n:0,d:1,abs:function(){return new p(this.n,this.d)},neg:function(){return new p(-this.s*this.n,this.d)},add:function(e,t){return c(e,t),new p(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(e,t){return c(e,t),new p(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(e,t){return c(e,t),new p(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(e,t){return c(e,t),new p(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new p(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new p(NaN):void 0===e?new p(this.s*this.n%this.d,1):(c(e,t),0===i.n&&0===this.d&&p(0,0),new p(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(e,t){return c(e,t),new p(h(i.n,this.n)*h(i.d,this.d),i.d*this.d)},lcm:function(e,t){return c(e,t),0===i.n&&0===this.n?new p:new p(i.n*this.n,h(i.n,this.n)*h(i.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new p(this.s*this.d,this.n)},pow:function(e){return e<0?new p(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new p(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return c(e,t),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(e,t){c(e,t);var r=this.s*this.n*i.d-i.s*i.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function r(e){return 1===e.length?new p(e[0]):r(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var n=0;n<t.length;n++){var i=r(t.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return c(e,t),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;do{n.push(Math.floor(t/r)),e=t%r,t=r,r=e}while(1!==t);return n},toString:function(e){var t,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";p.REDUCE||(r/=t=h(r,n),n/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var r=10%t,n=1;1!==r;n++)if(r=10*r%t,n>2e3)return 0;return n}(0,n),s=function(e,t,r){for(var n=1,i=function(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1)1&t&&(n=n*e%r);return n}(10,r,t),s=0;s<300;s++){if(n===i)return s;n=10*n%t,i=10*i%t}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var o=s;o--;)a+=r/n|0,r%=n,r*=10;for(a+="(",o=i;o--;)a+=r/n|0,r%=n,r*=10;a+=")"}else for(o=e;r&&o--;)a+=r/n|0,r%=n,r*=10;return a}},void 0===(r=function(){return p}.apply(t,[]))||(e.exports=r)}()},9985:e=>{e.exports=function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,r,n)}return r[a].exports}for(var s=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){var n;n=this,function(e){"use strict";var t={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},r="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",n={5:r,"5module":r+" export import",6:r+" const class extends export import super"},i=/^in(stanceof)?$/,s="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",a="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",o=new RegExp("["+s+"]"),u=new RegExp("["+s+a+"]");s=a=null;var l=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],c=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function h(e,t){for(var r=65536,n=0;n<t.length;n+=2){if((r+=t[n])>e)return!1;if((r+=t[n+1])>=e)return!0}}function p(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&o.test(String.fromCharCode(e)):!1!==t&&h(e,l)))}function f(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):!1!==t&&(h(e,l)||h(e,c)))))}var m=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function d(e,t){return new m(e,{beforeExpr:!0,binop:t})}var g={beforeExpr:!0},y={startsExpr:!0},v={};function x(e,t){return void 0===t&&(t={}),t.keyword=e,v[e]=new m(e,t)}var b={num:new m("num",y),regexp:new m("regexp",y),string:new m("string",y),name:new m("name",y),eof:new m("eof"),bracketL:new m("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new m("]"),braceL:new m("{",{beforeExpr:!0,startsExpr:!0}),braceR:new m("}"),parenL:new m("(",{beforeExpr:!0,startsExpr:!0}),parenR:new m(")"),comma:new m(",",g),semi:new m(";",g),colon:new m(":",g),dot:new m("."),question:new m("?",g),arrow:new m("=>",g),template:new m("template"),invalidTemplate:new m("invalidTemplate"),ellipsis:new m("...",g),backQuote:new m("`",y),dollarBraceL:new m("${",{beforeExpr:!0,startsExpr:!0}),eq:new m("=",{beforeExpr:!0,isAssign:!0}),assign:new m("_=",{beforeExpr:!0,isAssign:!0}),incDec:new m("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new m("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:d("||",1),logicalAND:d("&&",2),bitwiseOR:d("|",3),bitwiseXOR:d("^",4),bitwiseAND:d("&",5),equality:d("==/!=/===/!==",6),relational:d("</>/<=/>=",7),bitShift:d("<</>>/>>>",8),plusMin:new m("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:d("%",10),star:d("*",10),slash:d("/",10),starstar:new m("**",{beforeExpr:!0}),_break:x("break"),_case:x("case",g),_catch:x("catch"),_continue:x("continue"),_debugger:x("debugger"),_default:x("default",g),_do:x("do",{isLoop:!0,beforeExpr:!0}),_else:x("else",g),_finally:x("finally"),_for:x("for",{isLoop:!0}),_function:x("function",y),_if:x("if"),_return:x("return",g),_switch:x("switch"),_throw:x("throw",g),_try:x("try"),_var:x("var"),_const:x("const"),_while:x("while",{isLoop:!0}),_with:x("with"),_new:x("new",{beforeExpr:!0,startsExpr:!0}),_this:x("this",y),_super:x("super",y),_class:x("class",y),_extends:x("extends",g),_export:x("export"),_import:x("import",y),_null:x("null",y),_true:x("true",y),_false:x("false",y),_in:x("in",{beforeExpr:!0,binop:7}),_instanceof:x("instanceof",{beforeExpr:!0,binop:7}),_typeof:x("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:x("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:x("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(w.source,"g");function E(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var A=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,T=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,M=Object.prototype,_=M.hasOwnProperty,N=M.toString;function I(e,t){return _.call(e,t)}var C=Array.isArray||function(e){return"[object Array]"===N.call(e)};function O(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var k=function(e,t){this.line=e,this.column=t};k.prototype.offset=function(e){return new k(this.line,this.column+e)};var D=function(e,t,r){this.start=t,this.end=r,null!==e.sourceFile&&(this.source=e.sourceFile)};function R(e,t){for(var r=1,n=0;;){S.lastIndex=n;var i=S.exec(e);if(!(i&&i.index<t))return new k(r,t-n);++r,n=i.index+i[0].length}}var L={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function F(e,t){return 2|(e?4:0)|(t?8:0)}var U=function(e,r,i){this.options=e=function(e){var t={};for(var r in L)t[r]=e&&I(e,r)?e[r]:L[r];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),C(t.onToken)){var n=t.onToken;t.onToken=function(e){return n.push(e)}}return C(t.onComment)&&(t.onComment=function(e,t){return function(r,n,i,s,a,o){var u={type:r?"Block":"Line",value:n,start:i,end:s};e.locations&&(u.loc=new D(this,a,o)),e.ranges&&(u.range=[i,s]),t.push(u)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=O(n[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var s="";if(!0!==e.allowReserved){for(var a=e.ecmaVersion;!(s=t[a]);a--);"module"===e.sourceType&&(s+=" await")}this.reservedWords=O(s);var o=(s?s+" ":"")+t.strict;this.reservedWordsStrict=O(o),this.reservedWordsStrictBind=O(o+" "+t.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},z={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};U.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},z.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},z.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},z.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},z.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},z.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},z.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},U.prototype.inNonArrowFunction=function(){return(2&this.currentThisScope().flags)>0},U.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=this,n=0;n<e.length;n++)r=e[n](r);return r},U.parse=function(e,t){return new this(t,e).parse()},U.parseExpressionAt=function(e,t,r){var n=new this(r,e,t);return n.nextToken(),n.parseExpression()},U.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(U.prototype,z);var P=U.prototype,B=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;function V(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}P.strictDirective=function(e){for(;;){T.lastIndex=e,e+=T.exec(this.input)[0].length;var t=B.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length,T.lastIndex=e,e+=T.exec(this.input)[0].length,";"===this.input[e]&&e++}},P.eat=function(e){return this.type===e&&(this.next(),!0)},P.isContextual=function(e){return this.type===b.name&&this.value===e&&!this.containsEsc},P.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},P.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},P.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},P.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},P.semicolon=function(){this.eat(b.semi)||this.insertSemicolon()||this.unexpected()},P.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},P.expect=function(e){this.eat(e)||this.unexpected()},P.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},P.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}},P.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,n=e.doubleProto;if(!t)return r>=0||n>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},P.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},P.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var q=U.prototype;q.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==b.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var n=0,i=Object.keys(this.undefinedExports);n<i.length;n+=1){var s=i[n];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var $={kind:"loop"},G={kind:"switch"};q.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;T.lastIndex=this.pos;var t=T.exec(this.input),r=this.pos+t[0].length,n=this.input.charCodeAt(r);if(91===n)return!0;if(e)return!1;if(123===n)return!0;if(p(n,!0)){for(var s=r+1;f(this.input.charCodeAt(s),!0);)++s;var a=this.input.slice(r,s);if(!i.test(a))return!0}return!1},q.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;T.lastIndex=this.pos;var e=T.exec(this.input),t=this.pos+e[0].length;return!(w.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&f(this.input.charAt(t+8)))},q.parseStatement=function(e,t,r){var n,i=this.type,s=this.startNode();switch(this.isLet(e)&&(i=b._var,n="let"),i){case b._break:case b._continue:return this.parseBreakContinueStatement(s,i.keyword);case b._debugger:return this.parseDebuggerStatement(s);case b._do:return this.parseDoStatement(s);case b._for:return this.parseForStatement(s);case b._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case b._class:return e&&this.unexpected(),this.parseClass(s,!0);case b._if:return this.parseIfStatement(s);case b._return:return this.parseReturnStatement(s);case b._switch:return this.parseSwitchStatement(s);case b._throw:return this.parseThrowStatement(s);case b._try:return this.parseTryStatement(s);case b._const:case b._var:return n=n||this.value,e&&"var"!==n&&this.unexpected(),this.parseVarStatement(s,n);case b._while:return this.parseWhileStatement(s);case b._with:return this.parseWithStatement(s);case b.braceL:return this.parseBlock(!0,s);case b.semi:return this.parseEmptyStatement(s);case b._export:case b._import:if(this.options.ecmaVersion>10&&i===b._import){T.lastIndex=this.pos;var a=T.exec(this.input),o=this.pos+a[0].length;if(40===this.input.charCodeAt(o))return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===b._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var u=this.value,l=this.parseExpression();return i===b.name&&"Identifier"===l.type&&this.eat(b.colon)?this.parseLabeledStatement(s,u,l,e):this.parseExpressionStatement(s,l)}},q.parseBreakContinueStatement=function(e,t){var r="break"===t;this.next(),this.eat(b.semi)||this.insertSemicolon()?e.label=null:this.type!==b.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var i=this.labels[n];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(r||"loop"===i.kind))break;if(e.label&&r)break}}return n===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")},q.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},q.parseDoStatement=function(e){return this.next(),this.labels.push($),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},q.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push($),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===b._var||this.type===b._const||r){var n=this.startNode(),i=r?"let":this.value;return this.next(),this.parseVar(n,!0,i),this.finishNode(n,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===n.declarations.length?(this.options.ecmaVersion>=9&&(this.type===b._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,n)):(t>-1&&this.unexpected(t),this.parseFor(e,n))}var s=new V,a=this.parseExpression(!0,s);return this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===b._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(a,!1,s),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},q.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,j|(r?0:H),!1,t)},q.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},q.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},q.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(b.braceL),this.labels.push(G),this.enterScope(0);for(var r=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var n=this.type===b._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(b.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},q.parseThrowStatement=function(e){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var K=[];q.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===b._catch){var t=this.startNode();if(this.next(),this.eat(b.parenL)){t.param=this.parseBindingAtom();var r="Identifier"===t.param.type;this.enterScope(r?32:0),this.checkLVal(t.param,r?4:2),this.expect(b.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(b._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},q.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},q.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push($),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},q.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},q.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},q.parseLabeledStatement=function(e,t,r,n){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===t&&this.raise(r.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===b._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var u=this.labels[o];if(u.statementStart!==e.start)break;u.statementStart=this.start,u.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},q.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},q.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(b.braceL),e&&this.enterScope(0);!this.eat(b.braceR);){var r=this.parseStatement(null);t.body.push(r)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},q.parseFor=function(e,t){return e.init=t,this.expect(b.semi),e.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),e.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},q.parseForIn=function(e,t){var r=this.type===b._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!r||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")},q.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var n=this.startNode();if(this.parseVarId(n,r),this.eat(b.eq)?n.init=this.parseMaybeAssign(t):"const"!==r||this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===n.id.type||t&&(this.type===b._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(b.comma))break}return e},q.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?1:2,!1)};var j=1,H=2;q.parseFunction=function(e,t,r,n){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===b.star&&t&H&&this.unexpected(),e.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(e.async=!!n),t&j&&(e.id=4&t&&this.type!==b.name?null:this.parseIdent(),!e.id||t&H||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(F(e.async,e.generator)),t&j||(e.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,t&j?"FunctionDeclaration":"FunctionExpression")},q.parseFunctionParams=function(e){this.expect(b.parenL),e.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},q.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var n=this.startNode(),i=!1;for(n.body=[],this.expect(b.braceL);!this.eat(b.braceR);){var s=this.parseClassElement(null!==e.superClass);s&&(n.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind&&(i&&this.raise(s.start,"Duplicate constructor in the same class"),i=!0))}return e.body=this.finishNode(n,"ClassBody"),this.strict=r,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},q.parseClassElement=function(e){var t=this;if(this.eat(b.semi))return null;var r=this.startNode(),n=function(e,n){void 0===n&&(n=!1);var i=t.start,s=t.startLoc;return!(!t.eatContextual(e)||(t.type===b.parenL||n&&t.canInsertSemicolon())&&(r.key&&t.unexpected(),r.computed=!1,r.key=t.startNodeAt(i,s),r.key.name=e,t.finishNode(r.key,"Identifier"),1))};r.kind="method",r.static=n("static");var i=this.eat(b.star),s=!1;i||(this.options.ecmaVersion>=8&&n("async",!0)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(b.star)):n("get")?r.kind="get":n("set")&&(r.kind="set")),r.key||this.parsePropertyName(r);var a=r.key,o=!1;return r.computed||r.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?r.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),s&&this.raise(a.start,"Constructor can't be an async method"),r.kind="constructor",o=e),this.parseClassMethod(r,i,s,o),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r},q.parseClassMethod=function(e,t,r,n){return e.value=this.parseMethod(t,r,n),this.finishNode(e,"MethodDefinition")},q.parseClassId=function(e,t){this.type===b.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},q.parseClassSuper=function(e){e.superClass=this.eat(b._extends)?this.parseExprSubscripts():null},q.parseExport=function(e,t){if(this.next(),this.eat(b.star))return this.expectContextual("from"),this.type!==b.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(b._default)){var r;if(this.checkExport(t,"default",this.lastTokStart),this.type===b._function||(r=this.isAsyncFunction())){var n=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(n,4|j,!1,r)}else if(this.type===b._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,a=e.specifiers;s<a.length;s+=1){var o=a[s];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},q.checkExport=function(e,t,r){e&&(I(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)},q.checkPatternExport=function(e,t){var r=t.type;if("Identifier"===r)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===r)for(var n=0,i=t.properties;n<i.length;n+=1){var s=i[n];this.checkPatternExport(e,s)}else if("ArrayPattern"===r)for(var a=0,o=t.elements;a<o.length;a+=1){var u=o[a];u&&this.checkPatternExport(e,u)}else"Property"===r?this.checkPatternExport(e,t.value):"AssignmentPattern"===r?this.checkPatternExport(e,t.left):"RestElement"===r?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===r&&this.checkPatternExport(e,t.expression)},q.checkVariableExport=function(e,t){if(e)for(var r=0,n=t;r<n.length;r+=1){var i=n[r];this.checkPatternExport(e,i.id)}},q.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},q.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(r)r=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var n=this.startNode();n.local=this.parseIdent(!0),n.exported=this.eatContextual("as")?this.parseIdent(!0):n.local,this.checkExport(e,n.exported.name,n.exported.start),t.push(this.finishNode(n,"ExportSpecifier"))}return t},q.parseImport=function(e){return this.next(),this.type===b.string?(e.specifiers=K,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},q.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===b.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLVal(r.local,2),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(b.comma))return e}if(this.type===b.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLVal(n.local,2),e.push(this.finishNode(n,"ImportNamespaceSpecifier")),e}for(this.expect(b.braceL);!this.eat(b.braceR);){if(t)t=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,2),e.push(this.finishNode(i,"ImportSpecifier"))}return e},q.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},q.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var W=U.prototype;W.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var n=0,i=e.properties;n<i.length;n+=1){var s=i[n];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e},W.toAssignableList=function(e,t){for(var r=e.length,n=0;n<r;n++){var i=e[n];i&&this.toAssignable(i,t)}if(r){var s=e[r-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},W.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},W.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==b.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},W.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()},W.parseBindingList=function(e,t,r){for(var n=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(b.comma),t&&this.type===b.comma)n.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===b.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),n.push(s),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),n.push(a)}return n},W.parseBindingListItem=function(e){return e},W.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return r;var n=this.startNodeAt(e,t);return n.left=r,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},W.checkLVal=function(e,t,r){switch(void 0===t&&(t=0),e.type){case"Identifier":2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(I(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),0!==t&&5!==t&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var n=0,i=e.properties;n<i.length;n+=1){var s=i[n];this.checkLVal(s,t,r)}break;case"Property":this.checkLVal(e.value,t,r);break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var u=o[a];u&&this.checkLVal(u,t,r)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r);break;case"RestElement":this.checkLVal(e.argument,t,r);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var X=U.prototype;X.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var n,i=e.key;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===n&&"init"===s&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[n="$"+n];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):a=t[n]={init:!1,get:!1,set:!1},a[s]=!0}}},X.parseExpression=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===b.comma){var s=this.startNodeAt(r,n);for(s.expressions=[i];this.eat(b.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},X.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var n=!1,i=-1,s=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new V,n=!0);var a=this.start,o=this.startLoc;this.type!==b.parenL&&this.type!==b.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(e,t);if(r&&(u=r.call(this,u,a,o)),this.type.isAssign){var l=this.startNodeAt(a,o);return l.operator=this.value,l.left=this.type===b.eq?this.toAssignable(u,!1,t):u,n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.left.start&&(t.shorthandAssign=-1),this.checkLVal(u),this.next(),l.right=this.parseMaybeAssign(e),this.finishNode(l,"AssignmentExpression")}return n&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),u},X.parseMaybeConditional=function(e,t){var r=this.start,n=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(b.question)){var s=this.startNodeAt(r,n);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(b.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},X.parseExprOps=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===r&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,r,n,-1,e)},X.parseExprOp=function(e,t,r,n,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==b._in)&&s>n){var a=this.type===b.logicalOR||this.type===b.logicalAND,o=this.value;this.next();var u=this.start,l=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),u,l,s,i),h=this.buildBinary(t,r,e,c,o,a);return this.parseExprOp(h,t,r,n,i)}return e},X.buildBinary=function(e,t,r,n,i,s){var a=this.startNodeAt(e,t);return a.left=r,a.operator=i,a.right=n,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},X.parseMaybeUnary=function(e,t){var r,n=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===b.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,r=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(n,i);o.operator=this.value,o.prefix=!1,o.argument=r,this.checkLVal(r),this.next(),r=this.finishNode(o,"UpdateExpression")}}return!t&&this.eat(b.starstar)?this.buildBinary(n,i,r,this.parseMaybeUnary(null,!1),"**",!1):r},X.parseExprSubscripts=function(e){var t=this.start,r=this.startLoc,n=this.parseExprAtom(e);if("ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return n;var i=this.parseSubscripts(n,t,r);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},X.parseSubscripts=function(e,t,r,n){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var s=this.parseSubscript(e,t,r,n,i);if(s===e||"ArrowFunctionExpression"===s.type)return s;e=s}},X.parseSubscript=function(e,t,r,n,i){var s=this.eat(b.bracketL);if(s||this.eat(b.dot)){var a=this.startNodeAt(t,r);a.object=e,a.property=s?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),a.computed=!!s,s&&this.expect(b.bracketR),e=this.finishNode(a,"MemberExpression")}else if(!n&&this.eat(b.parenL)){var o=new V,u=this.yieldPos,l=this.awaitPos,c=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,o);if(i&&!this.canInsertSemicolon()&&this.eat(b.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=l,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(t,r),h,!0);this.checkExpressionErrors(o,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=l||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;var p=this.startNodeAt(t,r);p.callee=e,p.arguments=h,e=this.finishNode(p,"CallExpression")}else if(this.type===b.backQuote){var f=this.startNodeAt(t,r);f.tag=e,f.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(f,"TaggedTemplateExpression")}return e},X.parseExprAtom=function(e){this.type===b.slash&&this.readRegexp();var t,r=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==b.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(t,"Super");case b._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case b.name:var n=this.start,i=this.startLoc,s=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(b._function))return this.parseFunction(this.startNodeAt(n,i),0,!1,!0);if(r&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(n,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===b.name&&!s)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(b.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,i),[a],!0)}return a;case b.regexp:var o=this.value;return(t=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},t;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return(t=this.startNode()).value=this.type===b._null?null:this.type===b._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case b.parenL:var u=this.start,l=this.parseParenAndDistinguishExpression(r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),l;case b.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(b.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case b.braceL:return this.parseObj(!1,e);case b._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},X.parseExprImport=function(){var e=this.startNode();switch(this.next(),this.type){case b.parenL:return this.parseDynamicImport(e);default:this.unexpected()}},X.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(b.parenR)){var t=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},X.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},X.parseParenExpression=function(){this.expect(b.parenL);var e=this.parseExpression();return this.expect(b.parenR),e},X.parseParenAndDistinguishExpression=function(e){var t,r=this.start,n=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,o=this.startLoc,u=[],l=!0,c=!1,h=new V,p=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;){if(l?l=!1:this.expect(b.comma),i&&this.afterTrailingComma(b.parenR,!0)){c=!0;break}if(this.type===b.ellipsis){s=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var m=this.start,d=this.startLoc;if(this.expect(b.parenR),e&&!this.canInsertSemicolon()&&this.eat(b.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=f,this.parseParenArrowList(r,n,u);u.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,u.length>1?((t=this.startNodeAt(a,o)).expressions=u,this.finishNodeAt(t,"SequenceExpression",m,d)):t=u[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(r,n);return g.expression=t,this.finishNode(g,"ParenthesizedExpression")}return t},X.parseParenItem=function(e){return e},X.parseParenArrowList=function(e,t,r){return this.parseArrowExpression(this.startNodeAt(e,t),r)};var Y=[];X.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(b.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||r)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var n=this.start,i=this.startLoc,s=this.type===b._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),n,i,!0),s&&"ImportExpression"===e.callee.type&&this.raise(n,"Cannot use new with import()"),this.eat(b.parenL)?e.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Y,this.finishNode(e,"NewExpression")},X.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===b.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),r.tail=this.type===b.backQuote,this.finishNode(r,"TemplateElement")},X.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(r.quasis=[n];!n.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(b.braceR),r.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")},X.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},X.parseObj=function(e,t){var r=this.startNode(),n=!0,i={};for(r.properties=[],this.next();!this.eat(b.braceR);){if(n)n=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),r.properties.push(s)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")},X.parseProperty=function(e,t){var r,n,i,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===b.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===b.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(i=this.start,s=this.startLoc),e||(r=this.eat(b.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(a)?(n=!0,r=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(a,t)):n=!1,this.parsePropertyValue(a,e,r,n,i,s,t,o),this.finishNode(a,"Property")},X.parsePropertyValue=function(e,t,r,n,i,s,a,o){if((r||n)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===b.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,n);else if(t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===b.comma||this.type===b.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((r||n)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,e.key):this.type===b.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(r||n)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var u="get"===e.kind?0:1;if(e.value.params.length!==u){var l=e.value.start;"get"===e.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},X.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(b.bracketR),e.key;e.computed=!1}return e.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},X.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},X.parseMethod=function(e,t,r){var n=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|F(t,n.generator)|(r?128:0)),this.expect(b.parenL),n.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(n,"FunctionExpression")},X.parseArrowExpression=function(e,t,r){var n=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|F(r,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=n,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},X.parseFunctionBody=function(e,t,r){var n=t&&this.type!==b.braceL,i=this.strict,s=!1;if(n)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!a||(s=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!i&&!s&&!t&&!r&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,5),this.strict=i},X.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1)if("Identifier"!==r[t].type)return!1;return!0},X.checkParams=function(e,t){for(var r={},n=0,i=e.params;n<i.length;n+=1){var s=i[n];this.checkLVal(s,1,t?null:r)}},X.parseExprList=function(e,t,r,n){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(b.comma),t&&this.afterTrailingComma(e))break;var a=void 0;r&&this.type===b.comma?a=null:this.type===b.ellipsis?(a=this.parseSpread(n),n&&this.type===b.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):a=this.parseMaybeAssign(!1,n),i.push(a)}return i},X.checkUnreserved=function(e){var t=e.start,r=e.end,n=e.name;this.inGenerator&&"yield"===n&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,r).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))},X.parseIdent=function(e,t){var r=this.startNode();return this.type===b.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,"class"!==r.name&&"function"!==r.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),"await"!==r.name||this.awaitIdentPos||(this.awaitIdentPos=r.start)),r},X.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(b.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},X.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var Z=U.prototype;Z.raise=function(e,t){var r=R(this.input,e);t+=" ("+r.line+":"+r.column+")";var n=new SyntaxError(t);throw n.pos=e,n.loc=r,n.raisedAt=this.pos,n},Z.raiseRecoverable=Z.raise,Z.curPosition=function(){if(this.options.locations)return new k(this.curLine,this.pos-this.lineStart)};var J=U.prototype,Q=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};J.enterScope=function(e){this.scopeStack.push(new Q(e))},J.exitScope=function(){this.scopeStack.pop()},J.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},J.declareName=function(e,t,r){var n=!1;if(2===t){var i=this.currentScope();n=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var s=this.currentScope();n=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){n=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],3&o.flags)break}n&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")},J.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},J.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},J.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags)return t}},J.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags&&!(16&t.flags))return t}};var ee=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new D(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},te=U.prototype;function re(e,t,r,n){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=r),e}te.startNode=function(){return new ee(this,this.start,this.startLoc)},te.startNodeAt=function(e,t){return new ee(this,e,t)},te.finishNode=function(e,t){return re.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},te.finishNodeAt=function(e,t,r,n){return re.call(this,e,t,r,n)};var ne=function(e,t,r,n,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=n,this.generator=!!i},ie={b_stat:new ne("{",!1),b_expr:new ne("{",!0),b_tmpl:new ne("${",!1),p_stat:new ne("(",!1),p_expr:new ne("(",!0),q_tmpl:new ne("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new ne("function",!1),f_expr:new ne("function",!0),f_expr_gen:new ne("function",!0,!1,null,!0),f_gen:new ne("function",!1,!1,null,!0)},se=U.prototype;se.initialContext=function(){return[ie.b_stat]},se.braceIsBlock=function(e){var t=this.curContext();return t===ie.f_expr||t===ie.f_stat||(e!==b.colon||t!==ie.b_stat&&t!==ie.b_expr?e===b._return||e===b.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):e===b._else||e===b.semi||e===b.eof||e===b.parenR||e===b.arrow||(e===b.braceL?t===ie.b_stat:e!==b._var&&e!==b._const&&e!==b.name&&!this.exprAllowed):!t.isExpr)},se.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},se.updateContext=function(e){var t,r=this.type;r.keyword&&e===b.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr},b.parenR.updateContext=b.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===ie.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},b.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ie.b_stat:ie.b_expr),this.exprAllowed=!0},b.dollarBraceL.updateContext=function(){this.context.push(ie.b_tmpl),this.exprAllowed=!0},b.parenL.updateContext=function(e){var t=e===b._if||e===b._for||e===b._with||e===b._while;this.context.push(t?ie.p_stat:ie.p_expr),this.exprAllowed=!0},b.incDec.updateContext=function(){},b._function.updateContext=b._class.updateContext=function(e){!e.beforeExpr||e===b.semi||e===b._else||e===b._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(e===b.colon||e===b.braceL)&&this.curContext()===ie.b_stat?this.context.push(ie.f_stat):this.context.push(ie.f_expr),this.exprAllowed=!1},b.backQuote.updateContext=function(){this.curContext()===ie.q_tmpl?this.context.pop():this.context.push(ie.q_tmpl),this.exprAllowed=!1},b.star.updateContext=function(e){if(e===b._function){var t=this.context.length-1;this.context[t]===ie.f_expr?this.context[t]=ie.f_expr_gen:this.context[t]=ie.f_gen}this.exprAllowed=!0},b.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==b.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ae="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",oe={9:ae,10:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic",11:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic"},ue="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",le="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ce={9:le,10:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",11:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},he={};function pe(e){var t=he[e]={binary:O(oe[e]+" "+ue),nonBinary:{General_Category:O(ue),Script:O(ce[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}pe(9),pe(10),pe(11);var fe=U.prototype,me=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=he[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function de(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function ge(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function ye(e){return e>=65&&e<=90||e>=97&&e<=122}function ve(e){return ye(e)||95===e}function xe(e){return ve(e)||be(e)}function be(e){return e>=48&&e<=57}function we(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Se(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Ee(e){return e>=48&&e<=55}me.prototype.reset=function(e,t,r){var n=-1!==r.indexOf("u");this.start=0|e,this.source=t+"",this.flags=r,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9},me.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},me.prototype.at=function(e){var t=this.source,r=t.length;if(e>=r)return-1;var n=t.charCodeAt(e);if(!this.switchU||n<=55295||n>=57344||e+1>=r)return n;var i=t.charCodeAt(e+1);return i>=56320&&i<=57343?(n<<10)+i-56613888:n},me.prototype.nextIndex=function(e){var t=this.source,r=t.length;if(e>=r)return r;var n,i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=r||(n=t.charCodeAt(e+1))<56320||n>57343?e+1:e+2},me.prototype.current=function(){return this.at(this.pos)},me.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},me.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},me.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},fe.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,n=0;n<r.length;n++){var i=r.charAt(n);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(i,n+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},fe.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},fe.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var n=r[t];-1===e.groupNames.indexOf(n)&&e.raise("Invalid named capture referenced")}},fe.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},fe.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},fe.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},fe.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1},fe.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},fe.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},fe.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var n=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<n&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1},fe.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},fe.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},fe.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},fe.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},fe.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},fe.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},fe.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!ge(t)&&(e.lastIntValue=t,e.advance(),!0)},fe.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;-1!==(r=e.current())&&!ge(r);)e.advance();return e.pos!==t},fe.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},fe.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},fe.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},fe.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=de(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=de(e.lastIntValue);return!0}return!1},fe.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),function(e){return p(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},fe.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),function(e){return f(e,!0)||36===e||95===e||8204===e||8205===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},fe.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},fe.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1},fe.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},fe.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},fe.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},fe.regexp_eatZero=function(e){return 48===e.current()&&!be(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},fe.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},fe.regexp_eatControlLetter=function(e){var t=e.current();return!!ye(t)&&(e.lastIntValue=t%32,e.advance(),!0)},fe.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t,r=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(e.switchU&&n>=55296&&n<=56319){var i=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=1024*(n-55296)+(s-56320)+65536,!0}e.pos=i,e.lastIntValue=n}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(t=e.lastIntValue)>=0&&t<=1114111)return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=r}return!1},fe.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},fe.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},fe.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},fe.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,n),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},fe.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){I(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")},fe.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},fe.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";ve(t=e.current());)e.lastStringValue+=de(t),e.advance();return""!==e.lastStringValue},fe.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";xe(t=e.current());)e.lastStringValue+=de(t),e.advance();return""!==e.lastStringValue},fe.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},fe.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},fe.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;!e.switchU||-1!==t&&-1!==r||e.raise("Invalid character class"),-1!==t&&-1!==r&&t>r&&e.raise("Range out of order in character class")}}},fe.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(99===r||Ee(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var n=e.current();return 93!==n&&(e.lastIntValue=n,e.advance(),!0)},fe.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},fe.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!be(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},fe.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},fe.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;be(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t},fe.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;we(r=e.current());)e.lastIntValue=16*e.lastIntValue+Se(r),e.advance();return e.pos!==t},fe.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*r+e.lastIntValue:e.lastIntValue=8*t+r}else e.lastIntValue=t;return!0}return!1},fe.regexp_eatOctalDigit=function(e){var t=e.current();return Ee(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},fe.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var n=0;n<t;++n){var i=e.current();if(!we(i))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+Se(i),e.advance()}return!0};var Ae=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new D(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Te=U.prototype;function Me(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}Te.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ae(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Te.getToken=function(){return this.next(),new Ae(this)},"undefined"!=typeof Symbol&&(Te[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===b.eof,value:t}}}}),Te.curContext=function(){return this.context[this.context.length-1]},Te.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(b.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Te.readToken=function(e){return p(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Te.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},Te.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),r=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(S.lastIndex=r;(e=S.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,n),r,this.pos,t,this.curPosition())},Te.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!E(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())},Te.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&A.test(String.fromCharCode(e))))break e;++this.pos}}},Te.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)},Te.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))},Te.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(b.assign,2):this.finishOp(b.slash,1)},Te.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,n=42===e?b.star:b.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++r,n=b.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(b.assign,r+1):this.finishOp(n,r)},Te.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?b.logicalOR:b.logicalAND,2):61===t?this.finishOp(b.assign,2):this.finishOp(124===e?b.bitwiseOR:b.bitwiseAND,1)},Te.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)},Te.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(b.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)},Te.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+r)?this.finishOp(b.assign,r+1):this.finishOp(b.bitShift,r)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(r=2),this.finishOp(b.relational,r)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Te.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(b.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(61===e?b.eq:b.prefix,1)},Te.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 63:return++this.pos,this.finishToken(b.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(b.prefix,1)}this.raise(this.pos,"Unexpected character '"+Me(e)+"'")},Te.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)},Te.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(w.test(n)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if("["===n)t=!0;else if("]"===n&&t)t=!1;else if("/"===n&&!t)break;e="\\"===n}++this.pos}var i=this.input.slice(r,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new me(this));o.reset(r,i,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var u=null;try{u=new RegExp(i,a)}catch(e){}return this.finishToken(b.regexp,{pattern:i,flags:a,value:u})},Te.readInt=function(e,t){for(var r=this.pos,n=0,i=0,s=null==t?1/0:t;i<s;++i){var a,o=this.input.charCodeAt(this.pos);if((a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0)>=e)break;++this.pos,n=n*e+a}return this.pos===r||null!=t&&this.pos-r!==t?null:n},Te.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,r)},Te.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===n){var i=this.input.slice(t,this.pos),s="undefined"!=typeof BigInt?BigInt(i):null;return++this.pos,p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,s)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),46!==n||r||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||r||(43!==(n=this.input.charCodeAt(++this.pos))&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(t,this.pos),o=r?parseInt(a,8):parseFloat(a);return this.finishToken(b.num,o)},Te.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Te.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===e)break;92===n?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):(E(n,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(b.string,t)};var _e={};Te.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==_e)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Te.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw _e;this.raise(e,t)},Te.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(96===r||36===r&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==b.template&&this.type!==b.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(b.template,e)):36===r?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote));if(92===r)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(E(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(r)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Te.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Te.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Me(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return E(t)?"":String.fromCharCode(t)}},Te.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return null===r&&this.invalidStringToken(t,"Bad character escape sequence"),r},Te.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(f(i,n))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(r,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?p:f)(a,n)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Me(a),r=this.pos}t=!1}return e+this.input.slice(r,this.pos)},Te.readWord=function(){var e=this.readWord1(),t=b.name;return this.keywords.test(e)&&(t=v[e]),this.finishToken(t,e)},U.acorn={Parser:U,version:"7.1.0",defaultOptions:L,Position:k,SourceLocation:D,getLineInfo:R,Node:ee,TokenType:m,tokTypes:b,keywordTypes:v,TokContext:ne,tokContexts:ie,isIdentifierChar:f,isIdentifierStart:p,Token:Ae,isNewLine:E,lineBreak:w,lineBreakG:S,nonASCIIwhitespace:A},e.Node=ee,e.Parser=U,e.Position=k,e.SourceLocation=D,e.TokContext=ne,e.Token=Ae,e.TokenType=m,e.defaultOptions=L,e.getLineInfo=R,e.isIdentifierChar=f,e.isIdentifierStart=p,e.isNewLine=E,e.keywordTypes=v,e.lineBreak=w,e.lineBreakG=S,e.nonASCIIwhitespace=A,e.parse=function(e,t){return U.parse(e,t)},e.parseExpressionAt=function(e,t,r){return U.parseExpressionAt(e,t,r)},e.tokContexts=ie,e.tokTypes=b,e.tokenizer=function(e,t){return U.tokenizer(e,t)},e.version="7.1.0",Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof r&&void 0!==t?r:(n=n||self).acorn={})},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){function n(e,t={}){const{contextName:r="gl",throwGetError:n,useTrackablePrimitives:o,readPixelsFile:u,recording:l=[],variables:c={},onReadPixels:h,onUnrecognizedArgumentLookup:p}=t,f=new Proxy(e,{get:function(t,f){switch(f){case"addComment":return M;case"checkThrowError":return _;case"getReadPixelsVariableName":return g;case"insertVariable":return w;case"reset":return b;case"setIndent":return E;case"toString":return x;case"getContextVariableName":return C}return"function"==typeof e[f]?function(){switch(f){case"getError":return n?l.push(`${v}if (${r}.getError() !== ${r}.NONE) throw new Error('error');`):l.push(`${v}${r}.getError();`),e.getError();case"getExtension":{const t=`${r}Variables${m.length}`;l.push(`${v}const ${t} = ${r}.getExtension('${arguments[0]}');`);const n=e.getExtension(arguments[0]);if(n&&"object"==typeof n){const e=i(n,{getEntity:S,useTrackablePrimitives:o,recording:l,contextName:t,contextVariables:m,variables:c,indent:v,onUnrecognizedArgumentLookup:p});return m.push(e),e}return m.push(null),n}case"readPixels":const t=m.indexOf(arguments[6]);let a;if(-1===t){const e=I(arguments[6]);e?(a=e,l.push(`${v}${e}`)):(a=`${r}Variable${m.length}`,m.push(arguments[6]),l.push(`${v}const ${a} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else a=`${r}Variable${t}`;g=a;const f=[arguments[0],arguments[1],arguments[2],arguments[3],S(arguments[4]),S(arguments[5]),a];return l.push(`${v}${r}.readPixels(${f.join(", ")});`),u&&T(arguments[2],arguments[3]),h&&h(a,f),e.readPixels.apply(e,arguments);case"drawBuffers":return l.push(`${v}${r}.drawBuffers([${s(arguments[0],{contextName:r,contextVariables:m,getEntity:S,addVariable:A,variables:c,onUnrecognizedArgumentLookup:p})}]);`),e.drawBuffers(arguments[0])}let t=e[f].apply(e,arguments);switch(typeof t){case"undefined":return void l.push(`${v}${N(f,arguments)};`);case"number":case"boolean":if(o&&-1===m.indexOf(a(t))){l.push(`${v}const ${r}Variable${m.length} = ${N(f,arguments)};`),m.push(t=a(t));break}default:null===t?l.push(N(f,arguments)+";"):l.push(`${v}const ${r}Variable${m.length} = ${N(f,arguments)};`),m.push(t)}return t}:(d[e[f]]=f,e[f])}}),m=[],d={};let g,y=0,v="";return f;function x(){return l.join("\n")}function b(){for(;l.length>0;)l.pop()}function w(e,t){c[e]=t}function S(e){const t=d[e];return t?r+"."+t:e}function E(e){v=" ".repeat(e)}function A(e,t){const n=`${r}Variable${m.length}`;return l.push(`${v}const ${n} = ${t};`),m.push(e),n}function T(e,t){const n=`${r}Variable${m.length}`,i="imageDatum"+y;l.push(`${v}let ${i} = ["P3\\n# ${u}.ppm\\n", ${e}, ' ', ${t}, "\\n255\\n"].join("");`),l.push(`${v}for (let i = 0; i < ${i}.length; i += 4) {`),l.push(`${v}  ${i} += ${n}[i] + ' ' + ${n}[i + 1] + ' ' + ${n}[i + 2] + ' ';`),l.push(v+"}"),l.push(v+'if (typeof require !== "undefined") {'),l.push(`${v}  require('fs').writeFileSync('./${u}.ppm', ${i});`),l.push(v+"}"),y++}function M(e){l.push(`${v}// ${e}`)}function _(){l.push(`${v}(() => {\n${v}const error = ${r}.getError();\n${v}if (error !== ${r}.NONE) {\n${v}  const names = Object.getOwnPropertyNames(gl);\n${v}  for (let i = 0; i < names.length; i++) {\n${v}    const name = names[i];\n${v}    if (${r}[name] === error) {\n${v}      throw new Error('${r} threw ' + name);\n${v}    }\n${v}  }\n${v}}\n${v}})();`)}function N(e,t){return`${r}.${e}(${s(t,{contextName:r,contextVariables:m,getEntity:S,addVariable:A,variables:c,onUnrecognizedArgumentLookup:p})})`}function I(e){if(c)for(const t in c)if(c[t]===e)return t;return null}function C(e){const t=m.indexOf(e);return-1!==t?`${r}Variable${t}`:null}}function i(e,t){const r=new Proxy(e,{get:function(t,r){return"function"==typeof t[r]?function(){switch(r){case"drawBuffersWEBGL":return c.push(`${p}${i}.drawBuffersWEBGL([${s(arguments[0],{contextName:i,contextVariables:o,getEntity:m,addVariable:g,variables:h,onUnrecognizedArgumentLookup:f})}]);`),e.drawBuffersWEBGL(arguments[0])}let t=e[r].apply(e,arguments);switch(typeof t){case"undefined":return void c.push(`${p}${d(r,arguments)};`);case"number":case"boolean":l&&-1===o.indexOf(a(t))?(c.push(`${p}const ${i}Variable${o.length} = ${d(r,arguments)};`),o.push(t=a(t))):(c.push(`${p}const ${i}Variable${o.length} = ${d(r,arguments)};`),o.push(t));break;default:null===t?c.push(d(r,arguments)+";"):c.push(`${p}const ${i}Variable${o.length} = ${d(r,arguments)};`),o.push(t)}return t}:(n[e[r]]=r,e[r])}}),n={},{contextName:i,contextVariables:o,getEntity:u,useTrackablePrimitives:l,recording:c,variables:h,indent:p,onUnrecognizedArgumentLookup:f}=t;return r;function m(e){return n.hasOwnProperty(e)?`${i}.${n[e]}`:u(e)}function d(e,t){return`${i}.${e}(${s(t,{contextName:i,contextVariables:o,getEntity:m,addVariable:g,variables:h,onUnrecognizedArgumentLookup:f})})`}function g(e,t){const r=`${i}Variable${o.length}`;return o.push(e),c.push(`${p}const ${r} = ${t};`),r}}function s(e,t){const{variables:r,onUnrecognizedArgumentLookup:n}=t;return Array.from(e).map(e=>function(e){if(r)for(const t in r)if(r.hasOwnProperty(t)&&r[t]===e)return t;return n?n(e):null}(e)||function(e,t){const{contextName:r,contextVariables:n,getEntity:i,addVariable:s,onUnrecognizedArgumentLookup:a}=t;if(void 0===e)return"undefined";if(null===e)return"null";const o=n.indexOf(e);if(o>-1)return`${r}Variable${o}`;switch(e.constructor.name){case"String":const t=/\n/.test(e),r=/'/.test(e),n=/"/.test(e);return t?"`"+e+"`":r&&!n?'"'+e+'"':"'"+e+"'";case"Number":case"Boolean":return i(e);case"Array":return s(e,`new ${e.constructor.name}([${Array.from(e).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return s(e,`new ${e.constructor.name}(${JSON.stringify(Array.from(e))})`);default:if(a){const t=a(e);if(t)return t}throw new Error("unrecognized argument type "+e.constructor.name)}}(e,t)).join(", ")}function a(e){return new e.constructor(e)}void 0!==t&&(t.exports={glWiretap:n,glExtensionWiretap:i}),"undefined"!=typeof window&&(n.glExtensionWiretap=i,window.glWiretap=n)},{}],4:[function(e,t,r){function n(e){const t=new Array(e.length);for(let r=0;r<e.length;r++){const n=e[r];n.toArray?t[r]=n.toArray():t[r]=n}return t}function i(){const e=n(arguments),t=new Float32Array(this.output.x);for(let r=0;r<this.output.x;r++)this.thread.x=r,this.thread.y=0,this.thread.z=0,t[r]=this._fn.apply(this,e);return t}function s(){const e=n(arguments),t=new Array(this.output.y);for(let r=0;r<this.output.y;r++){const n=new Float32Array(this.output.x);for(let t=0;t<this.output.x;t++)this.thread.x=t,this.thread.y=r,this.thread.z=0,n[t]=this._fn.apply(this,e);t[r]=n}return t}function a(){const e=n(arguments);for(let t=0;t<this.output.y;t++)for(let r=0;r<this.output.x;r++)this.thread.x=r,this.thread.y=t,this.thread.z=0,this._fn.apply(this,e)}function o(){const e=n(arguments),t=new Array(this.output.z);for(let r=0;r<this.output.z;r++){const n=new Array(this.output.y);for(let t=0;t<this.output.y;t++){const i=new Float32Array(this.output.x);for(let n=0;n<this.output.x;n++)this.thread.x=n,this.thread.y=t,this.thread.z=r,i[n]=this._fn.apply(this,e);n[t]=i}t[r]=n}return t}function u(e){const{x:t,y:r}=e.output;if(e.context&&e.context.createImageData){const n=new Uint8ClampedArray(t*r*4);e._imageData=e.context.createImageData(t,r),e._colorData=n}else{const n=new Uint8ClampedArray(t*r*4);e._imageData={data:n},e._colorData=n}}function l(e){let t=null;if(e.length)if(3===e.length){const[r,n,i]=e;t={x:r,y:n,z:i}}else if(2===e.length){const[r,n]=e;t={x:r,y:n}}else{const[r]=e;t={x:r}}else t=e;return t}t.exports={gpuMock:function(e,t={}){const r=t.output?l(t.output):null;function n(){return n.output.z?o.apply(n,arguments):n.output.y?n.graphical?a.apply(n,arguments):s.apply(n,arguments):i.apply(n,arguments)}return n._fn=e,n.constants=t.constants||null,n.context=t.context||null,n.canvas=t.canvas||null,n.graphical=t.graphical||!1,n._imageData=null,n._colorData=null,n.output=r,n.thread={x:0,y:0,z:0},function(e){e.setOutput=t=>{e.output=l(t),e.graphical&&u(e)},e.toJSON=()=>{throw new Error("Not usable with gpuMock")},e.setConstants=t=>(e.constants=t,e),e.setGraphical=t=>(e.graphical=t,e),e.setCanvas=t=>(e.canvas=t,e),e.setContext=t=>(e.context=t,e),e.destroy=()=>{},e.validateSettings=()=>{},e.graphical&&e.output&&u(e),e.exec=function(){return new Promise((t,r)=>{try{t(e.apply(e,arguments))}catch(e){r(e)}})},e.getPixels=t=>{const{x:r,y:n}=e.output;return t?function(e,t,r){const n=r/2|0,i=4*t,s=new Uint8ClampedArray(4*t),a=e.slice(0);for(let e=0;e<n;++e){const t=e*i,n=(r-e-1)*i;s.set(a.subarray(t,t+i)),a.copyWithin(t,n,n+i),a.set(s,n)}return a}(e._imageData.data,r,n):e._imageData.data.slice(0)},e.color=function(t,r,n,i){void 0===i&&(i=1),t=Math.floor(255*t),r=Math.floor(255*r),n=Math.floor(255*n),i=Math.floor(255*i);const s=e.output.x,a=e.output.y,o=e.thread.x+(a-e.thread.y-1)*s;e._colorData[4*o+0]=t,e._colorData[4*o+1]=r,e._colorData[4*o+2]=n,e._colorData[4*o+3]=i};const t=()=>e,r=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let n=0;n<r.length;n++)e[r[n]]=t;return e}(n)}}},{}],5:[function(e,t,r){const{utils:n}=e("./utils");t.exports={alias:function(e,t){const r=t.toString();return new Function(`return function ${e} (${n.getArgumentNamesFromString(r).join(", ")}) {\n  ${n.getFunctionBodyFromString(r)}\n}`)()}}},{"./utils":114}],6:[function(e,t,r){const{FunctionNode:n}=e("../function-node");t.exports={CPUFunctionNode:class extends n{astFunction(e,t){if(!this.isRootKernel){t.push("function"),t.push(" "),t.push(this.name),t.push("(");for(let e=0;e<this.argumentNames.length;++e){const r=this.argumentNames[e];e>0&&t.push(", "),t.push("user_"),t.push(r)}t.push(") {\n")}for(let r=0;r<e.body.body.length;++r)this.astGeneric(e.body.body[r],t),t.push("\n");return this.isRootKernel||t.push("}\n"),t}astReturnStatement(e,t){const r=this.returnType||this.getType(e.argument);return this.returnType||(this.returnType=r),this.isRootKernel?(t.push(this.leadingReturnStatement),this.astGeneric(e.argument,t),t.push(";\n"),t.push(this.followingReturnStatement),t.push("continue;\n")):this.isSubKernel?(t.push(`subKernelResult_${this.name} = `),this.astGeneric(e.argument,t),t.push(";"),t.push(`return subKernelResult_${this.name};`)):(t.push("return "),this.astGeneric(e.argument,t),t.push(";")),t}astLiteral(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);return t.push(e.value),t}astBinaryExpression(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);switch(e.name){case"Infinity":t.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(e.name)?t.push("constants_"+e.name):t.push("user_"+e.name)}return t}astForStatement(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);const r=[],n=[],i=[],s=[];let a=null;if(e.init){this.pushState("in-for-loop-init"),this.astGeneric(e.init,r);for(let e=0;e<r.length;e++)r[e].includes&&r[e].includes(",")&&(a=!1);this.popState("in-for-loop-init")}else a=!1;if(e.test?this.astGeneric(e.test,n):a=!1,e.update?this.astGeneric(e.update,i):a=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,s),this.popState("loop-body")),null===a&&(a=this.isSafe(e.init)&&this.isSafe(e.test)),a)t.push(`for (${r.join("")};${n.join("")};${i.join("")}){\n`),t.push(s.join("")),t.push("}\n");else{const e=this.getInternalVariableName("safeI");r.length>0&&t.push(r.join(""),";\n"),t.push(`for (let ${e}=0;${e}<LOOP_MAX;${e}++){\n`),n.length>0&&t.push(`if (!${n.join("")}) break;\n`),t.push(s.join("")),t.push(`\n${i.join("")};`),t.push("}\n")}return t}astWhileStatement(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),t.push("if ("),this.astGeneric(e.test,t),t.push(") {\n"),this.astGeneric(e.body,t),t.push("} else {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}astDoWhileStatement(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}astAssignmentExpression(e,t){const r=this.getDeclaration(e.left);if(r&&!r.assignable)throw this.astErrorOutput(`Variable ${e.left.name} is not assignable here`,e);return this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t}astBlockStatement(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(let r=0;r<e.body.length;r++)this.astGeneric(e.body[r],t);this.popState("block-body")}else{t.push("{\n");for(let r=0;r<e.body.length;r++)this.astGeneric(e.body[r],t);t.push("}\n")}return t}astVariableDeclaration(e,t){t.push(e.kind+" ");const{declarations:r}=e;for(let e=0;e<r.length;e++){e>0&&t.push(",");const n=r[e],i=this.getDeclaration(n.id);i.valueType||(i.valueType=this.getType(n.init)),this.astGeneric(n,t)}return this.isState("in-for-loop-init")||t.push(";"),t}astIfStatement(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}astSwitchStatement(e,t){const{discriminant:r,cases:n}=e;t.push("switch ("),this.astGeneric(r,t),t.push(") {\n");for(let e=0;e<n.length;e++)null!==n[e].test?(t.push("case "),this.astGeneric(n[e].test,t),t.push(":\n"),n[e].consequent&&n[e].consequent.length>0&&(this.astGeneric(n[e].consequent,t),t.push("break;\n"))):(t.push("default:\n"),this.astGeneric(n[e].consequent,t),n[e].consequent&&n[e].consequent.length>0&&t.push("break;\n"));t.push("\n}")}astThisExpression(e,t){return t.push("_this"),t}astMemberExpression(e,t){const{signature:r,type:n,property:i,xProperty:s,yProperty:a,zProperty:o,name:u,origin:l}=this.getMemberExpressionDetails(e);switch(r){case"this.thread.value":return t.push("_this.thread."+u),t;case"this.output.value":switch(u){case"x":t.push("outputX");break;case"y":t.push("outputY");break;case"z":t.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value.value":if("Math"===l)return t.push(Math[u]),t;switch(i){case"r":return t.push(`user_${u}[0]`),t;case"g":return t.push(`user_${u}[1]`),t;case"b":return t.push(`user_${u}[2]`),t;case"a":return t.push(`user_${u}[3]`),t}break;case"value.value[]":return this.removeIstanbulCoverage||t.push(`${e.object.object.name}.${e.object.property.name}[${e.property.value}]`),t;case"value.value[][]":return this.removeIstanbulCoverage||t.push(`${e.object.object.object.name}.${e.object.object.property.name}[${e.object.property.value}][${e.property.value}]`),t;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(e.object,t),t.push("["),this.astGeneric(e.property,t),t.push("]"),t;default:throw this.astErrorOutput("Unexpected expression",e)}if(!e.computed)switch(n){case"Number":case"Integer":case"Float":case"Boolean":return t.push(`${l}_${u}`),t}const c=`${l}_${u}`;switch(n){case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let e,r;if("constants"===l){const t=this.constants[u];r="Input"===this.constantTypes[u],e=r?t.size:null}else r=this.isInput(u),e=r?this.argumentSizes[this.argumentNames.indexOf(u)]:null;t.push(""+c),o&&a?r?(t.push("[("),this.astGeneric(o,t),t.push(`*${this.dynamicArguments?"(outputY * outputX)":e[1]*e[0]})+(`),this.astGeneric(a,t),t.push(`*${this.dynamicArguments?"outputX":e[0]})+`),this.astGeneric(s,t),t.push("]")):(t.push("["),this.astGeneric(o,t),t.push("]"),t.push("["),this.astGeneric(a,t),t.push("]"),t.push("["),this.astGeneric(s,t),t.push("]")):a?r?(t.push("[("),this.astGeneric(a,t),t.push(`*${this.dynamicArguments?"outputX":e[0]})+`),this.astGeneric(s,t),t.push("]")):(t.push("["),this.astGeneric(a,t),t.push("]"),t.push("["),this.astGeneric(s,t),t.push("]")):void 0!==s&&(t.push("["),this.astGeneric(s,t),t.push("]"))}return t}astCallExpression(e,t){if("CallExpression"!==e.type)throw this.astErrorOutput("Unknown CallExpression",e);let r=this.astMemberExpressionUnroll(e.callee);this.calledFunctions.indexOf(r)<0&&this.calledFunctions.push(r),this.isAstMathFunction(e),this.onFunctionCall&&this.onFunctionCall(this.name,r,e.arguments),t.push(r),t.push("(");const n=this.lookupFunctionArgumentTypes(r)||[];for(let i=0;i<e.arguments.length;++i){const s=e.arguments[i];let a=this.getType(s);n[i]||this.triggerImplyArgumentType(r,i,a,this),i>0&&t.push(", "),this.astGeneric(s,t)}return t.push(")"),t}astArrayExpression(e,t){const r=e.elements.length;t.push("new Float32Array([");for(let n=0;n<r;++n){n>0&&t.push(", ");const r=e.elements[n];this.astGeneric(r,t)}return t.push("])"),t}astDebuggerStatement(e,t){return t.push("debugger;"),t}}}},{"../function-node":10}],7:[function(e,t,r){const{utils:n}=e("../../utils");t.exports={cpuKernelString:function(e,t){const r=[],i=[],s=[],a=!/^function/.test(e.color.toString());if(r.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(e.output))});`,`  const _constantTypes = ${JSON.stringify(e.constantTypes)};`,`  const _constants = ${function(e,t){const r=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];switch(i){case"Number":case"Integer":case"Float":case"Boolean":r.push(`${n}:${s}`);break;case"Array(2)":case"Array(3)":case"Array(4)":r.push(`${n}:new ${s.constructor.name}(${JSON.stringify(Array.from(s))})`)}}return`{ ${r.join()} }`}(e.constants,e.constantTypes)};`),i.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),e.graphical){r.push(`  const _imageData = context.createImageData(${e.output[0]}, ${e.output[1]});`),r.push(`  const _colorData = new Uint8ClampedArray(${e.output[0]} * ${e.output[1]} * 4);`);const t=n.flattenFunctionToString((a?"function ":"")+e.color.toString(),{thisLookup:t=>{switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:(e,t)=>null}),o=n.flattenFunctionToString((a?"function ":"")+e.getPixels.toString(),{thisLookup:t=>{switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:()=>null});i.push("    _imageData,","    _colorData,",`    color: ${t},`),s.push(`  kernel.getPixels = ${o};`)}const o=[],u=Object.keys(e.constantTypes);for(let t=0;t<u.length;t++)o.push(e.constantTypes[u]);if(-1!==e.argumentTypes.indexOf("HTMLImageArray")||-1!==o.indexOf("HTMLImageArray")){const t=n.flattenFunctionToString((a?"function ":"")+e._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(t,r)=>"this"===t?(a?"function ":"")+e[r].toString():null,thisLookup:e=>{switch(e){case"canvas":return;case"context":return"context"}}});s.push(t),i.push("    _mediaTo2DArray,"),i.push("    _imageTo3DArray,")}else if(-1!==e.argumentTypes.indexOf("HTMLImage")||-1!==o.indexOf("HTMLImage")){const t=n.flattenFunctionToString((a?"function ":"")+e._mediaTo2DArray.toString(),{findDependency:(e,t)=>null,thisLookup:e=>{switch(e){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});s.push(t),i.push("    _mediaTo2DArray,")}return`function(settings) {\n${r.join("\n")}\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${e._kernelString}\n  })\n    .apply({ ${i.join("\n")} });\n  ${s.join("\n")}\n  return kernel;\n}`}}},{"../../utils":114}],8:[function(e,t,r){const{Kernel:n}=e("../kernel"),{FunctionBuilder:i}=e("../function-builder"),{CPUFunctionNode:s}=e("./function-node"),{utils:a}=e("../../utils"),{cpuKernelString:o}=e("./kernel-string");t.exports={CPUKernel:class extends n{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(e){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error("Looking up native function return type not supported on "+this.name)}static combineKernels(e){return e}static getSignature(e,t){return"cpu"+(t.length>0?":"+t.join(","):"")}constructor(e,t){super(e,t),this.mergeSettings(e.settings||t),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){return"undefined"!=typeof document?document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(0,0):void 0}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(e){return[]}validateSettings(e){if(!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=a.getVariableType(e[0],this.strictIntegers);if("Array"===t)this.output=a.getDimensions(t);else{if("NumberTexture"!==t&&"ArrayTexture(4)"!==t)throw new Error("Auto output not supported for input type: "+t);this.output=e[0].output}}if(this.graphical&&2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const e=[];for(let t=0;t<this.subKernels.length;t++){const{name:r}=this.subKernels[t];e.push(this.output.length>1?`resultX_${r}[x] = subKernelResult_${r};\n`:`result_${r}[x] = subKernelResult_${r};\n`)}this.followingReturnStatement=e.join("")}const e=i.fromKernel(this,s);this.translatedSources=e.getPrototypes("kernel"),this.graphical||this.returnType||(this.returnType=e.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:e,output:t}=this;if(!e)throw new Error("no canvas available for using graphical output");const r=t[0],n=t[1]||1;e.width=r,e.height=n,this._imageData=this.context.createImageData(r,n),this._colorData=new Uint8ClampedArray(r*n*4)}const e=this.getKernelString();this.kernelString=e,this.debug&&(console.log("Function output:"),console.log(e));try{this.run=new Function([],e).bind(this)()}catch(e){console.error("An error occurred compiling the javascript: ",e)}this.buildSignature(arguments),this.built=!0}color(e,t,r,n){void 0===n&&(n=1),e=Math.floor(255*e),t=Math.floor(255*t),r=Math.floor(255*r),n=Math.floor(255*n);const i=this.output[0],s=this.output[1],a=this.thread.x+(s-this.thread.y-1)*i;this._colorData[4*a+0]=e,this._colorData[4*a+1]=t,this._colorData[4*a+2]=r,this._colorData[4*a+3]=n}getKernelString(){if(null!==this._kernelString)return this._kernelString;let e=null,{translatedSources:t}=this;return t.length>1?t=t.filter(t=>/^function/.test(t)?t:(e=t,!1)):e=t.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};\n  ${this.injectedNative||""}\n  const _this = this;\n  ${this._resultKernelHeader()}\n  ${this._processConstants()}\n  return (${this.argumentNames.map(e=>"user_"+e).join(", ")}) => {\n    ${this._prependedString.join("")}\n    ${this._earlyThrows()}\n    ${this._processArguments()}\n    ${this.graphical?this._graphicalKernelBody(e):this._resultKernelBody(e)}\n    ${t.length>0?t.join("\n"):""}\n  };`}toString(){return o(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const e=[];for(let t in this.constants)switch(this.constantTypes[t]){case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":e.push(`    const constants_${t} = this._mediaTo2DArray(this.constants.${t});\n`);break;case"HTMLImageArray":e.push(`    const constants_${t} = this._imageTo3DArray(this.constants.${t});\n`);break;case"Input":e.push(`    const constants_${t} = this.constants.${t}.value;\n`);break;default:e.push(`    const constants_${t} = this.constants.${t};\n`)}return e.join("")}_earlyThrows(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";const e=[];for(let t=0;t<this.argumentTypes.length;t++)"Array"===this.argumentTypes[t]&&e.push(this.argumentNames[t]);if(0===e.length)return"";const t=[];for(let r=0;r<e.length;r++){const n=e[r],i=this._mapSubKernels(e=>`user_${n} === result_${e.name}`).join(" || ");t.push(`user_${n} === result${i?" || "+i:""}`)}return`if (${t.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const e=[];for(let t=0;t<this.argumentTypes.length;t++){const r="user_"+this.argumentNames[t];switch(this.argumentTypes[t]){case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":e.push(`    ${r} = this._mediaTo2DArray(${r});\n`);break;case"HTMLImageArray":e.push(`    ${r} = this._imageTo3DArray(${r});\n`);break;case"Input":e.push(`    ${r} = ${r}.value;\n`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":e.push(`\n    if (${r}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${r});\n      if (textureIndex !== -1) {\n        ${r} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${r});\n        ${r} = ${r}.toArray();\n        _this.arrayCache.push(${r});\n      }\n    }`)}}return e.join("")}_mediaTo2DArray(e){const t=this.canvas,r=e.width>0?e.width:e.videoWidth,n=e.height>0?e.height:e.videoHeight;t.width<r&&(t.width=r),t.height<n&&(t.height=n);const i=this.context;i.drawImage(e,0,0,r,n);const s=i.getImageData(0,0,r,n).data,a=new Array(n);let o=0;for(let e=n-1;e>=0;e--){const t=a[e]=new Array(r);for(let e=0;e<r;e++){const r=new Float32Array(4);r[0]=s[o++]/255,r[1]=s[o++]/255,r[2]=s[o++]/255,r[3]=s[o++]/255,t[e]=r}}return a}getPixels(e){const[t,r]=this.output;return e?a.flipPixels(this._imageData.data,t,r):this._imageData.data.slice(0)}_imageTo3DArray(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=this._mediaTo2DArray(e[r]);return t}_resultKernelHeader(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(e){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(e):this._resultImmutableKernel1DLoop(e))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(e):this._resultImmutableKernel2DLoop(e))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(e):this._resultImmutableKernel3DLoop(e))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(e){switch(this.output.length){case 2:return this._graphicalKernel2DLoop(e)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return"\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;"}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error("unhandled returnType "+this.returnType)}}_resultImmutableKernel1DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${t}(outputX);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new ${t}(outputX);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${e}\n    }`}_mutableKernel1DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${e}(outputX);\n    ${this._mapSubKernels(t=>`const result_${t.name} = new ${e}(outputX);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}`}_resultMutableKernel1DLoop(e){return`  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${e}\n    }`}_resultImmutableKernel2DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputY);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${t}(outputX);\n      ${this._mapSubKernels(e=>`const resultX_${e.name} = result_${e.name}[y] = new ${t}(outputX);\n`).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_mutableKernel2DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputY);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${e}(outputX);\n      ${this._mapSubKernels(t=>`const resultX_${t.name} = result_${t.name}[y] = new ${e}(outputX);\n`).join("")}\n    }`}_resultMutableKernel2DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${this._mapSubKernels(e=>`const resultX_${e.name} = result_${e.name}[y] = new ${t}(outputX);\n`).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_graphicalKernel2DLoop(e){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_resultImmutableKernel3DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputZ);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels(e=>`const resultY_${e.name} = result_${e.name}[z] = new Array(outputY);\n`).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${t}(outputX);\n        ${this._mapSubKernels(e=>`const resultX_${e.name} = resultY_${e.name}[y] = new ${t}(outputX);\n`).join("        ")}\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${e}\n        }\n      }\n    }`}_mutableKernel3DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputZ);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels(e=>`const resultY_${e.name} = result_${e.name}[z] = new Array(outputY);\n`).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${e}(outputX);\n        ${this._mapSubKernels(t=>`const resultX_${t.name} = resultY_${t.name}[y] = new ${e}(outputX);\n`).join("        ")}\n      }\n    }`}_resultMutableKernel3DLoop(e){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${e}\n        }\n      }\n    }`}_kernelOutput(){return this.subKernels?`\n    return {\n      result: result,\n      ${this.subKernels.map(e=>`${e.property}: result_${e.name}`).join(",\n      ")}\n    };`:"\n    return result;"}_mapSubKernels(e){return null===this.subKernels?[""]:this.subKernels.map(e)}destroy(e){e&&delete this.canvas}static destroyContext(e){}toJSON(){const e=super.toJSON();return e.functionNodes=i.fromKernel(this,s).toJSON(),e}setOutput(e){super.setOutput(e);const[t,r]=this.output;this.graphical&&(this._imageData=this.context.createImageData(t,r),this._colorData=new Uint8ClampedArray(t*r*4))}prependString(e){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(e)}hasPrependString(e){return this._prependedString.indexOf(e)>-1}}}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(e,t,r){class n{static fromKernel(e,t,r){const{kernelArguments:i,kernelConstants:s,argumentNames:a,argumentSizes:o,argumentBitRatios:u,constants:l,constantBitRatios:c,debug:h,loopMaxIterations:p,nativeFunctions:f,output:m,optimizeFloatMemory:d,precision:g,plugins:y,source:v,subKernels:x,functions:b,leadingReturnStatement:w,followingReturnStatement:S,dynamicArguments:E,dynamicOutput:A,onIstanbulCoverageVariable:T,removeIstanbulCoverage:M}=e,_=new Array(i.length),N={};for(let e=0;e<i.length;e++)_[e]=i[e].type;for(let e=0;e<s.length;e++){const t=s[e];N[t.name]=t.type}const I=(e,t)=>G.needsArgumentType(e,t),C=(e,t,r)=>{G.assignArgumentType(e,t,r)},O=(e,t,r)=>G.lookupReturnType(e,t,r),k=e=>G.lookupFunctionArgumentTypes(e),D=(e,t)=>G.lookupFunctionArgumentName(e,t),R=(e,t)=>G.lookupFunctionArgumentBitRatio(e,t),L=(e,t,r,n)=>{G.assignArgumentType(e,t,r,n)},F=(e,t,r,n)=>{G.assignArgumentBitRatio(e,t,r,n)},U=(e,t,r)=>{G.trackFunctionCall(e,t,r)},z=(e,r)=>{const n=[];for(let t=0;t<e.params.length;t++)n.push(e.params[t].name);const i=new t(null,Object.assign({},P,{returnType:null,ast:e,name:e.id.name,argumentNames:n,lookupReturnType:O,lookupFunctionArgumentTypes:k,lookupFunctionArgumentName:D,lookupFunctionArgumentBitRatio:R,needsArgumentType:I,assignArgumentType:C,triggerImplyArgumentType:L,triggerImplyArgumentBitRatio:F,onFunctionCall:U}));i.traceFunctionAST(e),G.addFunctionNode(i)},P=Object.assign({isRootKernel:!1,onNestedFunction:z,lookupReturnType:O,lookupFunctionArgumentTypes:k,lookupFunctionArgumentName:D,lookupFunctionArgumentBitRatio:R,needsArgumentType:I,assignArgumentType:C,triggerImplyArgumentType:L,triggerImplyArgumentBitRatio:F,onFunctionCall:U,onIstanbulCoverageVariable:T?t=>T(t,e):null,removeIstanbulCoverage:M,optimizeFloatMemory:d,precision:g,constants:l,constantTypes:N,constantBitRatios:c,debug:h,loopMaxIterations:p,output:m,plugins:y,dynamicArguments:E,dynamicOutput:A},r||{}),B=Object.assign({},P,{isRootKernel:!0,name:"kernel",argumentNames:a,argumentTypes:_,argumentSizes:o,argumentBitRatios:u,leadingReturnStatement:w,followingReturnStatement:S});if("object"==typeof v&&v.functionNodes)return(new n).fromJSON(v.functionNodes,t);const V=new t(v,B);let q=null;b&&(q=b.map(r=>new t(r.source,{returnType:r.returnType,argumentTypes:r.argumentTypes,output:m,plugins:y,constants:l,constantTypes:N,constantBitRatios:c,optimizeFloatMemory:d,precision:g,lookupReturnType:O,lookupFunctionArgumentTypes:k,lookupFunctionArgumentName:D,lookupFunctionArgumentBitRatio:R,needsArgumentType:I,assignArgumentType:C,triggerImplyArgumentType:L,triggerImplyArgumentBitRatio:F,onFunctionCall:U,onNestedFunction:z,onIstanbulCoverageVariable:T?t=>T(t,e):null,removeIstanbulCoverage:M})));let $=null;x&&($=x.map(e=>{const{name:r,source:n}=e;return new t(n,Object.assign({},P,{name:r,isSubKernel:!0,isRootKernel:!1}))}));const G=new n({kernel:e,rootNode:V,functionNodes:q,nativeFunctions:f,subKernelNodes:$});return G}constructor(e){if(e=e||{},this.kernel=e.kernel,this.rootNode=e.rootNode,this.functionNodes=e.functionNodes||[],this.subKernelNodes=e.subKernelNodes||[],this.nativeFunctions=e.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let e=0;e<this.functionNodes.length;e++)this.functionMap[this.functionNodes[e].name]=this.functionNodes[e];if(this.subKernelNodes)for(let e=0;e<this.subKernelNodes.length;e++)this.functionMap[this.subKernelNodes[e].name]=this.subKernelNodes[e];if(this.nativeFunctions)for(let e=0;e<this.nativeFunctions.length;e++){const t=this.nativeFunctions[e];this.nativeFunctionNames.push(t.name)}}addFunctionNode(e){if(!e.name)throw new Error("functionNode.name needs set");this.functionMap[e.name]=e,e.isRootKernel&&(this.rootNode=e)}traceFunctionCalls(e,t){if(e=e||"kernel",t=t||[],this.nativeFunctionNames.indexOf(e)>-1)return-1===t.indexOf(e)&&t.push(e),t;const r=this.functionMap[e];if(r){const n=t.indexOf(e);if(-1===n){t.push(e),r.toString();for(let e=0;e<r.calledFunctions.length;++e)this.traceFunctionCalls(r.calledFunctions[e],t)}else{const e=t.splice(n,1)[0];t.push(e)}}return t}getPrototypeString(e){return this.getPrototypes(e).join("\n")}getPrototypes(e){return this.rootNode&&this.rootNode.toString(),e?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(e,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(e){const t=[];for(let r=0;r<e.length;++r)this.functionMap[e[r]]&&t.push(this.functionMap[e[r]].toString());return t.join("\n")}getPrototypesFromFunctionNames(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r],i=this.nativeFunctionNames.indexOf(n);if(i>-1){t.push(this.nativeFunctions[i].source);continue}const s=this.functionMap[n];s&&t.push(s.toString())}return t}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(e=>{const t=this.nativeFunctions.indexOf(e);if(t>-1)return{name:e,source:this.nativeFunctions[t].source};if(this.functionMap[e])return this.functionMap[e].toJSON();throw new Error(`function ${e} not found`)})}fromJSON(e,t){this.functionMap={};for(let r=0;r<e.length;r++){const n=e[r];this.functionMap[n.settings.name]=new t(n.ast,n.settings)}return this}getString(e){return e?this.getStringFromFunctionNames(this.traceFunctionCalls(e).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(e,t,r){if("CallExpression"!==t.type)throw new Error('expected ast type of "CallExpression", but is '+t.type);if(this._isNativeFunction(e))return this._lookupNativeFunctionReturnType(e);if(this._isFunction(e)){const n=this._getFunction(e);if(n.returnType)return n.returnType;{for(let e=0;e<this.lookupChain.length;e++)if(this.lookupChain[e].ast===t){if(0===n.argumentTypes.length&&t.arguments.length>0){const i=t.arguments;for(let t=0;t<i.length;t++)this.lookupChain.push({name:r.name,ast:i[e],requestingNode:r}),n.argumentTypes[t]=r.getType(i[t]),this.lookupChain.pop();return n.returnType=n.getType(n.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:r.name,ast:t,requestingNode:r});const e=n.getType(n.getJsAST());return this.lookupChain.pop(),n.returnType=e}}return null}_getFunction(e){return this._isFunction(e)||new Error(`Function ${e} not found`),this.functionMap[e]}_isFunction(e){return Boolean(this.functionMap[e])}_getNativeFunction(e){for(let t=0;t<this.nativeFunctions.length;t++)if(this.nativeFunctions[t].name===e)return this.nativeFunctions[t];return null}_isNativeFunction(e){return Boolean(this._getNativeFunction(e))}_lookupNativeFunctionReturnType(e){let t=this._getNativeFunction(e);if(t)return t.returnType;throw new Error(`Native function ${e} not found`)}lookupFunctionArgumentTypes(e){return this._isNativeFunction(e)?this._getNativeFunction(e).argumentTypes:this._isFunction(e)?this._getFunction(e).argumentTypes:null}lookupFunctionArgumentName(e,t){return this._getFunction(e).argumentNames[t]}lookupFunctionArgumentBitRatio(e,t){if(!this._isFunction(e))throw new Error("function not found");if(this.rootNode.name===e){const e=this.rootNode.argumentNames.indexOf(t);if(-1!==e)return this.rootNode.argumentBitRatios[e]}const r=this._getFunction(e),n=r.argumentNames.indexOf(t);if(-1===n)throw new Error("argument not found");const i=r.argumentBitRatios[n];if("number"!=typeof i)throw new Error("argument bit ratio not found");return i}needsArgumentType(e,t){return!!this._isFunction(e)&&!this._getFunction(e).argumentTypes[t]}assignArgumentType(e,t,r,n){if(!this._isFunction(e))return;const i=this._getFunction(e);i.argumentTypes[t]||(i.argumentTypes[t]=r)}assignArgumentBitRatio(e,t,r,n){const i=this._getFunction(e);if(this._isNativeFunction(r))return null;const s=this._getFunction(r),a=i.argumentNames.indexOf(t);if(-1===a)throw new Error(`Argument ${t} not found in arguments from function ${e}`);const o=i.argumentBitRatios[a];if("number"!=typeof o)throw new Error(`Bit ratio for argument ${t} not found in function ${e}`);s.argumentBitRatios||(s.argumentBitRatios=new Array(s.argumentNames.length));const u=s.argumentBitRatios[a];if("number"==typeof u){if(u!==o)throw new Error(`Incompatible bit ratio found at function ${e} at argument ${t}`);return u}return s.argumentBitRatios[a]=o,o}trackFunctionCall(e,t,r){this.functionNodeDependencies[e]||(this.functionNodeDependencies[e]=new Set,this.functionCalls[e]=[]),this.functionNodeDependencies[e].add(t),this.functionCalls[e].push(r)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(e){const t=this.subKernelNodes[e];let r=!1;for(let e=0;e<this.rootNode.functionCalls.length;e++)this.rootNode.functionCalls[e].ast.callee.name===t.name&&(r=!0);if(!r)throw new Error(`SubKernel ${t.name} never called by kernel`);return t.returnType||t.getType(t.getJsAST())}getReturnTypes(){const e={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},t=this.traceFunctionCalls(this.rootNode.name);for(let r=0;r<t.length;r++){const n=t[r],i=this.functionMap[n];e[n]=i.getType(i.ast)}return e}}t.exports={FunctionBuilder:n}},{}],10:[function(e,t,r){const n=e("acorn"),{utils:i}=e("../utils"),{FunctionTracer:s}=e("./function-tracer"),a={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",HTMLImage:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};t.exports={FunctionNode:class{constructor(e,t){if(!e&&!t.ast)throw new Error("source parameter is missing");if(t=t||{},this.source=e,this.ast=null,this.name="string"==typeof e?t.isRootKernel?"kernel":t.name||i.getFunctionNameFromString(e):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames="string"==typeof this.source?i.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,this.onIstanbulCoverageVariable=null,this.removeIstanbulCoverage=!1,t)for(const e in t)t.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=t[e]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if("string"!=typeof this.source&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!i.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(e){return!!this.constants&&this.constants.hasOwnProperty(e)}isInput(e){return"Input"===this.argumentTypes[this.argumentNames.indexOf(e)]}pushState(e){this.states.push(e)}popState(e){if(this.state!==e)throw new Error(`Cannot popState ${e} when in ${this.state}`);this.states.pop()}isState(e){return this.state===e}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(e){if("Identifier"===e.type)return e.name;if("ThisExpression"===e.type)return"this";if("MemberExpression"===e.type&&e.object&&e.property)return e.object.hasOwnProperty("name")&&"_"===e.object.name[0]?this.astMemberExpressionUnroll(e.property):this.astMemberExpressionUnroll(e.object)+"."+this.astMemberExpressionUnroll(e.property);if(e.hasOwnProperty("expressions")){const t=e.expressions[0];if("Literal"===t.type&&0===t.value&&2===e.expressions.length)return this.astMemberExpressionUnroll(e.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",e)}getJsAST(e){if(this.ast)return this.ast;if("object"==typeof this.source)return this.traceFunctionAST(this.source),this.ast=this.source;if(null===(e=e||n))throw new Error("Missing JS to AST parser");const t=Object.freeze(e.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),r=t.body[0].declarations[0].init;if(this.traceFunctionAST(r),!t)throw new Error("Failed to parse JS code");return this.ast=r}traceFunctionAST(e){const{contexts:t,declarations:r,functions:n,identifiers:i,functionCalls:a}=new s(e);this.contexts=t,this.identifiers=i,this.functionCalls=a,this.functions=n;for(let e=0;e<r.length;e++){const t=r[e],{ast:n,inForLoopInit:i,inForLoopTest:s}=t,{init:a}=n,o=this.getDependencies(a);let u=null;if(i&&s)u="Integer";else if(a){const e=this.getType(a);switch(e){case"Integer":case"Float":case"Number":u="MemberExpression"===a.type?e:"Number";break;case"LiteralInteger":u="Number";break;default:u=e}}t.valueType=u,t.dependencies=o,t.isSafe=this.isSafeDependencies(o)}for(let e=0;e<n.length;e++)this.onNestedFunction(n[e])}getDeclaration(e){for(let t=0;t<this.identifiers.length;t++){const r=this.identifiers[t];if(e===r.ast)return r.declaration}return null}getVariableType(e){if("Identifier"!==e.type)throw new Error(`ast of ${e.type} not "Identifier"`);let t=null;const r=this.argumentNames.indexOf(e.name);if(-1===r){const t=this.getDeclaration(e);if(t)return t.valueType}else{const e=this.argumentTypes[r];e&&(t=e)}if(!t&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return t}getLookupType(e){if(!a.hasOwnProperty(e))throw new Error("unknown typeLookupMap "+e);return a[e]}getConstantType(e){if(this.constantTypes[e]){const t=this.constantTypes[e];return"Float"===t?"Number":t}throw new Error(`Type for constant "${e}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const e={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:e}}getType(e){if(Array.isArray(e))return this.getType(e[e.length-1]);switch(e.type){case"BlockStatement":return this.getType(e.body);case"ArrayExpression":return`Array(${e.elements.length})`;case"Literal":const t=this.astKey(e);return this.literalTypes[t]?this.literalTypes[t]:Number.isInteger(e.value)?"LiteralInteger":!0===e.value||!1===e.value?"Boolean":"Number";case"AssignmentExpression":return this.getType(e.left);case"CallExpression":if(this.isAstMathFunction(e))return"Number";if(!e.callee||!e.callee.name){if("SequenceExpression"===e.callee.type&&e.callee.expressions[e.callee.expressions.length-1].property.name){const t=e.callee.expressions[e.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}if("this.color"===this.getVariableSignature(e.callee,!0))return null;throw this.astErrorOutput("Unknown call expression",e)}if(e.callee&&e.callee.name){const t=e.callee.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}throw this.astErrorOutput(`Unhandled getType Type "${e.type}"`,e);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(e.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const r=this.getType(e.left);if(this.isState("skip-literal-correction"))return r;if("LiteralInteger"===r){const t=this.getType(e.right);return"LiteralInteger"===t?e.left.value%1==0?"Integer":"Float":t}return a[r]||r;case"UpdateExpression":return this.getType(e.argument);case"UnaryExpression":return"~"===e.operator?"Integer":this.getType(e.argument);case"VariableDeclaration":{const t=e.declarations;let r;for(let e=0;e<t.length;e++){const n=t[e];r=this.getType(n)}if(!r)throw this.astErrorOutput("Unable to find type for declaration",e);return r}case"VariableDeclarator":const n=this.getDeclaration(e.id);if(!n)throw this.astErrorOutput("Unable to find declarator",e);if(!n.valueType)throw this.astErrorOutput("Unable to find declarator valueType",e);return n.valueType;case"Identifier":if("Infinity"===e.name)return"Number";if(this.isAstVariable(e)&&"value"===this.getVariableSignature(e))return this.getCheckVariableType(e);const i=this.findIdentifierOrigin(e);return i&&i.init?this.getType(i.init):null;case"ReturnStatement":return this.getType(e.argument);case"MemberExpression":if(this.isAstMathFunction(e)){switch(e.property.name){case"ceil":case"floor":case"round":return"Integer"}return"Number"}if(this.isAstVariable(e)){switch(this.getVariableSignature(e)){case"value[]":return this.getLookupType(this.getCheckVariableType(e.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(e.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(e.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(e.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(e.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(e.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(e.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(e.object));case"value.value":if(this.isAstMathVariable(e))return"Number";switch(e.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(e.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",e)}throw this.astErrorOutput("Unhandled getType MemberExpression",e);case"ConditionalExpression":return this.getType(e.consequent);case"FunctionDeclaration":case"FunctionExpression":const s=this.findLastReturn(e.body);return s?this.getType(s):null;case"IfStatement":return this.getType(e.consequent);case"SequenceExpression":return this.getType(e.expressions[e.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${e.type}"`,e)}}getCheckVariableType(e){const t=this.getVariableType(e);if(!t)throw this.astErrorOutput(e.type+" is not defined",e);return t}inferArgumentTypesIfNeeded(e,t){for(let r=0;r<t.length;r++){if(!this.needsArgumentType(e,r))continue;const n=this.getType(t[r]);if(!n)throw this.astErrorOutput("Unable to infer argument "+r,t[r]);this.assignArgumentType(e,r,n)}}isAstMathVariable(e){return"MemberExpression"===e.type&&e.object&&"Identifier"===e.object.type&&"Math"===e.object.name&&e.property&&"Identifier"===e.property.type&&["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"].indexOf(e.property.name)>-1}isAstMathFunction(e){return"CallExpression"===e.type&&e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&"Math"===e.callee.object.name&&e.callee.property&&"Identifier"===e.callee.property.type&&["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].indexOf(e.callee.property.name)>-1}isAstVariable(e){return"Identifier"===e.type||"MemberExpression"===e.type}isSafe(e){return this.isSafeDependencies(this.getDependencies(e))}isSafeDependencies(e){return!e||!e.every||e.every(e=>e.isSafe)}getDependencies(e,t,r){if(t||(t=[]),!e)return null;if(Array.isArray(e)){for(let n=0;n<e.length;n++)this.getDependencies(e[n],t,r);return t}switch(e.type){case"AssignmentExpression":return this.getDependencies(e.left,t,r),this.getDependencies(e.right,t,r),t;case"ConditionalExpression":return this.getDependencies(e.test,t,r),this.getDependencies(e.alternate,t,r),this.getDependencies(e.consequent,t,r),t;case"Literal":t.push({origin:"literal",value:e.value,isSafe:!0!==r&&e.value>-1/0&&e.value<1/0&&!isNaN(e.value)});break;case"VariableDeclarator":return this.getDependencies(e.init,t,r);case"Identifier":const n=this.getDeclaration(e);if(n)t.push({name:e.name,origin:"declaration",isSafe:!r&&this.isSafeDependencies(n.dependencies)});else if(this.argumentNames.indexOf(e.name)>-1)t.push({name:e.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${e.name}"`);break;case"FunctionDeclaration":return this.getDependencies(e.body.body[e.body.body.length-1],t,r);case"ReturnStatement":return this.getDependencies(e.argument,t);case"BinaryExpression":case"LogicalExpression":return r="/"===e.operator||"*"===e.operator,this.getDependencies(e.left,t,r),this.getDependencies(e.right,t,r),t;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(e.argument,t,r);case"VariableDeclaration":return this.getDependencies(e.declarations,t,r);case"ArrayExpression":return t.push({origin:"declaration",isSafe:!0}),t;case"CallExpression":return t.push({origin:"function",isSafe:!0}),t;case"MemberExpression":const i=this.getMemberExpressionDetails(e);switch(i.signature){case"value[]":this.getDependencies(e.object,t,r);break;case"value[][]":this.getDependencies(e.object.object,t,r);break;case"value[][][]":this.getDependencies(e.object.object.object,t,r);break;case"this.output.value":this.dynamicOutput&&t.push({name:i.name,origin:"output",isSafe:!1})}if(i)return i.property&&this.getDependencies(i.property,t,r),i.xProperty&&this.getDependencies(i.xProperty,t,r),i.yProperty&&this.getDependencies(i.yProperty,t,r),i.zProperty&&this.getDependencies(i.zProperty,t,r),t;case"SequenceExpression":return this.getDependencies(e.expressions,t,r);default:throw this.astErrorOutput(`Unhandled type ${e.type} in getDependencies`,e)}return t}getVariableSignature(e,t){if(!this.isAstVariable(e))throw new Error(`ast of type "${e.type}" is not a variable signature`);if("Identifier"===e.type)return"value";const r=[];for(;e;)e.computed?r.push("[]"):"ThisExpression"===e.type?r.unshift("this"):e.property&&e.property.name?"x"===e.property.name||"y"===e.property.name||"z"===e.property.name?r.unshift(t?"."+e.property.name:".value"):"constants"===e.property.name||"thread"===e.property.name||"output"===e.property.name?r.unshift("."+e.property.name):r.unshift(t?"."+e.property.name:".value"):e.name?r.unshift(t?e.name:"value"):e.callee&&e.callee.name?r.unshift(t?e.callee.name+"()":"fn()"):e.elements?r.unshift("[]"):r.unshift("unknown"),e=e.object;const n=r.join("");return t||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.value[]","value.value[][]","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(n)>-1?n:null}build(){return this.toString().length>0}astGeneric(e,t){if(null===e)throw this.astErrorOutput("NULL ast",e);if(Array.isArray(e)){for(let r=0;r<e.length;r++)this.astGeneric(e[r],t);return t}switch(e.type){case"FunctionDeclaration":return this.astFunctionDeclaration(e,t);case"FunctionExpression":return this.astFunctionExpression(e,t);case"ReturnStatement":return this.astReturnStatement(e,t);case"Literal":return this.astLiteral(e,t);case"BinaryExpression":return this.astBinaryExpression(e,t);case"Identifier":return this.astIdentifierExpression(e,t);case"AssignmentExpression":return this.astAssignmentExpression(e,t);case"ExpressionStatement":return this.astExpressionStatement(e,t);case"EmptyStatement":return this.astEmptyStatement(e,t);case"BlockStatement":return this.astBlockStatement(e,t);case"IfStatement":return this.astIfStatement(e,t);case"SwitchStatement":return this.astSwitchStatement(e,t);case"BreakStatement":return this.astBreakStatement(e,t);case"ContinueStatement":return this.astContinueStatement(e,t);case"ForStatement":return this.astForStatement(e,t);case"WhileStatement":return this.astWhileStatement(e,t);case"DoWhileStatement":return this.astDoWhileStatement(e,t);case"VariableDeclaration":return this.astVariableDeclaration(e,t);case"VariableDeclarator":return this.astVariableDeclarator(e,t);case"ThisExpression":return this.astThisExpression(e,t);case"SequenceExpression":return this.astSequenceExpression(e,t);case"UnaryExpression":return this.astUnaryExpression(e,t);case"UpdateExpression":return this.astUpdateExpression(e,t);case"LogicalExpression":return this.astLogicalExpression(e,t);case"MemberExpression":return this.astMemberExpression(e,t);case"CallExpression":return this.astCallExpression(e,t);case"ArrayExpression":return this.astArrayExpression(e,t);case"DebuggerStatement":return this.astDebuggerStatement(e,t);case"ConditionalExpression":return this.astConditionalExpression(e,t)}throw this.astErrorOutput("Unknown ast type : "+e.type,e)}astErrorOutput(e,t){if("string"!=typeof this.source)return new Error(e);const r=i.getAstString(this.source,t),n=this.source.substr(t.start).split(/\n/),s=n.length>0?n[n.length-1]:0;return new Error(`${e} on line ${n.length}, position ${s.length}:\n ${r}`)}astDebuggerStatement(e,t){return t}astConditionalExpression(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);return t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t}astFunction(e,t){throw new Error('"astFunction" not defined on '+this.constructor.name)}astFunctionDeclaration(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}astFunctionExpression(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}isChildFunction(e){for(let t=0;t<this.functions.length;t++)if(this.functions[t]===e)return!0;return!1}astReturnStatement(e,t){return t}astLiteral(e,t){return this.literalTypes[this.astKey(e)]="Number",t}astBinaryExpression(e,t){return t}astIdentifierExpression(e,t){return t}astAssignmentExpression(e,t){return t}astExpressionStatement(e,t){return this.astGeneric(e.expression,t),t.push(";"),t}astEmptyStatement(e,t){return t}astBlockStatement(e,t){return t}astIfStatement(e,t){return t}astSwitchStatement(e,t){return t}astBreakStatement(e,t){return t.push("break;"),t}astContinueStatement(e,t){return t.push("continue;\n"),t}astForStatement(e,t){return t}astWhileStatement(e,t){return t}astDoWhileStatement(e,t){return t}astVariableDeclarator(e,t){return this.astGeneric(e.id,t),null!==e.init&&(t.push("="),this.astGeneric(e.init,t)),t}astThisExpression(e,t){return t}isIstanbulAST(e){const t=this.getVariableSignature(e);return"value.value[]"===t||"value.value[][]"===t}astSequenceExpression(e,t){const{expressions:r}=e,n=[];for(let e=0;e<r.length;e++){const t=r[e];if(this.removeIstanbulCoverage&&"UpdateExpression"===t.type&&this.isIstanbulAST(t.argument))continue;const i=[];this.astGeneric(t,i),n.push(i.join(""))}return n.length>1?t.push("(",n.join(","),")"):t.push(n[0]),t}astUnaryExpression(e,t){return this.checkAndUpconvertBitwiseUnary(e,t)||(e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator))),t}checkAndUpconvertBitwiseUnary(e,t){}astUpdateExpression(e,t){return this.removeIstanbulCoverage&&(this.getVariableSignature(e.argument),this.isIstanbulAST(e.argument))||(e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator))),t}astLogicalExpression(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}astMemberExpression(e,t){return t}astCallExpression(e,t){return t}astArrayExpression(e,t){return t}getMemberExpressionDetails(e){if("MemberExpression"!==e.type)throw this.astErrorOutput(`Expression ${e.type} not a MemberExpression`,e);let t=null,r=null;const n=this.getVariableSignature(e);switch(n){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:n,type:"Integer",name:e.property.name};case"value[]":if("string"!=typeof e.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.name,{name:t,origin:"user",signature:n,type:this.getVariableType(e.object),xProperty:e.property};case"value[][]":if("string"!=typeof e.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.name,{name:t,origin:"user",signature:n,type:this.getVariableType(e.object.object),yProperty:e.object.property,xProperty:e.property};case"value[][][]":if("string"!=typeof e.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.object.name,{name:t,origin:"user",signature:n,type:this.getVariableType(e.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value[][][][]":if("string"!=typeof e.object.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.object.object.name,{name:t,origin:"user",signature:n,type:this.getVariableType(e.object.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value.value":if("string"!=typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(this.isAstMathVariable(e))return t=e.property.name,{name:t,origin:"Math",type:"Number",signature:n};switch(e.property.name){case"r":case"g":case"b":case"a":return t=e.object.name,{name:t,property:e.property.name,origin:"user",signature:n,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",e)}case"this.constants.value":if("string"!=typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.property.name,r=this.getConstantType(t),!r)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:r,origin:"constants",signature:n};case"this.constants.value[]":if("string"!=typeof e.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.property.name,r=this.getConstantType(t),!r)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:r,origin:"constants",signature:n,xProperty:e.property};case"this.constants.value[][]":if("string"!=typeof e.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.object.property.name,r=this.getConstantType(t),!r)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:r,origin:"constants",signature:n,yProperty:e.object.property,xProperty:e.property};case"this.constants.value[][][]":if("string"!=typeof e.object.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.object.object.property.name,r=this.getConstantType(t),!r)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:r,origin:"constants",signature:n,zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"fn()[]":case"[][]":return{signature:n,property:e.property};case"value.value[]":if(this.removeIstanbulCoverage)return{signature:n};if(this.onIstanbulCoverageVariable)return this.onIstanbulCoverageVariable(e.object.object.name),{signature:n};case"value.value[][]":if(this.removeIstanbulCoverage)return{signature:n};if(this.onIstanbulCoverageVariable)return this.onIstanbulCoverageVariable(e.object.object.object.name),{signature:n};default:throw this.astErrorOutput("Unexpected expression",e)}}findIdentifierOrigin(e){const t=[this.ast];for(;t.length>0;){const r=t[0];if("VariableDeclarator"===r.type&&r.id&&r.id.name&&r.id.name===e.name)return r;if(t.shift(),r.argument)t.push(r.argument);else if(r.body)t.push(r.body);else if(r.declarations)t.push(r.declarations);else if(Array.isArray(r))for(let e=0;e<r.length;e++)t.push(r[e])}return null}findLastReturn(e){const t=[e||this.ast];for(;t.length>0;){const e=t.pop();if("ReturnStatement"===e.type)return e;if("FunctionDeclaration"!==e.type)if(e.argument)t.push(e.argument);else if(e.body)t.push(e.body);else if(e.declarations)t.push(e.declarations);else if(Array.isArray(e))for(let r=0;r<e.length;r++)t.push(e[r]);else e.consequent?t.push(e.consequent):e.cases&&t.push(e.cases)}return null}getInternalVariableName(e){return this._internalVariableNames.hasOwnProperty(e)||(this._internalVariableNames[e]=0),this._internalVariableNames[e]++,1===this._internalVariableNames[e]?e:e+this._internalVariableNames[e]}astKey(e,t=","){if(!e.start||!e.end)throw new Error("AST start and end needed");return`${e.start}${t}${e.end}`}}}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(e,t,r){const{utils:n}=e("../utils");function i(e){return e.length>0?e[e.length-1]:null}const s="trackIdentifiers",a="memberExpression",o="inForLoopInit";t.exports={FunctionTracer:class{constructor(e){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(e)}isState(e){return this.states[this.states.length-1]===e}hasState(e){return this.states.indexOf(e)>-1}pushState(e){this.states.push(e)}popState(e){if(!this.isState(e))throw new Error(`Cannot pop the non-active state "${e}"`);this.states.pop()}get currentFunctionContext(){return i(this.functionContexts)}get currentContext(){return i(this.runningContexts)}newFunctionContext(){const e={"@contextType":"function"};this.contexts.push(e),this.functionContexts.push(e)}newContext(e){const t=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(t),this.runningContexts.push(t),e();const{currentFunctionContext:r}=this;for(const e in r)r.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=r[e]);return this.runningContexts.pop(),t}useFunctionContext(e){const t=i(this.functionContexts);this.runningContexts.push(t),e(),this.runningContexts.pop()}getIdentifiers(e){const t=this.trackedIdentifiers=[];return this.pushState(s),e(),this.trackedIdentifiers=null,this.popState(s),t}getDeclaration(e){const{currentContext:t,currentFunctionContext:r,runningContexts:n}=this,i=t[e]||r[e]||null;if(!i&&t===r&&n.length>0){const t=n[n.length-2];if(t[e])return t[e]}return i}scan(e){if(e)if(Array.isArray(e))for(let t=0;t<e.length;t++)this.scan(e[t]);else switch(e.type){case"Program":this.useFunctionContext(()=>{this.scan(e.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(e.body)});break;case"AssignmentExpression":case"LogicalExpression":case"BinaryExpression":this.scan(e.left),this.scan(e.right);break;case"UpdateExpression":if("++"===e.operator){const t=this.getDeclaration(e.argument.name);t&&(t.suggestedType="Integer")}this.scan(e.argument);break;case"UnaryExpression":this.scan(e.argument);break;case"VariableDeclaration":"var"===e.kind?this.useFunctionContext(()=>{e.declarations=n.normalizeDeclarations(e),this.scan(e.declarations)}):(e.declarations=n.normalizeDeclarations(e),this.scan(e.declarations));break;case"VariableDeclarator":{const{currentContext:t}=this,r=this.hasState(o),n={ast:e,context:t,name:e.id.name,origin:"declaration",inForLoopInit:r,inForLoopTest:null,assignable:t===this.currentFunctionContext||!r&&!t.hasOwnProperty(e.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};t[e.id.name]||(t[e.id.name]=n),this.declarations.push(n),this.scan(e.id),this.scan(e.init);break}case"FunctionExpression":case"FunctionDeclaration":0===this.runningContexts.length?this.scan(e.body):this.functions.push(e);break;case"IfStatement":this.scan(e.test),this.scan(e.consequent),e.alternate&&this.scan(e.alternate);break;case"ForStatement":{let t;const r=this.newContext(()=>{this.pushState(o),this.scan(e.init),this.popState(o),t=this.getIdentifiers(()=>{this.scan(e.test)}),this.scan(e.update),this.newContext(()=>{this.scan(e.body)})});if(t)for(const e in r)"@contextType"!==e&&t.indexOf(e)>-1&&(r[e].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(e.body),this.scan(e.test)});break;case"Identifier":this.isState(s)&&this.trackedIdentifiers.push(e.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(e.name),ast:e});break;case"ReturnStatement":this.returnStatements.push(e),this.scan(e.argument);break;case"MemberExpression":this.pushState(a),this.scan(e.object),this.scan(e.property),this.popState(a);break;case"ExpressionStatement":this.scan(e.expression);break;case"SequenceExpression":this.scan(e.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:e}),this.scan(e.arguments);break;case"ArrayExpression":this.scan(e.elements);break;case"ConditionalExpression":this.scan(e.test),this.scan(e.alternate),this.scan(e.consequent);break;case"SwitchStatement":this.scan(e.discriminant),this.scan(e.cases);break;case"SwitchCase":this.scan(e.test),this.scan(e.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${e.type}"`)}}}}},{"../utils":114}],12:[function(e,t,r){const{glWiretap:n}=e("gl-wiretap"),{utils:i}=e("../../utils");function s(e){return e.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function a(e,t){const r="single"===t.precision?e:`new Float32Array(${e}.buffer)`;return t.output[2]?`renderOutput(${r}, ${t.output[0]}, ${t.output[1]}, ${t.output[2]})`:t.output[1]?`renderOutput(${r}, ${t.output[0]}, ${t.output[1]})`:`renderOutput(${r}, ${t.output[0]})`}function o(e,t){const r=e.toArray.toString(),n=!/^function/.test(r);return`() => {\n  let _framebuffer;\n  ${i.flattenFunctionToString(`${n?"function ":""}${r}`,{findDependency:(t,r)=>{if("utils"===t)return`const ${r} = ${i[r].toString()};`;if("this"===t)return`${n?"function ":""}${e[r].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(r,n)=>{if("texture"===r)return t;if("context"===r)return n?null:"gl";if("_framebuffer"===r)return"_framebuffer";if(e.hasOwnProperty(r))return JSON.stringify(e[r]);throw new Error("unhandled thisLookup "+r)}})}\n  return toArray();\n  }`}function u(e,t,r,n,i){if(null===e)return null;if(null===t)return null;switch(typeof e){case"boolean":case"number":return null}if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)for(let i=0;i<t.length;i++){const s=t[i];if("HTMLImageArray"!==s.type&&s)continue;if(s.uploadValue!==e)continue;const a=r[i].indexOf(e);if(-1===a)continue;const o=`uploadValue_${s.name}[${a}]`;return n.insertVariable(o,e),o}for(let r=0;r<t.length;r++){const i=t[r];if(e!==i.uploadValue)continue;const s="uploadValue_"+i.name;return n.insertVariable(s,i),s}return null}t.exports={glKernelString:function(e,t,r,l,c){r.built||r.build.apply(r,t),t=t?Array.from(t).map(e=>{switch(typeof e){case"boolean":return new Boolean(e);case"number":return new Number(e);default:return e}}):null;const h=[],p=n(r.context,{useTrackablePrimitives:!0,onReadPixels:e=>{if(R.subKernels){if(f){const t=R.subKernels[m++].property;h.push(`    result${isNaN(t)?"."+t:`[${t}]`} = ${a(e,R)};`)}else h.push(`    const result = { result: ${a(e,R)} };`),f=!0;m===R.subKernels.length&&h.push("    return result;")}else e?h.push(`    return ${a(e,R)};`):h.push("    return null;")},onUnrecognizedArgumentLookup:e=>{const t=u(e,R.kernelArguments,[],p);if(t)return t;return u(e,R.kernelConstants,w?Object.keys(w).map(e=>w[e]):[],p)||null}});let f=!1,m=0;const{source:d,canvas:g,output:y,pipeline:v,graphical:x,loopMaxIterations:b,constants:w,optimizeFloatMemory:S,precision:E,fixIntegerDivisionAccuracy:A,functions:T,nativeFunctions:M,subKernels:_,immutable:N,argumentTypes:I,constantTypes:C,kernelArguments:O,kernelConstants:k,tactic:D}=r,R=new e(d,{canvas:g,context:p,checkContext:!1,output:y,pipeline:v,graphical:x,loopMaxIterations:b,constants:w,optimizeFloatMemory:S,precision:E,fixIntegerDivisionAccuracy:A,functions:T,nativeFunctions:M,subKernels:_,immutable:N,argumentTypes:I,constantTypes:C,tactic:D});let L=[];if(p.setIndent(2),R.build.apply(R,t),L.push(p.toString()),p.reset(),R.kernelArguments.forEach((e,r)=>{switch(e.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":p.insertVariable("uploadValue_"+e.name,e.uploadValue);break;case"HTMLImageArray":for(let n=0;n<t[r].length;n++){const i=t[r];p.insertVariable(`uploadValue_${e.name}[${n}]`,i[n])}break;case"Input":p.insertVariable("uploadValue_"+e.name,e.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":p.insertVariable("uploadValue_"+e.name,t[r].texture);break;default:throw new Error("unhandled kernelArgumentType insertion for glWiretap of type "+e.type)}}),L.push("/** start of injected functions **/"),L.push("function "+s(i.flattenTo)),L.push("function "+s(i.flatten2dArrayTo)),L.push("function "+s(i.flatten3dArrayTo)),L.push("function "+s(i.flatten4dArrayTo)),L.push("function "+s(i.isArray)),R.renderOutput!==R.renderTexture&&R.formatValues&&L.push(`  const renderOutput = function ${s(R.formatValues)};`),L.push("/** end of injected functions **/"),L.push(`  const innerKernel = function (${R.kernelArguments.map(e=>e.varName).join(", ")}) {`),p.setIndent(4),R.run.apply(R,t),R.renderKernels?R.renderKernels():R.renderOutput&&R.renderOutput(),L.push("    /** start setup uploads for kernel values **/"),R.kernelArguments.forEach(e=>{L.push("    "+e.getStringValueHandler().split("\n").join("\n    "))}),L.push("    /** end setup uploads for kernel values **/"),L.push(p.toString()),R.renderOutput===R.renderTexture)if(p.reset(),R.renderKernels){const e=R.renderKernels(),t=p.getContextVariableName(R.texture.texture);L.push(`    return {\n      result: {\n        texture: ${t},\n        type: '${e.result.type}',\n        toArray: ${o(e.result,t)}\n      },`);const{subKernels:r,mappedTextures:n}=R;for(let t=0;t<r.length;t++){const i=n[t],s=r[t],a=e[s.property],u=p.getContextVariableName(i.texture);L.push(`\n      ${s.property}: {\n        texture: ${u},\n        type: '${a.type}',\n        toArray: ${o(a,u)}\n      },`)}L.push("    };")}else{const e=R.renderOutput(),t=p.getContextVariableName(R.texture.texture);L.push(`    return {\n        texture: ${t},\n        type: '${e.type}',\n        toArray: ${o(e,t)}\n      };`)}L.push("    "+(c?"\n"+c+"    ":"")),L.push(h.join("\n")),L.push("  };"),R.graphical&&(L.push(function(e){const t=e.getPixels.toString(),r=!/^function/.test(t);return i.flattenFunctionToString(`${r?"function ":""}${t}`,{findDependency:(e,t)=>"utils"===e?`const ${t} = ${i[t].toString()};`:null,thisLookup:t=>{if("context"===t)return null;if(e.hasOwnProperty(t))return JSON.stringify(e[t]);throw new Error("unhandled thisLookup "+t)}})}(R)),L.push("  innerKernel.getPixels = getPixels;")),L.push("  return innerKernel;");let F=[];return k.forEach(e=>{F.push(""+e.getStringValueHandler())}),`function kernel(settings) {\n  const { context, constants } = settings;\n  ${F.join("")}\n  ${l||""}\n${L.join("\n")}\n}`}}},{"../../utils":114,"gl-wiretap":3}],13:[function(e,t,r){const{Kernel:n}=e("../kernel"),{utils:i}=e("../../utils"),{GLTextureArray2Float:s}=e("./texture/array-2-float"),{GLTextureArray2Float2D:a}=e("./texture/array-2-float-2d"),{GLTextureArray2Float3D:o}=e("./texture/array-2-float-3d"),{GLTextureArray3Float:u}=e("./texture/array-3-float"),{GLTextureArray3Float2D:l}=e("./texture/array-3-float-2d"),{GLTextureArray3Float3D:c}=e("./texture/array-3-float-3d"),{GLTextureArray4Float:h}=e("./texture/array-4-float"),{GLTextureArray4Float2D:p}=e("./texture/array-4-float-2d"),{GLTextureArray4Float3D:f}=e("./texture/array-4-float-3d"),{GLTextureFloat:m}=e("./texture/float"),{GLTextureFloat2D:d}=e("./texture/float-2d"),{GLTextureFloat3D:g}=e("./texture/float-3d"),{GLTextureMemoryOptimized:y}=e("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:v}=e("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:x}=e("./texture/memory-optimized-3d"),{GLTextureUnsigned:b}=e("./texture/unsigned"),{GLTextureUnsigned2D:w}=e("./texture/unsigned-2d"),{GLTextureUnsigned3D:S}=e("./texture/unsigned-3d"),{GLTextureGraphical:E}=e("./texture/graphical"),A={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};t.exports={GLKernel:class extends n{static get mode(){return"gpu"}static getIsFloatRead(){const e=new this("function kernelFunction() {\n      return 1;\n    }",{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});e.build(),e.run();const t=e.renderOutput();return e.destroy(!0),1===t[0]}static getIsIntegerDivisionAccurate(){const e=new this(function(e,t){return e[this.thread.x]/t[this.thread.x]}.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),t=[[6,6030401],[3,3991]];e.build.apply(e,t),e.run.apply(e,t);const r=e.renderOutput();return e.destroy(!0),2===r[0]&&1511===r[1]}static getIsSpeedTacticSupported(){const e=new this(function(e){return e[this.thread.x]}.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),t=[[0,1,2,3]];e.build.apply(e,t),e.run.apply(e,t);const r=e.renderOutput();return e.destroy(!0),0===Math.round(r[0])&&1===Math.round(r[1])&&2===Math.round(r[2])&&3===Math.round(r[3])}static get testCanvas(){throw new Error('"testCanvas" not defined on '+this.name)}static get testContext(){throw new Error('"testContext" not defined on '+this.name)}static getFeatures(){const e=this.testContext,t=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:t,kernelMap:t,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error('"setupFeatureChecks" not defined on '+this.name)}static getSignature(e,t){return e.getVariablePrecisionString()+(t.length>0?":"+t.join(","):"")}setFixIntegerDivisionAccuracy(e){return this.fixIntegerDivisionAccuracy=e,this}setPrecision(e){return this.precision=e,this}setFloatTextures(e){return i.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=e,this}static nativeFunctionArguments(e){const t=[],r=[],n=[],i=/^[a-zA-Z_]/,s=/[a-zA-Z_0-9]/;let a=0,o=null,u=null;for(;a<e.length;){const l=e[a],c=e[a+1],h=n.length>0?n[n.length-1]:null;if("FUNCTION_ARGUMENTS"!==h||"/"!==l||"*"!==c)if("MULTI_LINE_COMMENT"!==h||"*"!==l||"/"!==c)if("FUNCTION_ARGUMENTS"!==h||"/"!==l||"/"!==c)if("COMMENT"!==h||"\n"!==l)if(null!==h||"("!==l){if("FUNCTION_ARGUMENTS"===h){if(")"===l){n.pop();break}if("f"===l&&"l"===c&&"o"===e[a+2]&&"a"===e[a+3]&&"t"===e[a+4]&&" "===e[a+5]){n.push("DECLARE_VARIABLE"),u="float",o="",a+=6;continue}if("i"===l&&"n"===c&&"t"===e[a+2]&&" "===e[a+3]){n.push("DECLARE_VARIABLE"),u="int",o="",a+=4;continue}if("v"===l&&"e"===c&&"c"===e[a+2]&&"2"===e[a+3]&&" "===e[a+4]){n.push("DECLARE_VARIABLE"),u="vec2",o="",a+=5;continue}if("v"===l&&"e"===c&&"c"===e[a+2]&&"3"===e[a+3]&&" "===e[a+4]){n.push("DECLARE_VARIABLE"),u="vec3",o="",a+=5;continue}if("v"===l&&"e"===c&&"c"===e[a+2]&&"4"===e[a+3]&&" "===e[a+4]){n.push("DECLARE_VARIABLE"),u="vec4",o="",a+=5;continue}}else if("DECLARE_VARIABLE"===h){if(""===o){if(" "===l){a++;continue}if(!i.test(l))throw new Error("variable name is not expected string")}o+=l,s.test(c)||(n.pop(),r.push(o),t.push(A[u]))}a++}else n.push("FUNCTION_ARGUMENTS"),a++;else n.pop(),a++;else n.push("COMMENT"),a+=2;else n.pop(),a+=2;else n.push("MULTI_LINE_COMMENT"),a+=2}if(n.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:r,argumentTypes:t}}static nativeFunctionReturnType(e){return A[e.match(/int|float|vec[2-4]/)[0]]}static combineKernels(e,t){e.apply(null,arguments);const{texSize:r,context:n,threadDim:s}=t.texSize;let a;if("single"===t.precision){const e=r[0],t=Math.ceil(r[1]/4);a=new Float32Array(e*t*4*4),n.readPixels(0,0,e,4*t,n.RGBA,n.FLOAT,a)}else{const e=new Uint8Array(r[0]*r[1]*4);n.readPixels(0,0,r[0],r[1],n.RGBA,n.UNSIGNED_BYTE,e),a=new Float32Array(e.buffer)}return a=a.subarray(0,s[0]*s[1]*s[2]),1===t.output.length?a:2===t.output.length?i.splitArray(a,t.output[0]):3===t.output.length?i.splitArray(a,t.output[0]*t.output[1]).map((function(e){return i.splitArray(e,t.output[0])})):void 0}constructor(e,t){super(e,t),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:e}=this.constructor;if(this.texSize[0]>e.maxTextureSize||this.texSize[1]>e.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${e.maxTextureSize},${e.maxTextureSize}]`)}translateSource(){throw new Error('"translateSource" not defined on '+this.constructor.name)}pickRenderStrategy(e){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=e=>e,this.TextureConstructor=E,null;if("unsigned"===this.precision)if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=S,null):this.output[1]>0?(this.TextureConstructor=w,null):(this.TextureConstructor=b,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else switch(null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=S,this.formatValues=i.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=w,this.formatValues=i.erect2DPackedFloat,null):(this.TextureConstructor=b,this.formatValues=i.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else{if("single"!==this.precision)throw new Error(`unhandled precision of "${this.precision}"`);if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=x,null):this.output[1]>0?(this.TextureConstructor=v,null):(this.TextureConstructor=y,null):this.output[2]>0?(this.TextureConstructor=g,null):this.output[1]>0?(this.TextureConstructor=d,null):(this.TextureConstructor=m,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,null):this.output[1]>0?(this.TextureConstructor=a,null):(this.TextureConstructor=s,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,null):this.output[1]>0?(this.TextureConstructor=l,null):(this.TextureConstructor=u,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=f,null):this.output[1]>0?(this.TextureConstructor=p,null):(this.TextureConstructor=h,null)}if(this.renderOutput=this.renderValues,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=x,this.formatValues=i.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=v,this.formatValues=i.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=y,this.formatValues=i.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=i.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=i.erect2DArray2,null):(this.TextureConstructor=s,this.formatValues=i.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,this.formatValues=i.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=l,this.formatValues=i.erect2DArray3,null):(this.TextureConstructor=u,this.formatValues=i.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=f,this.formatValues=i.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=p,this.formatValues=i.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=i.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=g,this.formatValues=i.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=d,this.formatValues=i.erect2DFloat,null):(this.TextureConstructor=m,this.formatValues=i.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=i.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=i.erect2DArray2,null):(this.TextureConstructor=s,this.formatValues=i.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,this.formatValues=i.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=l,this.formatValues=i.erect2DArray3,null):(this.TextureConstructor=u,this.formatValues=i.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=f,this.formatValues=i.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=p,this.formatValues=i.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=i.erectArray4,null)}}throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error("unhandled returnType type "+this.returnType)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():"single"===this.precision?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return i.linesToString(this.getMainResultKernelNumberTexture())+i.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return i.linesToString(this.getMainResultKernelArray2Texture())+i.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return i.linesToString(this.getMainResultKernelArray3Texture())+i.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return i.linesToString(this.getMainResultKernelArray4Texture())+i.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;\n`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;\n`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;\n`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;\n`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if("unsigned"!==this.precision)throw new Error('Requires this.precision to be "unsigned"');const{texSize:e,context:t}=this,r=new Uint8Array(e[0]*e[1]*4);return t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,r),r}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if("single"!==this.precision)throw new Error('Requires this.precision to be "single"');const{texSize:e,context:t}=this,r=e[0],n=e[1],i=new Float32Array(r*n*4);return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,i),i}getPixels(e){const{context:t,output:r}=this,[n,s]=r,a=new Uint8Array(n*s*4);return t.readPixels(0,0,n,s,t.RGBA,t.UNSIGNED_BYTE,a),new Uint8ClampedArray((e?a:i.flipPixels(a,n,s)).buffer)}renderKernelsToArrays(){const e={result:this.renderOutput()};for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].toArray();return e}renderKernelsToTextures(){const e={result:this.renderOutput()};if(this.immutable)for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].clone();else for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t];return e}resetSwitchingKernels(){const e=this.switchingKernels;return this.switchingKernels=null,e}setOutput(e){const t=this.toKernelOutput(e);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const r=[t[0],t[1]||1,t[2]||1],n=i.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},r),s=this.texSize;if(s){const t=this.getVariablePrecisionString(s,this.tactic),r=this.getVariablePrecisionString(n,this.tactic);if(t!==r)return this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),void this.switchKernels({type:"outputPrecisionMismatch",precision:r,needed:e})}this.output=t,this.threadDim=r,this.texSize=n;const{context:a}=this;if(a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],a.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let e=0;e<this.mappedTextures.length;e++)this.mappedTextures[e].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=t;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(e){this.switchingKernels?this.switchingKernels.push(e):this.switchingKernels=[e]}getVariablePrecisionString(e=this.texSize,t=this.tactic,r=!1){if(!t){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const t=this.constructor.features[r?"lowIntPrecision":"lowFloatPrecision"],n=this.constructor.features[r?"mediumIntPrecision":"mediumFloatPrecision"],i=this.constructor.features[r?"highIntPrecision":"highFloatPrecision"],s=Math.log2(e[0]*e[1]);if(s<=t.rangeMax)return"lowp";if(s<=n.rangeMax)return"mediump";if(s<=i.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(t){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${t}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(e,t){if(this.immutable)if(this.texture.texture===t.texture){const{prevArg:r}=e;r&&(1===r.texture._refs&&(this.texture.delete(),this.texture=r.clone(),this._textureSwitched=!0),r.delete()),e.prevArg=t.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:r}=this;for(let n=0;n<r.length;n++){const i=r[n];if(i.texture===t.texture){const{prevArg:s}=e;return s&&(1===s.texture._refs&&(i.delete(),r[n]=s.clone(),this._mappedTextureSwitched[n]=!0),s.delete()),void(e.prevArg=t.clone())}}}}onActivate(e){if(this._textureSwitched=!0,this.texture=e.texture,this.mappedTextures){for(let e=0;e<this.mappedTextures.length;e++)this._mappedTextureSwitched[e]=!0;this.mappedTextures=e.mappedTextures}}initCanvas(){}}}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray2Float2D:class extends i{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return n.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}}},{"../../../utils":114,"./float":25}],15:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray2Float3D:class extends i{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return n.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}}},{"../../../utils":114,"./float":25}],16:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray2Float:class extends i{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return n.erectArray2(this.renderValues(),this.output[0],this.output[1])}}}},{"../../../utils":114,"./float":25}],17:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray3Float2D:class extends i{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return n.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}}},{"../../../utils":114,"./float":25}],18:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray3Float3D:class extends i{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return n.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}}},{"../../../utils":114,"./float":25}],19:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray3Float:class extends i{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return n.erectArray3(this.renderValues(),this.output[0])}}}},{"../../../utils":114,"./float":25}],20:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray4Float2D:class extends i{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return n.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}}},{"../../../utils":114,"./float":25}],21:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray4Float3D:class extends i{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return n.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}}},{"../../../utils":114,"./float":25}],22:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureArray4Float:class extends i{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return n.erectArray4(this.renderValues(),this.output[0])}}}},{"../../../utils":114,"./float":25}],23:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureFloat2D:class extends i{constructor(e){super(e),this.type="ArrayTexture(1)"}toArray(){return n.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}}},{"../../../utils":114,"./float":25}],24:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureFloat3D:class extends i{constructor(e){super(e),this.type="ArrayTexture(1)"}toArray(){return n.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}}},{"../../../utils":114,"./float":25}],25:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTexture:i}=e("./index");t.exports={GLTextureFloat:class extends i{get textureType(){return this.context.FLOAT}constructor(e){super(e),this.type="ArrayTexture(1)"}renderRawOutput(){const e=this.context,t=this.size;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);const r=new Float32Array(t[0]*t[1]*4);return e.readPixels(0,0,t[0],t[1],e.RGBA,e.FLOAT,r),r}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return n.erectFloat(this.renderValues(),this.output[0])}}}},{"../../../utils":114,"./index":27}],26:[function(e,t,r){const{GLTextureUnsigned:n}=e("./unsigned");t.exports={GLTextureGraphical:class extends n{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}}},{"./unsigned":33}],27:[function(e,t,r){const{Texture:n}=e("../../../texture");function i(e,t){e.activeTexture(e.TEXTURE15),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}t.exports={GLTexture:class extends n{get textureType(){throw new Error('"textureType" not implemented on '+this.name)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1&&(this.newTexture(),!0)}cloneTexture(){this.texture._refs--;const{context:e,size:t,texture:r,kernel:n}=this;n.debug&&console.warn("cloning internal texture"),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),i(e,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.createTexture();i(e,s),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),e.copyTexSubImage2D(e.TEXTURE_2D,0,0,0,0,0,t[0],t[1]),s._refs=1,this.texture=s}newTexture(){this.texture._refs--;const e=this.context,t=this.size;this.kernel.debug&&console.warn("new internal texture");const r=e.createTexture();i(e,r),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),r._refs=1,this.texture=r}clear(){if(this.texture._refs){this.texture._refs--;const e=this.context,t=this.texture=e.createTexture();i(e,t);const r=this.size;t._refs=1,e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,r[0],r[1],0,this.textureFormat,this.textureType,null)}const{context:e,texture:t}=this;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.bindTexture(e.TEXTURE_2D,t),i(e,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,this.texture._refs&&(this.texture._refs--,this.texture._refs)||(this.context.deleteTexture(this.texture),0===this.texture._refs&&this._framebuffer&&(this.context.deleteFramebuffer(this._framebuffer),this._framebuffer=null)))}framebuffer(){return this._framebuffer||(this._framebuffer=this.context.createFramebuffer()),this._framebuffer.width=this.size[0],this._framebuffer.height=this.size[1],this._framebuffer}}}},{"../../../texture":113}],28:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureMemoryOptimized2D:class extends i{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return n.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}}},{"../../../utils":114,"./float":25}],29:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureMemoryOptimized3D:class extends i{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return n.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}}},{"../../../utils":114,"./float":25}],30:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureFloat:i}=e("./float");t.exports={GLTextureMemoryOptimized:class extends i{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return n.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}}},{"../../../utils":114,"./float":25}],31:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureUnsigned:i}=e("./unsigned");t.exports={GLTextureUnsigned2D:class extends i{constructor(e){super(e),this.type="NumberTexture"}toArray(){return n.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}}},{"../../../utils":114,"./unsigned":33}],32:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTextureUnsigned:i}=e("./unsigned");t.exports={GLTextureUnsigned3D:class extends i{constructor(e){super(e),this.type="NumberTexture"}toArray(){return n.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}}},{"../../../utils":114,"./unsigned":33}],33:[function(e,t,r){const{utils:n}=e("../../../utils"),{GLTexture:i}=e("./index");t.exports={GLTextureUnsigned:class extends i{get textureType(){return this.context.UNSIGNED_BYTE}constructor(e){super(e),this.type="NumberTexture"}renderRawOutput(){const{context:e}=this,t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);const r=new Uint8Array(this.size[0]*this.size[1]*4);return e.readPixels(0,0,this.size[0],this.size[1],e.RGBA,e.UNSIGNED_BYTE,r),r}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return n.erectPackedFloat(this.renderValues(),this.output[0])}}}},{"../../../utils":114,"./index":27}],34:[function(e,t,r){const n=e("gl"),{WebGLKernel:i}=e("../web-gl/kernel"),{glKernelString:s}=e("../gl/kernel-string");let a=null,o=null,u=null,l=null,c=null;t.exports={HeadlessGLKernel:class extends i{static get isSupported(){return null!==a||(this.setupFeatureChecks(),a=null!==u),a}static setupFeatureChecks(){if(o=null,l=null,"function"==typeof n)try{if(u=n(2,2,{preserveDrawingBuffer:!0}),!u||!u.getExtension)return;l={STACKGL_resize_drawingbuffer:u.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:u.getExtension("STACKGL_destroy_context"),OES_texture_float:u.getExtension("OES_texture_float"),OES_texture_float_linear:u.getExtension("OES_texture_float_linear"),OES_element_index_uint:u.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:u.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:u.getExtension("WEBGL_color_buffer_float")},c=this.getFeatures()}catch(e){console.warn(e)}}static isContextMatch(e){try{return"ANGLE"===e.getParameter(e.RENDERER)}catch(e){return!1}}static getIsTextureFloat(){return Boolean(l.OES_texture_float)}static getIsDrawBuffers(){return Boolean(l.WEBGL_draw_buffers)}static getChannelCount(){return l.WEBGL_draw_buffers?u.getParameter(l.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return u.getParameter(u.MAX_TEXTURE_SIZE)}static get testCanvas(){return o}static get testContext(){return u}static get features(){return c}initCanvas(){return{}}initContext(){return n(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(e){const t=e.getExtension("STACKGL_destroy_context");t&&t.destroy&&t.destroy()}toString(){return s(this.constructor,arguments,this,"const gl = context || require('gl')(1, 1);\n","    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\n")}setOutput(e){return super.setOutput(e),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(e,t,r){t.exports={KernelValue:class{constructor(e,t){const{name:r,kernel:n,context:i,checkContext:s,onRequestContextHandle:a,onUpdateValueMismatch:o,origin:u,strictIntegers:l,type:c,tactic:h}=t;if(!r)throw new Error("name not set");if(!c)throw new Error("type not set");if(!u)throw new Error("origin not set");if("user"!==u&&"constants"!==u)throw new Error(`origin must be "user" or "constants" value is "${u}"`);if(!a)throw new Error("onRequestContextHandle is not set");this.name=r,this.origin=u,this.tactic=h,this.varName="constants"===u?"constants."+r:r,this.kernel=n,this.strictIntegers=l,this.type=e.type||c,this.size=e.size||null,this.index=null,this.context=i,this.checkContext=null==s||s,this.contextHandle=null,this.onRequestContextHandle=a,this.onUpdateValueMismatch=o,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error('"getSource" not defined on '+this.constructor.name)}updateValue(e){throw new Error('"updateValue" not defined on '+this.constructor.name)}}}},{}],36:[function(e,t,r){const{utils:n}=e("../utils"),{Input:i}=e("../input");t.exports={Kernel:class{static get isSupported(){throw new Error('"isSupported" not implemented on '+this.name)}static isContextMatch(e){throw new Error('"isContextMatch" not implemented on '+this.name)}static getFeatures(){throw new Error('"getFeatures" not implemented on '+this.name)}static destroyContext(e){throw new Error('"destroyContext" called on '+this.name)}static nativeFunctionArguments(){throw new Error('"nativeFunctionArguments" called on '+this.name)}static nativeFunctionReturnType(){throw new Error('"nativeFunctionReturnType" called on '+this.name)}static combineKernels(){throw new Error('"combineKernels" called on '+this.name)}constructor(e,t){if("object"!=typeof e){if("string"!=typeof e)throw new Error("source not a string");if(!n.isFunctionString(e))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames="string"==typeof e?n.getArgumentNamesFromString(e):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=e,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.onIstanbulCoverageVariable=null,this.removeIstanbulCoverage=!1,this.built=!1,this.signature=null}mergeSettings(e){for(let t in e)if(e.hasOwnProperty(t)&&this.hasOwnProperty(t)){switch(t){case"output":if(!Array.isArray(e.output)){this.setOutput(e.output);continue}break;case"functions":this.functions=[];for(let t=0;t<e.functions.length;t++)this.addFunction(e.functions[t]);continue;case"graphical":e[t]&&!e.hasOwnProperty("precision")&&(this.precision="unsigned"),this[t]=e[t];continue;case"removeIstanbulCoverage":null!==e[t]&&(this[t]=e[t]);continue;case"nativeFunctions":if(!e.nativeFunctions)continue;this.nativeFunctions=[];for(let t=0;t<e.nativeFunctions.length;t++){const r=e.nativeFunctions[t],{name:n,source:i}=r;this.addNativeFunction(n,i,r)}continue}this[t]=e[t]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(e))}build(){throw new Error('"build" not defined on '+this.constructor.name)}run(){throw new Error('"run" not defined on '+this.constructor.name)}initCanvas(){throw new Error('"initCanvas" not defined on '+this.constructor.name)}initContext(){throw new Error('"initContext" not defined on '+this.constructor.name)}initPlugins(e){throw new Error('"initPlugins" not defined on '+this.constructor.name)}addFunction(e,t={}){if(e.name&&e.source&&e.argumentTypes&&"returnType"in e)this.functions.push(e);else if("settings"in e&&"source"in e)this.functions.push(this.functionToIGPUFunction(e.source,e.settings));else{if("string"!=typeof e&&"function"!=typeof e)throw new Error("function not properly defined");this.functions.push(this.functionToIGPUFunction(e,t))}return this}addNativeFunction(e,t,r={}){const{argumentTypes:n,argumentNames:i}=r.argumentTypes?function(e){const t=Object.keys(e),r=[];for(let n=0;n<t.length;n++){const i=t[n];r.push(e[i])}return{argumentTypes:r,argumentNames:t}}(r.argumentTypes):this.constructor.nativeFunctionArguments(t)||{};return this.nativeFunctions.push({name:e,source:t,settings:r,argumentTypes:n,argumentNames:i,returnType:r.returnType||this.constructor.nativeFunctionReturnType(t)}),this}setupArguments(e){if(this.kernelArguments=[],this.argumentTypes)for(let e=0;e<this.argumentTypes.length;e++)this.kernelArguments.push({type:this.argumentTypes[e]});else if(!this.argumentTypes){this.argumentTypes=[];for(let t=0;t<e.length;t++){const r=n.getVariableType(e[t],this.strictIntegers),i="Integer"===r?"Number":r;this.argumentTypes.push(i),this.kernelArguments.push({type:i})}}this.argumentSizes=new Array(e.length),this.argumentBitRatios=new Int32Array(e.length);for(let t=0;t<e.length;t++){const r=e[t];this.argumentSizes[t]=r.constructor===i?r.size:null,this.argumentBitRatios[t]=this.getBitRatio(r)}if(this.argumentNames.length!==e.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let e=null===this.constantTypes;if(e&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let t in this.constants){if(e){const e=n.getVariableType(this.constants[t],this.strictIntegers);this.constantTypes[t]=e,this.kernelConstants.push({name:t,type:e})}else this.kernelConstants.push({name:t,type:this.constantTypes[t]});this.constantBitRatios[t]=this.getBitRatio(this.constants[t])}}setOptimizeFloatMemory(e){return this.optimizeFloatMemory=e,this}toKernelOutput(e){return e.hasOwnProperty("x")?e.hasOwnProperty("y")?e.hasOwnProperty("z")?[e.x,e.y,e.z]:[e.x,e.y]:[e.x]:e}setOutput(e){return this.output=this.toKernelOutput(e),this}setDebug(e){return this.debug=e,this}setGraphical(e){return this.graphical=e,this.precision="unsigned",this}setLoopMaxIterations(e){return this.loopMaxIterations=e,this}setConstants(e){return this.constants=e,this}setConstantTypes(e){return this.constantTypes=e,this}setFunctions(e){for(let t=0;t<e.length;t++)this.addFunction(e[t]);return this}setNativeFunctions(e){for(let t=0;t<e.length;t++){const r=e[t],{name:n,source:i}=r;this.addNativeFunction(n,i,r)}return this}setInjectedNative(e){return this.injectedNative=e,this}setPipeline(e){return this.pipeline=e,this}setPrecision(e){return this.precision=e,this}setDimensions(e){return n.warnDeprecated("method","setDimensions","setOutput"),this.output=e,this}setOutputToTexture(e){return n.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=e,this}setImmutable(e){return this.immutable=e,this}setCanvas(e){return this.canvas=e,this}setStrictIntegers(e){return this.strictIntegers=e,this}setDynamicOutput(e){return this.dynamicOutput=e,this}setHardcodeConstants(e){return n.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(e),this.setDynamicArguments(e),this}setDynamicArguments(e){return this.dynamicArguments=e,this}setUseLegacyEncoder(e){return this.useLegacyEncoder=e,this}setWarnVarUsage(e){return n.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return n.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return n.warnDeprecated("method","getWebGl"),this.context}setContext(e){return this.context=e,this}setArgumentTypes(e){if(Array.isArray(e))this.argumentTypes=e;else{this.argumentTypes=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const r=this.argumentNames.indexOf(t);if(-1===r)throw new Error("unable to find argument "+t);this.argumentTypes[r]=e[t]}}return this}setTactic(e){return this.tactic=e,this}requestFallback(e){if(!this.onRequestFallback)throw new Error('"onRequestFallback" not defined on '+this.constructor.name);return this.fallbackRequested=!0,this.onRequestFallback(e)}validateSettings(){throw new Error('"validateSettings" not defined on '+this.constructor.name)}addSubKernel(e){if(null===this.subKernels&&(this.subKernels=[]),!e.source)throw new Error('subKernel missing "source" property');if(!e.property&&isNaN(e.property))throw new Error('subKernel missing "property" property');if(!e.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(e),this}destroy(e){throw new Error('"destroy" called on '+this.constructor.name)}getBitRatio(e){if("single"===this.precision)return 4;if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===i)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(e){throw new Error('"getPixels" called on '+this.constructor.name)}checkOutput(){if(!this.output||!n.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let e=0;e<this.output.length;e++)if(isNaN(this.output[e])||this.output[e]<1)throw new Error(`${this.constructor.name}.output[${e}] incorrectly defined as \`${this.output[e]}\`, needs to be numeric, and greater than 0`)}prependString(e){throw new Error('"prependString" called on '+this.constructor.name)}hasPrependString(e){throw new Error('"hasPrependString" called on '+this.constructor.name)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(e=>e.name):null,returnType:this.returnType}}}buildSignature(e){const t=this.constructor;this.signature=t.getSignature(this,t.getArgumentTypes(this,e))}static getArgumentTypes(e,t){const r=new Array(t.length);for(let i=0;i<t.length;i++){const s=t[i],a=e.argumentTypes[i];if(s.type)r[i]=s.type;else switch(a){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":r[i]=n.getVariableType(s);break;default:r[i]=a}}return r}static getSignature(e,t){throw new Error('"getSignature" not implemented on '+this.name)}functionToIGPUFunction(e,t={}){if("string"!=typeof e&&"function"!=typeof e)throw new Error("source not a string or function");const r="string"==typeof e?e:e.toString();let i=[];return i=Array.isArray(t.argumentTypes)?t.argumentTypes:"object"==typeof t.argumentTypes?n.getArgumentNamesFromString(r).map(e=>t.argumentTypes[e])||[]:t.argumentTypes||[],{name:n.getFunctionNameFromString(r)||null,source:r,argumentTypes:i,returnType:t.returnType||null}}onActivate(e){}}}},{"../input":110,"../utils":114}],37:[function(e,t,r){const n=`__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;t.exports={fragmentShader:n}},{}],38:[function(e,t,r){const{utils:n}=e("../../utils"),{FunctionNode:i}=e("../function-node"),s={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",HTMLImage:"sampler2D",HTMLImageArray:"sampler2DArray"},a={"===":"==","!==":"!="};t.exports={WebGLFunctionNode:class extends i{constructor(e,t){super(e,t),t&&t.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=t.fixIntegerDivisionAccuracy)}astConditionalExpression(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);const r=this.getType(e.consequent),n=this.getType(e.alternate);return null===r&&null===n?(t.push("if ("),this.astGeneric(e.test,t),t.push(") {"),this.astGeneric(e.consequent,t),t.push(";"),t.push("} else {"),this.astGeneric(e.alternate,t),t.push(";"),t.push("}"),t):(t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t)}astFunction(e,t){if(this.isRootKernel)t.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(e.body),"LiteralInteger"===this.returnType&&(this.returnType="Number"));const{returnType:r}=this;if(r){const e=s[r];if(!e)throw new Error("unknown type "+r);t.push(e)}else t.push("void")}if(t.push(" "),t.push(this.name),t.push("("),!this.isRootKernel)for(let r=0;r<this.argumentNames.length;++r){const i=this.argumentNames[r];r>0&&t.push(", ");let a=this.argumentTypes[this.argumentNames.indexOf(i)];if(!a)throw this.astErrorOutput(`Unknown argument ${i} type`,e);"LiteralInteger"===a&&(this.argumentTypes[r]=a="Number");const o=s[a];if(!o)throw this.astErrorOutput("Unexpected expression",e);const u=n.sanitizeName(i);"sampler2D"===o||"sampler2DArray"===o?t.push(`${o} user_${u},ivec2 user_${u}Size,ivec3 user_${u}Dim`):t.push(`${o} user_${u}`)}t.push(") {\n");for(let r=0;r<e.body.body.length;++r)this.astGeneric(e.body.body[r],t),t.push("\n");return t.push("}\n"),t}astReturnStatement(e,t){if(!e.argument)throw this.astErrorOutput("Unexpected return statement",e);this.pushState("skip-literal-correction");const r=this.getType(e.argument);this.popState("skip-literal-correction");const n=[];switch(this.returnType||(this.returnType="LiteralInteger"===r||"Integer"===r?"Number":r),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(r){case"Integer":n.push("float("),this.astGeneric(e.argument,n),n.push(")");break;case"LiteralInteger":this.castLiteralToFloat(e.argument,n),"Integer"===this.getType(e)&&(n.unshift("float("),n.push(")"));break;default:this.astGeneric(e.argument,n)}break;case"Integer":switch(r){case"Float":case"Number":this.castValueToInteger(e.argument,n);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,n);break;default:this.astGeneric(e.argument,n)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Input":this.astGeneric(e.argument,n);break;default:throw this.astErrorOutput("unhandled return type "+this.returnType,e)}return this.isRootKernel?(t.push(`kernelResult = ${n.join("")};`),t.push("return;")):this.isSubKernel?(t.push(`subKernelResult_${this.name} = ${n.join("")};`),t.push(`return subKernelResult_${this.name};`)):t.push(`return ${n.join("")};`),t}astLiteral(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);const r=this.astKey(e);return Number.isInteger(e.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[r]="Integer",t.push(""+e.value)):(this.isState("casting-to-float")||this.isState("building-float"),this.literalTypes[r]="Number",t.push(e.value+".0")):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[r]="Integer",t.push(Math.round(e.value))):(this.literalTypes[r]="Number",t.push(""+e.value)),t}astBinaryExpression(e,t){if(this.checkAndUpconvertOperator(e,t))return t;if(this.fixIntegerDivisionAccuracy&&"/"===e.operator){switch(t.push("divWithIntCheck("),this.pushState("building-float"),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(", "),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return this.popState("building-float"),t.push(")"),t}t.push("(");const r=this.getType(e.left)||"Number",n=this.getType(e.right)||"Number";if(!r||!n)throw this.astErrorOutput("Unhandled binary expression",e);const i=r+" & "+n;switch(i){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(e.left,t),t.push(a[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((">"===e.operator||"<"===e.operator&&"Literal"===e.right.type)&&!Number.isInteger(e.right.value)){this.pushState("building-float"),this.castValueToFloat(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.pushState("casting-to-integer"),"Literal"===e.right.type){const r=[];if(this.astGeneric(e.right,r),"Integer"!==this.getType(e.right))throw this.astErrorOutput("Unhandled binary expression with literal",e);t.push(r.join(""))}else t.push("int("),this.astGeneric(e.right,t),t.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.castLiteralToInteger(e.right,t),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.castValueToFloat(e.right,t),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(a[e.operator]||e.operator),this.castValueToInteger(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.pushState("casting-to-float"),this.astGeneric(e.right,t),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.castValueToFloat(e.right,t),this.popState("building-float");break;default:throw this.astErrorOutput("Unhandled binary expression between "+i,e)}return t.push(")"),t}checkAndUpconvertOperator(e,t){const r=this.checkAndUpconvertBitwiseOperators(e,t);if(r)return r;const n={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[e.operator];if(!n)return null;switch(t.push(n),t.push("("),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}checkAndUpconvertBitwiseOperators(e,t){const r={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[e.operator];if(!r)return null;switch(t.push(r),t.push("("),this.getType(e.left)){case"Number":case"Float":this.castValueToInteger(e.left,t);break;case"LiteralInteger":this.castLiteralToInteger(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Number":case"Float":this.castValueToInteger(e.right,t);break;case"LiteralInteger":this.castLiteralToInteger(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}checkAndUpconvertBitwiseUnary(e,t){const r={"~":"bitwiseNot"}[e.operator];if(!r)return null;switch(t.push(r),t.push("("),this.getType(e.argument)){case"Number":case"Float":this.castValueToInteger(e.argument,t);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,t);break;default:this.astGeneric(e.argument,t)}return t.push(")"),t}castLiteralToInteger(e,t){return this.pushState("casting-to-integer"),this.astGeneric(e,t),this.popState("casting-to-integer"),t}castLiteralToFloat(e,t){return this.pushState("casting-to-float"),this.astGeneric(e,t),this.popState("casting-to-float"),t}castValueToInteger(e,t){return this.pushState("casting-to-integer"),t.push("int("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-integer"),t}castValueToFloat(e,t){return this.pushState("casting-to-float"),t.push("float("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-float"),t}astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);const r=this.getType(e),i=n.sanitizeName(e.name);return"Infinity"===e.name?t.push("3.402823466e+38"):"Boolean"===r&&this.argumentNames.indexOf(i)>-1?t.push(`bool(user_${i})`):t.push("user_"+i),t}astForStatement(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);const r=[],n=[],i=[],s=[];let a=null;if(e.init){const{declarations:t}=e.init;t.length>1&&(a=!1),this.astGeneric(e.init,r);for(let e=0;e<t.length;e++)t[e].init&&"Literal"!==t[e].init.type&&(a=!1)}else a=!1;if(e.test?this.astGeneric(e.test,n):a=!1,e.update?this.astGeneric(e.update,i):a=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,s),this.popState("loop-body")),null===a&&(a=this.isSafe(e.init)&&this.isSafe(e.test)),a){const e=r.join(""),a=";"!==e[e.length-1];t.push(`for (${e}${a?";":""}${n.join("")};${i.join("")}){\n`),t.push(s.join("")),t.push("}\n")}else{const e=this.getInternalVariableName("safeI");r.length>0&&t.push(r.join(""),"\n"),t.push(`for (int ${e}=0;${e}<LOOP_MAX;${e}++){\n`),n.length>0&&t.push(`if (!${n.join("")}) break;\n`),t.push(s.join("")),t.push(`\n${i.join("")};`),t.push("}\n")}return t}astWhileStatement(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);const r=this.getInternalVariableName("safeI");return t.push(`for (int ${r}=0;${r}<LOOP_MAX;${r}++){\n`),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),this.astGeneric(e.body,t),t.push("}\n"),t}astDoWhileStatement(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);const r=this.getInternalVariableName("safeI");return t.push(`for (int ${r}=0;${r}<LOOP_MAX;${r}++){\n`),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),t.push("}\n"),t}astAssignmentExpression(e,t){if("%="===e.operator)this.astGeneric(e.left,t),t.push("="),t.push("mod("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")");else{if("**="!==e.operator){const r=this.getType(e.left),n=this.getType(e.right);return this.astGeneric(e.left,t),t.push(e.operator),"Integer"!==r&&"Integer"===n?(t.push("float("),this.astGeneric(e.right,t),t.push(")")):this.astGeneric(e.right,t),t}this.astGeneric(e.left,t),t.push("="),t.push("pow("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")")}}astBlockStatement(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(let r=0;r<e.body.length;r++)this.astGeneric(e.body[r],t);this.popState("block-body")}else{t.push("{\n");for(let r=0;r<e.body.length;r++)this.astGeneric(e.body[r],t);t.push("}\n")}return t}astVariableDeclaration(e,t){const r=e.declarations;if(!r||!r[0]||!r[0].init)throw this.astErrorOutput("Unexpected expression",e);const i=[];let a=null;const o=[];let u=[];for(let t=0;t<r.length;t++){const i=r[t],l=i.init,c=this.getDeclaration(i.id),h=this.getType(i.init);let p=h;"LiteralInteger"===p&&(p="Integer"===c.suggestedType?"Integer":"Number");const f=s[p];if(!f)throw this.astErrorOutput(`Markup type ${f} not handled`,e);const m=[];if("Integer"===h&&"Integer"===p){if(c.valueType="Number",0===t||null===a)m.push("float ");else if(p!==a)throw new Error("Unhandled declaration");a=p,m.push(`user_${n.sanitizeName(i.id.name)}=`),m.push("float("),this.astGeneric(l,m),m.push(")")}else c.valueType=p,0===t||null===a?m.push(f+" "):p!==a&&(o.push(u.join(",")),u=[],m.push(f+" ")),a=p,m.push(`user_${n.sanitizeName(i.id.name)}=`),"Number"===h&&"Integer"===p?l.left&&"Literal"===l.left.type?this.astGeneric(l,m):(m.push("int("),this.astGeneric(l,m),m.push(")")):"LiteralInteger"===h&&"Integer"===p?this.castLiteralToInteger(l,m):this.astGeneric(l,m);u.push(m.join(""))}return u.length>0&&o.push(u.join(",")),i.push(o.join(";")),t.push(i.join("")),t.push(";"),t}astIfStatement(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}astSwitchStatement(e,t){if("SwitchStatement"!==e.type)throw this.astErrorOutput("Invalid switch statement",e);const{discriminant:r,cases:n}=e,i=this.getType(r),s="switchDiscriminant"+this.astKey(e,"_");switch(i){case"Float":case"Number":t.push(`float ${s} = `),this.astGeneric(r,t),t.push(";\n");break;case"Integer":t.push(`int ${s} = `),this.astGeneric(r,t),t.push(";\n")}if(1===n.length&&!n[0].test)return this.astGeneric(n[0].consequent,t),t;let a=!1,o=[],u=!1,l=!1;for(let e=0;e<n.length;e++){if(n[e].test){if(0!==e&&l?a?(t.push(s+" == "),a=!1):t.push(` else if (${s} == `):(l=!0,t.push(`if (${s} == `)),"Integer"===i)switch(this.getType(n[e].test)){case"Number":case"Float":this.castValueToInteger(n[e].test,t);break;case"LiteralInteger":this.castLiteralToInteger(n[e].test,t)}else{if("Float"!==i)throw new Error("unhanlded");switch(this.getType(n[e].test)){case"LiteralInteger":this.castLiteralToFloat(n[e].test,t);break;case"Integer":this.castValueToFloat(n[e].test,t)}}if(!n[e].consequent||0===n[e].consequent.length){a=!0,t.push(" || ");continue}t.push(") {\n")}else{if(n.length>e+1){u=!0,this.astGeneric(n[e].consequent,o);continue}t.push(" else {\n")}this.astGeneric(n[e].consequent,t),t.push("\n}")}return u&&(t.push(" else {"),t.push(o.join("")),t.push("}")),t}astThisExpression(e,t){return t.push("this"),t}astMemberExpression(e,t){const{property:r,name:i,signature:s,origin:a,type:o,xProperty:u,yProperty:l,zProperty:c}=this.getMemberExpressionDetails(e);switch(s){case"value.thread.value":case"this.thread.value":if("x"!==i&&"y"!==i&&"z"!==i)throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",e);return t.push("threadId."+i),t;case"this.output.value":if(this.dynamicOutput)switch(i){case"x":this.isState("casting-to-float")?t.push("float(uOutputDim.x)"):t.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?t.push("float(uOutputDim.y)"):t.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?t.push("float(uOutputDim.z)"):t.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",e)}else switch(i){case"x":this.isState("casting-to-integer")?t.push(this.output[0]):t.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?t.push(this.output[1]):t.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?t.push(this.output[2]):t.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if("Math"===a)return t.push(Math[i]),t;const s=n.sanitizeName(i);switch(r){case"r":return t.push(`user_${s}.r`),t;case"g":return t.push(`user_${s}.g`),t;case"b":return t.push(`user_${s}.b`),t;case"a":return t.push(`user_${s}.a`),t}break;case"this.constants.value":if(void 0===u)switch(o){case"Array(2)":case"Array(3)":case"Array(4)":return t.push("constants_"+n.sanitizeName(i)),t}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(r)),t.push("]"),t;case"[][]":return this.astArrayExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(r)),t.push("]"),t;case"value.value[]":case"value.value[][]":if(this.removeIstanbulCoverage)return t;default:throw this.astErrorOutput("Unexpected expression",e)}if(!1===e.computed)switch(o){case"Number":case"Integer":case"Float":case"Boolean":return t.push(`${a}_${n.sanitizeName(i)}`),t}const h=`${a}_${n.sanitizeName(i)}`;switch(o){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(u)),t.push("]");break;case"HTMLImageArray":t.push(`getImage3D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(1)":t.push(`getFloatFromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":t.push(`getMemoryOptimizedVec2(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(2)":t.push(`getVec2FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":t.push(`getMemoryOptimizedVec3(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(3)":t.push(`getVec3FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":t.push(`getMemoryOptimizedVec4(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":t.push(`getVec4FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if("single"===this.precision)t.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");else{const e="user"===a?this.lookupFunctionArgumentBitRatio(this.name,i):this.constantBitRatios[i];switch(e){case 1:t.push(`get8(${h}, ${h}Size, ${h}Dim, `);break;case 2:t.push(`get16(${h}, ${h}Size, ${h}Dim, `);break;case 4:case 0:t.push(`get32(${h}, ${h}Size, ${h}Dim, `);break;default:throw new Error("unhandled bit ratio of "+e)}this.memberExpressionXYZ(u,l,c,t),t.push(")")}break;case"MemoryOptimizedNumberTexture":t.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;default:throw new Error(`unhandled member expression "${o}"`)}return t}astCallExpression(e,t){if(!e.callee)throw this.astErrorOutput("Unknown CallExpression",e);let r=null;const i=this.isAstMathFunction(e);if(r=i||e.callee.object&&"ThisExpression"===e.callee.object.type?e.callee.property.name:"SequenceExpression"!==e.callee.type||"Literal"!==e.callee.expressions[0].type||isNaN(e.callee.expressions[0].raw)?e.callee.name:e.callee.expressions[1].property.name,!r)throw this.astErrorOutput("Unhandled function, couldn't find name",e);switch(r){case"pow":r="_pow";break;case"round":r="_round"}if(this.calledFunctions.indexOf(r)<0&&this.calledFunctions.push(r),"random"===r&&this.plugins&&this.plugins.length>0)for(let e=0;e<this.plugins.length;e++){const r=this.plugins[e];if("Math.random()"===r.functionMatch&&r.functionReplace)return t.push(r.functionReplace),t}if(this.onFunctionCall&&this.onFunctionCall(this.name,r,e.arguments),t.push(r),t.push("("),i)for(let r=0;r<e.arguments.length;++r){const n=e.arguments[r],i=this.getType(n);switch(r>0&&t.push(", "),i){case"Integer":this.castValueToFloat(n,t);break;default:this.astGeneric(n,t)}}else{const i=this.lookupFunctionArgumentTypes(r)||[];for(let s=0;s<e.arguments.length;++s){const a=e.arguments[s];let o=i[s];s>0&&t.push(", ");const u=this.getType(a);switch(o||(this.triggerImplyArgumentType(r,s,u,this),o=u),u){case"Boolean":this.astGeneric(a,t);continue;case"Number":case"Float":if("Integer"===o){t.push("int("),this.astGeneric(a,t),t.push(")");continue}if("Number"===o||"Float"===o){this.astGeneric(a,t);continue}if("LiteralInteger"===o){this.castLiteralToFloat(a,t);continue}break;case"Integer":if("Number"===o||"Float"===o){t.push("float("),this.astGeneric(a,t),t.push(")");continue}if("Integer"===o){this.astGeneric(a,t);continue}break;case"LiteralInteger":if("Integer"===o){this.castLiteralToInteger(a,t);continue}if("Number"===o||"Float"===o){this.castLiteralToFloat(a,t);continue}if("LiteralInteger"===o){this.astGeneric(a,t);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(o===u){if("Identifier"===a.type)t.push("user_"+n.sanitizeName(a.name));else{if("ArrayExpression"!==a.type&&"MemberExpression"!==a.type&&"CallExpression"!==a.type)throw this.astErrorOutput("Unhandled argument type "+a.type,e);this.astGeneric(a,t)}continue}break;case"HTMLCanvas":case"HTMLImage":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(o===u){if("Identifier"!==a.type)throw this.astErrorOutput("Unhandled argument type "+a.type,e);this.triggerImplyArgumentBitRatio(this.name,a.name,r,s);const i=n.sanitizeName(a.name);t.push(`user_${i},user_${i}Size,user_${i}Dim`);continue}}throw this.astErrorOutput(`Unhandled argument combination of ${u} and ${o} for argument named "${a.name}"`,e)}}return t.push(")"),t}astArrayExpression(e,t){const r=e.elements.length;t.push("vec"+r+"(");for(let n=0;n<r;++n){n>0&&t.push(", ");const r=e.elements[n];this.astGeneric(r,t)}return t.push(")"),t}memberExpressionXYZ(e,t,r,n){return r?n.push(this.memberExpressionPropertyMarkup(r),", "):n.push("0, "),t?n.push(this.memberExpressionPropertyMarkup(t),", "):n.push("0, "),n.push(this.memberExpressionPropertyMarkup(e)),n}memberExpressionPropertyMarkup(e){if(!e)throw new Error("Property not set");const t=[];switch(this.getType(e)){case"Number":case"Float":this.castValueToInteger(e,t);break;case"LiteralInteger":this.castLiteralToInteger(e,t);break;default:this.astGeneric(e,t)}return t.join("")}}}},{"../../utils":114,"../function-node":10}],39:[function(e,t,r){const{WebGLKernelValueBoolean:n}=e("./kernel-value/boolean"),{WebGLKernelValueFloat:i}=e("./kernel-value/float"),{WebGLKernelValueInteger:s}=e("./kernel-value/integer"),{WebGLKernelValueHTMLImage:a}=e("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:o}=e("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:u}=e("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:l}=e("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:c}=e("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:h}=e("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:p}=e("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:f}=e("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:m}=e("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:d}=e("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:g}=e("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:y}=e("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:v}=e("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:x}=e("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:b}=e("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:w}=e("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:S}=e("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:E}=e("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:A}=e("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:T}=e("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueSingleArray2:M}=e("./kernel-value/single-array2"),{WebGLKernelValueSingleArray3:_}=e("./kernel-value/single-array3"),{WebGLKernelValueSingleArray4:N}=e("./kernel-value/single-array4"),{WebGLKernelValueUnsignedArray:I}=e("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:C}=e("./kernel-value/dynamic-unsigned-array"),O={unsigned:{dynamic:{Boolean:n,Integer:s,Float:i,Array:C,"Array(2)":!1,"Array(3)":!1,"Array(4)":!1,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:f,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:d,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:!1,HTMLVideo:l},static:{Boolean:n,Float:i,Integer:s,Array:I,"Array(2)":!1,"Array(3)":!1,"Array(4)":!1,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:p,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:m,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:!1,HTMLVideo:u}},single:{dynamic:{Boolean:n,Integer:s,Float:i,Array:x,"Array(2)":M,"Array(3)":_,"Array(4)":N,"Array1D(2)":w,"Array1D(3)":w,"Array1D(4)":w,"Array2D(2)":E,"Array2D(3)":E,"Array2D(4)":E,"Array3D(2)":T,"Array3D(3)":T,"Array3D(4)":T,Input:h,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:d,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:!1,HTMLVideo:l},static:{Boolean:n,Float:i,Integer:s,Array:v,"Array(2)":M,"Array(3)":_,"Array(4)":N,"Array1D(2)":b,"Array1D(3)":b,"Array1D(4)":b,"Array2D(2)":S,"Array2D(3)":S,"Array2D(4)":S,"Array3D(2)":A,"Array3D(3)":A,"Array3D(4)":A,Input:c,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:m,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:!1,HTMLVideo:u}}};t.exports={lookupKernelValueType:function(e,t,r,n){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!r)throw new Error("precision missing");n.type&&(e=n.type);const i=O[r][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error("Could not find a KernelValue for "+e);return i[e]},kernelValueMaps:O}},{"./kernel-value/boolean":41,"./kernel-value/dynamic-html-image":42,"./kernel-value/dynamic-html-video":43,"./kernel-value/dynamic-memory-optimized-number-texture":44,"./kernel-value/dynamic-number-texture":45,"./kernel-value/dynamic-single-array":46,"./kernel-value/dynamic-single-array1d-i":47,"./kernel-value/dynamic-single-array2d-i":48,"./kernel-value/dynamic-single-array3d-i":49,"./kernel-value/dynamic-single-input":50,"./kernel-value/dynamic-unsigned-array":51,"./kernel-value/dynamic-unsigned-input":52,"./kernel-value/float":53,"./kernel-value/html-image":54,"./kernel-value/html-video":55,"./kernel-value/integer":57,"./kernel-value/memory-optimized-number-texture":58,"./kernel-value/number-texture":59,"./kernel-value/single-array":60,"./kernel-value/single-array1d-i":61,"./kernel-value/single-array2":62,"./kernel-value/single-array2d-i":63,"./kernel-value/single-array3":64,"./kernel-value/single-array3d-i":65,"./kernel-value/single-array4":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(e,t,r){const{WebGLKernelValue:n}=e("./index"),{Input:i}=e("../../../input");t.exports={WebGLKernelArray:class extends n{checkSize(e,t){if(!this.kernel.validate)return;const{maxTextureSize:r}=this.kernel.constructor.features;if(e>r||t>r)throw e>t?new Error(`Argument texture width of ${e} larger than maximum size of ${r} for your GPU`):e<t?new Error(`Argument texture height of ${t} larger than maximum size of ${r} for your GPU`):new Error(`Argument texture height and width of ${t} larger than maximum size of ${r} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(e){if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===i)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}}},{"../../../input":110,"./index":56}],41:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValue:i}=e("./index");t.exports={WebGLKernelValueBoolean:class extends i{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const bool ${this.id} = ${e};\n`:`uniform bool ${this.id};\n`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}}},{"../../../utils":114,"./index":56}],42:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueHTMLImage:i}=e("./html-image");t.exports={WebGLKernelValueDynamicHTMLImage:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){const{width:t,height:r}=e;this.checkSize(t,r),this.dimensions=[t,r,1],this.textureSize=[t,r],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./html-image":54}],43:[function(e,t,r){const{WebGLKernelValueDynamicHTMLImage:n}=e("./dynamic-html-image");t.exports={WebGLKernelValueDynamicHTMLVideo:class extends n{}}},{"./dynamic-html-image":42}],44:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:i}=e("./memory-optimized-number-texture");t.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./memory-optimized-number-texture":58}],45:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueNumberTexture:i}=e("./number-texture");t.exports={WebGLKernelValueDynamicNumberTexture:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./number-texture":59}],46:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray:i}=e("./single-array");t.exports={WebGLKernelValueDynamicSingleArray:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./single-array":60}],47:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray1DI:i}=e("./single-array1d-i");t.exports={WebGLKernelValueDynamicSingleArray1DI:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./single-array1d-i":61}],48:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray2DI:i}=e("./single-array2d-i");t.exports={WebGLKernelValueDynamicSingleArray2DI:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./single-array2d-i":63}],49:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray3DI:i}=e("./single-array3d-i");t.exports={WebGLKernelValueDynamicSingleArray3DI:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./single-array3d-i":65}],50:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleInput:i}=e("./single-input");t.exports={WebGLKernelValueDynamicSingleInput:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){let[t,r,i]=e.size;this.dimensions=new Int32Array([t||1,r||1,i||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./single-input":67}],51:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedArray:i}=e("./unsigned-array");t.exports={WebGLKernelValueDynamicUnsignedArray:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const t=this.getTransferArrayType(e);this.preUploadValue=new t(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./unsigned-array":68}],52:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedInput:i}=e("./unsigned-input");t.exports={WebGLKernelValueDynamicUnsignedInput:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}updateValue(e){let[t,r,i]=e.size;this.dimensions=new Int32Array([t||1,r||1,i||1]),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const s=this.getTransferArrayType(e.value);this.preUploadValue=new s(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./unsigned-input":69}],53:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValue:i}=e("./index");t.exports={WebGLKernelValueFloat:class extends i{constructor(e,t){super(e,t),this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(e){return"constants"===this.origin?Number.isInteger(e)?`const float ${this.id} = ${e}.0;\n`:`const float ${this.id} = ${e};\n`:`uniform float ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1f(this.id,this.uploadValue=e)}}}},{"../../../utils":114,"./index":56}],54:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueHTMLImage:class extends i{constructor(e,t){super(e,t);const{width:r,height:n}=e;this.checkSize(r,n),this.dimensions=[r,n,1],this.textureSize=[r,n],this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],55:[function(e,t,r){const{WebGLKernelValueHTMLImage:n}=e("./html-image");t.exports={WebGLKernelValueHTMLVideo:class extends n{}}},{"./html-image":54}],56:[function(e,t,r){const{utils:n}=e("../../../utils"),{KernelValue:i}=e("../../kernel-value");t.exports={WebGLKernelValue:class extends i{constructor(e,t){super(e,t),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=e.constructor,this.onRequestTexture=t.onRequestTexture,this.onRequestIndex=t.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${n.sanitizeName(this.name)}`}setup(){}getTransferArrayType(e){if(Array.isArray(e[0]))return this.getTransferArrayType(e[0]);switch(e.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return e.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),e.constructor}getStringValueHandler(){throw new Error('"getStringValueHandler" not implemented on '+this.constructor.name)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}}},{"../../../utils":114,"../../kernel-value":35}],57:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValue:i}=e("./index");t.exports={WebGLKernelValueInteger:class extends i{constructor(e,t){super(e,t),this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(e){return"constants"===this.origin?`const int ${this.id} = ${parseInt(e)};\n`:`uniform int ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}}},{"../../../utils":114,"./index":56}],58:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array"),s="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";t.exports={WebGLKernelValueMemoryOptimizedNumberTexture:class extends i{constructor(e,t){super(e,t);const[r,n]=e.size;this.checkSize(r,n),this.dimensions=e.dimensions,this.textureSize=e.size,this.uploadValue=e.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);if(this.checkContext&&e.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:t,context:r}=this;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture.texture===e.texture)throw new Error(s);if(t.mappedTextures){const{mappedTextures:r}=t;for(let t=0;t<r.length;t++)if(r[t].texture===e.texture)throw new Error(s)}}r.activeTexture(this.contextHandle),r.bindTexture(r.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}},sameError:s}},{"../../../utils":114,"./array":40}],59:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array"),{sameError:s}=e("./memory-optimized-number-texture");t.exports={WebGLKernelValueNumberTexture:class extends i{constructor(e,t){super(e,t);const[r,n]=e.size;this.checkSize(r,n);const{size:i,dimensions:s}=e;this.bitRatio=this.getBitRatio(e),this.dimensions=s,this.textureSize=i,this.uploadValue=e.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);if(this.checkContext&&e.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:t,context:r}=this;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture.texture===e.texture)throw new Error(s);if(t.mappedTextures){const{mappedTextures:r}=t;for(let t=0;t<r.length;t++)if(r[t].texture===e.texture)throw new Error(s)}}r.activeTexture(this.contextHandle),r.bindTexture(r.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":58}],60:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueSingleArray:class extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],61:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueSingleArray1DI:class extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flatten2dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],62:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValue:i}=e("./index");t.exports={WebGLKernelValueSingleArray2:class extends i{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec2 ${this.id} = vec2(${e[0]},${e[1]});\n`:`uniform vec2 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform2fv(this.id,this.uploadValue=e)}}}},{"../../../utils":114,"./index":56}],63:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueSingleArray2DI:class extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flatten3dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],64:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValue:i}=e("./index");t.exports={WebGLKernelValueSingleArray3:class extends i{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec3 ${this.id} = vec3(${e[0]},${e[1]},${e[2]});\n`:`uniform vec3 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform3fv(this.id,this.uploadValue=e)}}}},{"../../../utils":114,"./index":56}],65:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueSingleArray3DI:class extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],t[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flatten4dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],66:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValue:i}=e("./index");t.exports={WebGLKernelValueSingleArray4:class extends i{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec4 ${this.id} = vec4(${e[0]},${e[1]},${e[2]},${e[3]});\n`:`uniform vec4 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform4fv(this.id,this.uploadValue=e)}}}},{"../../../utils":114,"./index":56}],67:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueSingleInput:class extends i{constructor(e,t){super(e,t),this.bitRatio=4;let[r,i,s]=e.size;this.dimensions=new Int32Array([r||1,i||1,s||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],68:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueUnsignedArray:class extends i{constructor(e,t){super(e,t),this.bitRatio=this.getBitRatio(e),this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(e),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return n.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],69:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");t.exports={WebGLKernelValueUnsignedInput:class extends i{constructor(e,t){super(e,t),this.bitRatio=this.getBitRatio(e);const[r,i,s]=e.size;this.dimensions=new Int32Array([r||1,i||1,s||1]),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(e.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return n.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return n.linesToString(["uniform sampler2D "+this.id,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(value.constructor);const{context:t}=this;n.flattenTo(e.value,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"./array":40}],70:[function(e,t,r){const{GLKernel:n}=e("../gl/kernel"),{FunctionBuilder:i}=e("../function-builder"),{WebGLFunctionNode:s}=e("./function-node"),{utils:a}=e("../../utils"),o=e("../../plugins/math-random-uniformly-distributed"),{fragmentShader:u}=e("./fragment-shader"),{vertexShader:l}=e("./vertex-shader"),{glKernelString:c}=e("../gl/kernel-string"),{lookupKernelValueType:h}=e("./kernel-value-maps");let p=null,f=null,m=null,d=null,g=null;const y=[o],v=[],x={};t.exports={WebGLKernel:class extends n{static get isSupported(){return null!==p||(this.setupFeatureChecks(),p=this.isContextMatch(m)),p}static setupFeatureChecks(){"undefined"!=typeof document?f=document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas&&(f=new OffscreenCanvas(0,0)),f&&(m=f.getContext("webgl")||f.getContext("experimental-webgl"),m&&m.getExtension&&(d={OES_texture_float:m.getExtension("OES_texture_float"),OES_texture_float_linear:m.getExtension("OES_texture_float_linear"),OES_element_index_uint:m.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:m.getExtension("WEBGL_draw_buffers")},g=this.getFeatures()))}static isContextMatch(e){return"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext}static getIsTextureFloat(){return Boolean(d.OES_texture_float)}static getIsDrawBuffers(){return Boolean(d.WEBGL_draw_buffers)}static getChannelCount(){return d.WEBGL_draw_buffers?m.getParameter(d.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return m.getParameter(m.MAX_TEXTURE_SIZE)}static lookupKernelValueType(e,t,r,n){return h(e,t,r,n)}static get testCanvas(){return f}static get testContext(){return m}static get features(){return g}static get fragmentShader(){return u}static get vertexShader(){return l}constructor(e,t){super(e,t),this.program=null,this.pipeline=t.pipeline,this.endianness=a.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.removeIstanbulCoverage=!0,this.texture=null,this.mappedTextures=null,this.mergeSettings(e.settings||t),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if("undefined"!=typeof document){const e=document.createElement("canvas");return e.width=2,e.height=2,e}if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0)}initContext(){const e={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e)}initPlugins(e){const t=[],{source:r}=this;if("string"==typeof r)for(let e=0;e<y.length;e++){const n=y[e];r.match(n.functionMatch)&&t.push(n)}else if("object"==typeof r&&e.pluginNames)for(let r=0;r<y.length;r++){const n=y[r];e.pluginNames.some(e=>e===n.name)&&t.push(n)}return t}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(e){if(!this.validate)return void(this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:t}=this.constructor;if(!0===this.optimizeFloatMemory&&!t.isTextureFloat)throw new Error("Float textures are not supported");if("single"===this.precision&&!t.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision=t.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=a.getVariableType(e[0],this.strictIntegers);switch(t){case"Array":this.output=a.getDimensions(t);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+t)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"precision"===this.precision&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),void(this.texSize=a.clone(this.output))}null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:e,canvas:t}=this;if(null===this.maxTexSize){let r=v.indexOf(t);-1===r&&(r=v.length,v.push(t),x[r]=[e[0],e[1]]),this.maxTexSize=x[r]}this.maxTexSize[0]<e[0]&&(this.maxTexSize[0]=e[0]),this.maxTexSize[1]<e[1]&&(this.maxTexSize[1]=e[1])}setupArguments(e){this.kernelArguments=[],this.argumentTextureCount=0;const t=null===this.argumentTypes;if(t&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],e.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(e.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:r}=this;let n=0;const i=()=>this.createTexture(),s=()=>n++,o=e=>{this.switchKernels({type:"argumentMismatch",needed:e})},u=()=>r.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let n=0;n<e.length;n++){const l=e[n],c=this.argumentNames[n];let h;t?(h=a.getVariableType(l,this.strictIntegers),this.argumentTypes.push(h)):h=this.argumentTypes[n];const p=this.constructor.lookupKernelValueType(h,this.dynamicArguments?"dynamic":"static",this.precision,e[n]);if(null===p)return this.requestFallback(e);const f=new p(l,{name:c,type:h,tactic:this.tactic,origin:"user",context:r,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:i,onRequestIndex:s,onUpdateValueMismatch:o,onRequestContextHandle:u});this.kernelArguments.push(f),f.setup(),this.argumentSizes.push(f.textureSize),this.argumentBitRatios[n]=f.bitRatio}}createTexture(){const e=this.context.createTexture();return this.textureCache.push(e),e}setupConstants(e){const{context:t}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let r=null===this.constantTypes;r&&(this.constantTypes={}),this.constantBitRatios={};let n=0;for(const i in this.constants){const s=this.constants[i];let o;r?(o=a.getVariableType(s,this.strictIntegers),this.constantTypes[i]=o):o=this.constantTypes[i];const u=this.constructor.lookupKernelValueType(o,"static",this.precision,s);if(null===u)return this.requestFallback(e);const l=new u(s,{name:i,type:o,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>n++,onRequestContextHandle:()=>t.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[i]=l.bitRatio,this.kernelConstants.push(l),l.setup(),l.forceUploadEachRun&&this.forceUploadKernelConstants.push(l)}}build(){if(this.built)return;if(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)return;if(this.setupArguments(arguments),this.fallbackRequested)return;this.updateMaxTexSize(),this.translateSource();const e=this.pickRenderStrategy(arguments);if(e)return e;const{texSize:t,context:r,canvas:n}=this;r.enable(r.SCISSOR_TEST),this.pipeline&&this.precision,r.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),n.width=this.maxTexSize[0],n.height=this.maxTexSize[1];const i=this.threadDim=Array.from(this.output);for(;i.length<3;)i.push(1);const s=this.getVertexShader(arguments),a=r.createShader(r.VERTEX_SHADER);r.shaderSource(a,s),r.compileShader(a),this.vertShader=a;const o=this.getFragmentShader(arguments),u=r.createShader(r.FRAGMENT_SHADER);if(r.shaderSource(u,o),r.compileShader(u),this.fragShader=u,this.debug&&(console.log("GLSL Shader Output:"),console.log(o)),!r.getShaderParameter(a,r.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+r.getShaderInfoLog(a));if(!r.getShaderParameter(u,r.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+r.getShaderInfoLog(u));const l=this.program=r.createProgram();r.attachShader(l,a),r.attachShader(l,u),r.linkProgram(l),this.framebuffer=r.createFramebuffer(),this.framebuffer.width=t[0],this.framebuffer.height=t[1];const c=new Float32Array([-1,-1,1,-1,-1,1,1,1]),h=new Float32Array([0,0,1,0,0,1,1,1]),p=c.byteLength;let f=this.buffer;f?r.bindBuffer(r.ARRAY_BUFFER,f):(f=this.buffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,f),r.bufferData(r.ARRAY_BUFFER,c.byteLength+h.byteLength,r.STATIC_DRAW)),r.bufferSubData(r.ARRAY_BUFFER,0,c),r.bufferSubData(r.ARRAY_BUFFER,p,h);const m=r.getAttribLocation(this.program,"aPos");r.enableVertexAttribArray(m),r.vertexAttribPointer(m,2,r.FLOAT,!1,0,0);const d=r.getAttribLocation(this.program,"aTexCoord");r.enableVertexAttribArray(d),r.vertexAttribPointer(d,2,r.FLOAT,!1,0,p),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer);let g=0;r.useProgram(this.program);for(let e in this.constants)this.kernelConstants[g++].updateValue(this.constants[e]);this._setupOutputTexture(),null!==this.subKernels&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const e=i.fromKernel(this,s,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}setupReturnTypes(e){if(this.graphical||this.returnType||(this.returnType=e.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let t=0;t<this.subKernels.length;t++){const r=this.subKernels[t];r.returnType||(r.returnType=e.getSubKernelResultType(t))}}run(){const{kernelArguments:e,texSize:t,forceUploadKernelConstants:r,context:n}=this;n.useProgram(this.program),n.scissor(0,0,t[0],t[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",t)),this.setUniform2f("ratio",t[0]/this.maxTexSize[0],t[1]/this.maxTexSize[1]);for(let e=0;e<r.length;e++){const t=r[e];if(t.updateValue(this.constants[t.name]),this.switchingKernels)return}for(let t=0;t<e.length;t++)if(e[t].updateValue(arguments[t]),this.switchingKernels)return;if(this.plugins)for(let e=0;e<this.plugins.length;e++){const t=this.plugins[e];t.onBeforeRun&&t.onBeforeRun(this)}if(this.graphical)return this.pipeline?(n.bindRenderbuffer(n.RENDERBUFFER,null),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),n.drawArrays(n.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture):(n.bindRenderbuffer(n.RENDERBUFFER,null),n.bindFramebuffer(n.FRAMEBUFFER,null),void n.drawArrays(n.TRIANGLE_STRIP,0,4));n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),null!==this.subKernels&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),n.drawArrays(n.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:e}=this;switch(this.getInternalFormat()){case e.RGBA:return e.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const e=this.context;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const e=this.context,t=this.texSize;if(this.texture)return void e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);const r=this.createTexture();e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const n=this.getInternalFormat();"single"===this.precision?e.texImage2D(e.TEXTURE_2D,0,n,t[0],t[1],0,e.RGBA,e.FLOAT,null):e.texImage2D(e.TEXTURE_2D,0,n,t[0],t[1],0,n,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),this.texture=new this.TextureConstructor({texture:r,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const e=this.context;for(let t=0;t<this.mappedTextures.length;t++){const r=this.mappedTextures[t];(r.beforeMutate()||this._mappedTextureSwitched[t])&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,r.texture,0),this._mappedTextureSwitched[t]=!1)}}_setupSubOutputTextures(){const e=this.context;if(this.mappedTextures){for(let t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);return}const t=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let r=0;r<this.subKernels.length;r++){const n=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+r+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+r),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),"single"===this.precision?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,e.FLOAT,null):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+r+1,e.TEXTURE_2D,n,0),this.mappedTextures.push(new this.TextureConstructor({texture:n,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(e,t){if(this.uniform1fCache.hasOwnProperty(e)&&t===this.uniform1fCache[e])return;this.uniform1fCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform1f(r,t)}setUniform1i(e,t){if(this.uniform1iCache.hasOwnProperty(e)&&t===this.uniform1iCache[e])return;this.uniform1iCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform1i(r,t)}setUniform2f(e,t,r){if(this.uniform2fCache.hasOwnProperty(e)){const n=this.uniform2fCache[e];if(t===n[0]&&r===n[1])return}this.uniform2fCache[e]=[t,r];const n=this.getUniformLocation(e);this.context.uniform2f(n,t,r)}setUniform2fv(e,t){if(this.uniform2fvCache.hasOwnProperty(e)){const r=this.uniform2fvCache[e];if(t[0]===r[0]&&t[1]===r[1])return}this.uniform2fvCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform2fv(r,t)}setUniform2iv(e,t){if(this.uniform2ivCache.hasOwnProperty(e)){const r=this.uniform2ivCache[e];if(t[0]===r[0]&&t[1]===r[1])return}this.uniform2ivCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform2iv(r,t)}setUniform3fv(e,t){if(this.uniform3fvCache.hasOwnProperty(e)){const r=this.uniform3fvCache[e];if(t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2])return}this.uniform3fvCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform3fv(r,t)}setUniform3iv(e,t){if(this.uniform3ivCache.hasOwnProperty(e)){const r=this.uniform3ivCache[e];if(t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2])return}this.uniform3ivCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform3iv(r,t)}setUniform4fv(e,t){if(this.uniform4fvCache.hasOwnProperty(e)){const r=this.uniform4fvCache[e];if(t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3])return}this.uniform4fvCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform4fv(r,t)}setUniform4iv(e,t){if(this.uniform4ivCache.hasOwnProperty(e)){const r=this.uniform4ivCache[e];if(t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3])return}this.uniform4ivCache[e]=t;const r=this.getUniformLocation(e);this.context.uniform4iv(r,t)}getUniformLocation(e){return this.programUniformLocationCache.hasOwnProperty(e)?this.programUniformLocationCache[e]:this.programUniformLocationCache[e]=this.context.getUniformLocation(this.program,e)}_getFragShaderArtifactMap(e){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(e),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(e){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return null!==this.subKernels?"#extension GL_EXT_draw_buffers : require\n":""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};\n`:" 1000;\n"}_getPluginsString(){return this.plugins?this.plugins.map(e=>e.source&&this.source.match(e.functionMatch)?e.source:"").join("\n"):"\n"}_getConstantsString(){const e=[],{threadDim:t,texSize:r}=this;return this.dynamicOutput?e.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):e.push(`ivec3 uOutputDim = ivec3(${t[0]}, ${t[1]}, ${t[2]})`,`ivec2 uTexSize = ivec2(${r[0]}, ${r[1]})`),a.linesToString(e)}_getTextureCoordinate(){const e=this.subKernels;return null===e||e.length<1?"varying vec2 vTexCoord;\n":"out vec2 vTexCoord;\n"}_getDecode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getEncode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?"float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}":""}_getMainArgumentsString(e){const t=[],{argumentNames:r}=this;for(let n=0;n<r.length;n++)t.push(this.kernelArguments[n].getSource(e[n]));return t.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const e=[],{constants:t}=this;if(t){let r=0;for(const n in t)this.constants.hasOwnProperty(n)&&e.push(this.kernelConstants[r++].getSource(this.constants[n]))}return e.join("")}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const e=[this.getKernelResultDeclaration()],{subKernels:t}=this;if(null!==t)switch(this.returnType){case"Number":case"Float":case"Integer":for(let r=0;r<t.length;r++){const n=t[r];e.push("Integer"===n.returnType?`int subKernelResult_${n.name} = 0`:`float subKernelResult_${n.name} = 0.0`)}break;case"Array(2)":for(let r=0;r<t.length;r++)e.push("vec2 subKernelResult_"+t[r].name);break;case"Array(3)":for(let r=0;r<t.length;r++)e.push("vec3 subKernelResult_"+t[r].name);break;case"Array(4)":for(let r=0;r<t.length;r++)e.push("vec4 subKernelResult_"+t[r].name)}return a.linesToString(e)+this.translatedSource}getMainResultGraphical(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const e=[];if(!this.subKernels)return"";for(let t=0;t<this.subKernels.length;t++)"Integer"===this.subKernels[t].returnType?e.push(`  gl_FragData[${t+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[t].name}))`):e.push(`  gl_FragData[${t+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[t].name})`);return a.linesToString(e)}getMainResultMemoryOptimizedFloats(){const e=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const t=["r","g","b","a"];for(let r=0;r<t.length;r++){const n=t[r];this.getMainResultKernelMemoryOptimizedFloats(e,n),this.getMainResultSubKernelMemoryOptimizedFloats(e,n),r+1<t.length&&e.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return a.linesToString(e)}getMainResultKernelMemoryOptimizedFloats(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${t} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(e,t){if(!this.subKernels)return e;for(let r=0;r<this.subKernels.length;r++)"Integer"===this.subKernels[r].returnType?e.push(`  gl_FragData[${r+1}].${t} = float(subKernelResult_${this.subKernels[r].name})`):e.push(`  gl_FragData[${r+1}].${t} = subKernelResult_${this.subKernels[r].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const r=this.subKernels[t];"Integer"===r.returnType?e.push(`  gl_FragData[${t+1}][0] = float(subKernelResult_${r.name})`):e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${r.name}`)}return e}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`);return e}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`);return e}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const e=[];if(!this.subKernels)return e;switch(this.returnType){case"Number":case"Float":case"Integer":for(let t=0;t<this.subKernels.length;++t)"Integer"===this.subKernels[t].returnType?e.push(`  gl_FragData[${t+1}] = float(subKernelResult_${this.subKernels[t].name})`):e.push(`  gl_FragData[${t+1}] = subKernelResult_${this.subKernels[t].name}`);break;case"Array(2)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`);break;case"Array(3)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`);break;case"Array(4)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`,`  gl_FragData[${t+1}][3] = subKernelResult_${this.subKernels[t].name}[3]`)}return e}replaceArtifacts(e,t){return e.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(e,r)=>{if(t.hasOwnProperty(r))return t[r];throw"unhandled artifact "+r})}getFragmentShader(e){return null!==this.compiledFragmentShader?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(e))}getVertexShader(e){return null!==this.compiledVertexShader?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(e))}toString(){const e=a.linesToString(["const gl = context"]);return c(this.constructor,arguments,this,e)}destroy(e){if(!this.context)return;if(this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer),this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const e=this.textureCache.indexOf(this.texture.texture);e>-1&&this.textureCache.splice(e,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let e=0;e<this.mappedTextures.length;e++){const t=this.mappedTextures[e];t.delete();const r=this.textureCache.indexOf(t.texture);r>-1&&this.textureCache.splice(r,1)}this.mappedTextures=null}if(this.kernelArguments)for(let e=0;e<this.kernelArguments.length;e++)this.kernelArguments[e].destroy();if(this.kernelConstants)for(let e=0;e<this.kernelConstants.length;e++)this.kernelConstants[e].destroy();for(;this.textureCache.length>0;){const e=this.textureCache.pop();this.context.deleteTexture(e)}if(e){const e=v.indexOf(this.canvas);e>=0&&(v[e]=null,x[e]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const t=this.gpu.kernels.indexOf(this);-1!==t&&this.gpu.kernels.splice(t,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(e){const t=e.getExtension("WEBGL_lose_context");t&&t.loseContext()}toJSON(){const e=super.toJSON();return e.functionNodes=i.fromKernel(this,s).toJSON(),e.settings.threadDim=this.threadDim,e}}}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(e,t,r){t.exports={vertexShader:"__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}"}},{}],72:[function(e,t,r){const n=`#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;t.exports={fragmentShader:n}},{}],73:[function(e,t,r){const{utils:n}=e("../../utils"),{WebGLFunctionNode:i}=e("../web-gl/function-node");t.exports={WebGL2FunctionNode:class extends i{astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);const r=this.getType(e),i=n.sanitizeName(e.name);return"Infinity"===e.name?t.push("intBitsToFloat(2139095039)"):"Boolean"===r&&this.argumentNames.indexOf(i)>-1?t.push(`bool(user_${i})`):t.push("user_"+i),t}}}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(e,t,r){const{WebGL2KernelValueBoolean:n}=e("./kernel-value/boolean"),{WebGL2KernelValueFloat:i}=e("./kernel-value/float"),{WebGL2KernelValueInteger:s}=e("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:a}=e("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:o}=e("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:u}=e("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:l}=e("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:c}=e("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:h}=e("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:p}=e("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:f}=e("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:m}=e("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:d}=e("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:g}=e("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:y}=e("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:v}=e("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:x}=e("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:b}=e("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:w}=e("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:S}=e("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:E}=e("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:A}=e("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:T}=e("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:M}=e("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:_}=e("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueSingleArray2:N}=e("./kernel-value/single-array2"),{WebGL2KernelValueSingleArray3:I}=e("./kernel-value/single-array3"),{WebGL2KernelValueSingleArray4:C}=e("./kernel-value/single-array4"),{WebGL2KernelValueUnsignedArray:O}=e("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:k}=e("./kernel-value/dynamic-unsigned-array"),D={unsigned:{dynamic:{Boolean:n,Integer:s,Float:i,Array:k,"Array(2)":!1,"Array(3)":!1,"Array(4)":!1,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:d,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:y,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:l,HTMLVideo:h},static:{Boolean:n,Float:i,Integer:s,Array:O,"Array(2)":!1,"Array(3)":!1,"Array(4)":!1,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:m,NumberTexture:v,"ArrayTexture(1)":v,"ArrayTexture(2)":v,"ArrayTexture(3)":v,"ArrayTexture(4)":v,MemoryOptimizedNumberTexture:y,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:u,HTMLVideo:c}},single:{dynamic:{Boolean:n,Integer:s,Float:i,Array:w,"Array(2)":N,"Array(3)":I,"Array(4)":C,"Array1D(2)":E,"Array1D(3)":E,"Array1D(4)":E,"Array2D(2)":T,"Array2D(3)":T,"Array2D(4)":T,"Array3D(2)":_,"Array3D(3)":_,"Array3D(4)":_,Input:f,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:y,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:l,HTMLVideo:h},static:{Boolean:n,Float:i,Integer:s,Array:b,"Array(2)":N,"Array(3)":I,"Array(4)":C,"Array1D(2)":S,"Array1D(3)":S,"Array1D(4)":S,"Array2D(2)":A,"Array2D(3)":A,"Array2D(4)":A,"Array3D(2)":M,"Array3D(3)":M,"Array3D(4)":M,Input:p,NumberTexture:v,"ArrayTexture(1)":v,"ArrayTexture(2)":v,"ArrayTexture(3)":v,"ArrayTexture(4)":v,MemoryOptimizedNumberTexture:g,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:u,HTMLVideo:c}}};t.exports={kernelValueMaps:D,lookupKernelValueType:function(e,t,r,n){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!r)throw new Error("precision missing");n.type&&(e=n.type);const i=D[r][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error("Could not find a KernelValue for "+e);return i[e]}}},{"./kernel-value/boolean":75,"./kernel-value/dynamic-html-image":77,"./kernel-value/dynamic-html-image-array":76,"./kernel-value/dynamic-html-video":78,"./kernel-value/dynamic-memory-optimized-number-texture":79,"./kernel-value/dynamic-number-texture":80,"./kernel-value/dynamic-single-array":81,"./kernel-value/dynamic-single-array1d-i":82,"./kernel-value/dynamic-single-array2d-i":83,"./kernel-value/dynamic-single-array3d-i":84,"./kernel-value/dynamic-single-input":85,"./kernel-value/dynamic-unsigned-array":86,"./kernel-value/dynamic-unsigned-input":87,"./kernel-value/float":88,"./kernel-value/html-image":90,"./kernel-value/html-image-array":89,"./kernel-value/html-video":91,"./kernel-value/integer":92,"./kernel-value/memory-optimized-number-texture":93,"./kernel-value/number-texture":94,"./kernel-value/single-array":95,"./kernel-value/single-array1d-i":96,"./kernel-value/single-array2":97,"./kernel-value/single-array2d-i":98,"./kernel-value/single-array3":99,"./kernel-value/single-array3d-i":100,"./kernel-value/single-array4":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(e,t,r){const{WebGLKernelValueBoolean:n}=e("../../web-gl/kernel-value/boolean");t.exports={WebGL2KernelValueBoolean:class extends n{}}},{"../../web-gl/kernel-value/boolean":41}],76:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueHTMLImageArray:i}=e("./html-image-array");t.exports={WebGL2KernelValueDynamicHTMLImageArray:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2DArray ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){const{width:t,height:r}=e[0];this.checkSize(t,r),this.dimensions=[t,r,e.length],this.textureSize=[t,r],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"./html-image-array":89}],77:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicHTMLImage:i}=e("../../web-gl/kernel-value/dynamic-html-image");t.exports={WebGL2KernelValueDynamicHTMLImage:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":42}],78:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueDynamicHTMLImage:i}=e("./dynamic-html-image");t.exports={WebGL2KernelValueDynamicHTMLVideo:class extends i{}}},{"../../../utils":114,"./dynamic-html-image":77}],79:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:i}=e("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");t.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:class extends i{getSource(){return n.linesToString(["uniform sampler2D "+this.id,"uniform ivec2 "+this.sizeId,"uniform ivec3 "+this.dimensionsId])}}}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":44}],80:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicNumberTexture:i}=e("../../web-gl/kernel-value/dynamic-number-texture");t.exports={WebGL2KernelValueDynamicNumberTexture:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":45}],81:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray:i}=e("../../web-gl2/kernel-value/single-array");t.exports={WebGL2KernelValueDynamicSingleArray:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":95}],82:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray1DI:i}=e("../../web-gl2/kernel-value/single-array1d-i");t.exports={WebGL2KernelValueDynamicSingleArray1DI:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":96}],83:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray2DI:i}=e("../../web-gl2/kernel-value/single-array2d-i");t.exports={WebGL2KernelValueDynamicSingleArray2DI:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":98}],84:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray3DI:i}=e("../../web-gl2/kernel-value/single-array3d-i");t.exports={WebGL2KernelValueDynamicSingleArray3DI:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":100}],85:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleInput:i}=e("../../web-gl2/kernel-value/single-input");t.exports={WebGL2KernelValueDynamicSingleInput:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){let[t,r,i]=e.size;this.dimensions=new Int32Array([t||1,r||1,i||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],86:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:i}=e("../../web-gl/kernel-value/dynamic-unsigned-array");t.exports={WebGL2KernelValueDynamicUnsignedArray:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":51}],87:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:i}=e("../../web-gl/kernel-value/dynamic-unsigned-input");t.exports={WebGL2KernelValueDynamicUnsignedInput:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":52}],88:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueFloat:i}=e("../../web-gl/kernel-value/float");t.exports={WebGL2KernelValueFloat:class extends i{}}},{"../../../utils":114,"../../web-gl/kernel-value/float":53}],89:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelArray:i}=e("../../web-gl/kernel-value/array");t.exports={WebGL2KernelValueHTMLImageArray:class extends i{constructor(e,t){super(e,t),this.checkSize(e[0].width,e[0].height),this.dimensions=[e[0].width,e[0].height,e.length],this.textureSize=[e[0].width,e[0].height]}defineTexture(){const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D_ARRAY,this.texture),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2DArray ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D_ARRAY,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage3D(t.TEXTURE_2D_ARRAY,0,t.RGBA,e[0].width,e[0].height,e.length,0,t.RGBA,t.UNSIGNED_BYTE,null);for(let r=0;r<e.length;r++){const n=0,i=0,s=1;t.texSubImage3D(t.TEXTURE_2D_ARRAY,0,n,i,r,e[r].width,e[r].height,s,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e[r])}this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],90:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueHTMLImage:i}=e("../../web-gl/kernel-value/html-image");t.exports={WebGL2KernelValueHTMLImage:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":54}],91:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGL2KernelValueHTMLImage:i}=e("./html-image");t.exports={WebGL2KernelValueHTMLVideo:class extends i{}}},{"../../../utils":114,"./html-image":90}],92:[function(e,t,r){const{WebGLKernelValueInteger:n}=e("../../web-gl/kernel-value/integer");t.exports={WebGL2KernelValueInteger:class extends n{getSource(e){const t=this.getVariablePrecisionString();return"constants"===this.origin?`const ${t} int ${this.id} = ${parseInt(e)};\n`:`uniform ${t} int ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}}},{"../../web-gl/kernel-value/integer":57}],93:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:i}=e("../../web-gl/kernel-value/memory-optimized-number-texture");t.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:class extends i{getSource(){const{id:e,sizeId:t,textureSize:r,dimensionsId:i,dimensions:s}=this,a=this.getVariablePrecisionString();return n.linesToString(["uniform sampler2D "+e,`${a} ivec2 ${t} = ivec2(${r[0]}, ${r[1]})`,`${a} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":58}],94:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueNumberTexture:i}=e("../../web-gl/kernel-value/number-texture");t.exports={WebGL2KernelValueNumberTexture:class extends i{getSource(){const{id:e,sizeId:t,textureSize:r,dimensionsId:i,dimensions:s}=this,a=this.getVariablePrecisionString();return n.linesToString([`uniform ${a} sampler2D ${e}`,`${a} ivec2 ${t} = ivec2(${r[0]}, ${r[1]})`,`${a} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":59}],95:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray:i}=e("../../web-gl/kernel-value/single-array");t.exports={WebGL2KernelValueSingleArray:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":60}],96:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray1DI:i}=e("../../web-gl/kernel-value/single-array1d-i");t.exports={WebGL2KernelValueSingleArray1DI:class extends i{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":61}],97:[function(e,t,r){const{WebGLKernelValueSingleArray2:n}=e("../../web-gl/kernel-value/single-array2");t.exports={WebGL2KernelValueSingleArray2:class extends n{}}},{"../../web-gl/kernel-value/single-array2":62}],98:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray2DI:i}=e("../../web-gl/kernel-value/single-array2d-i");t.exports={WebGL2KernelValueSingleArray2DI:class extends i{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":63}],99:[function(e,t,r){const{WebGLKernelValueSingleArray3:n}=e("../../web-gl/kernel-value/single-array3");t.exports={WebGL2KernelValueSingleArray3:class extends n{}}},{"../../web-gl/kernel-value/single-array3":64}],100:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray3DI:i}=e("../../web-gl/kernel-value/single-array3d-i");t.exports={WebGL2KernelValueSingleArray3DI:class extends i{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":65}],101:[function(e,t,r){const{WebGLKernelValueSingleArray4:n}=e("../../web-gl/kernel-value/single-array4");t.exports={WebGL2KernelValueSingleArray4:class extends n{}}},{"../../web-gl/kernel-value/single-array4":66}],102:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleInput:i}=e("../../web-gl/kernel-value/single-input");t.exports={WebGL2KernelValueSingleInput:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){const{context:t}=this;n.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedArray:i}=e("../../web-gl/kernel-value/unsigned-array");t.exports={WebGL2KernelValueUnsignedArray:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(e,t,r){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedInput:i}=e("../../web-gl/kernel-value/unsigned-input");t.exports={WebGL2KernelValueUnsignedInput:class extends i{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(e,t,r){const{WebGLKernel:n}=e("../web-gl/kernel"),{WebGL2FunctionNode:i}=e("./function-node"),{FunctionBuilder:s}=e("../function-builder"),{utils:a}=e("../../utils"),{fragmentShader:o}=e("./fragment-shader"),{vertexShader:u}=e("./vertex-shader"),{lookupKernelValueType:l}=e("./kernel-value-maps");let c=null,h=null,p=null,f=null,m=null;t.exports={WebGL2Kernel:class extends n{static get isSupported(){return null!==c||(this.setupFeatureChecks(),c=this.isContextMatch(p)),c}static setupFeatureChecks(){"undefined"!=typeof document?h=document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas&&(h=new OffscreenCanvas(0,0)),h&&(p=h.getContext("webgl2"),p&&p.getExtension&&(f={EXT_color_buffer_float:p.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:p.getExtension("OES_texture_float_linear")},m=this.getFeatures()))}static isContextMatch(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext}static getFeatures(){const e=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return p.getParameter(p.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return p.getParameter(p.MAX_TEXTURE_SIZE)}static lookupKernelValueType(e,t,r,n){return l(e,t,r,n)}static get testCanvas(){return h}static get testContext(){return p}static get features(){return m}static get fragmentShader(){return o}static get vertexShader(){return u}initContext(){return this.canvas.getContext("webgl2",{alpha:!1,depth:!1,antialias:!1})}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(e){if(!this.validate)return void(this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:t}=this.constructor;if("single"===this.precision&&!t.isFloatRead)throw new Error("Float texture outputs are not supported");if(this.graphical||null!==this.precision||(this.precision=t.isFloatRead?"single":"unsigned"),null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=a.getVariableType(e[0],this.strictIntegers);switch(t){case"Array":this.output=a.getDimensions(t);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+t)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"single"===this.precision&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),void(this.texSize=a.clone(this.output))}!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const e=s.fromKernel(this,i,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:e}=this;switch(this.getInternalFormat()){case e.R32F:return e.RED;case e.RG32F:return e.RG;case e.RGBA32F:case e.RGBA:return e.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:e}=this;if("single"===this.precision){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?e.RGBA32F:e.R32F;case"Array(2)":return e.RG32F;case"Array(3)":case"Array(4)":return e.RGBA32F;default:throw new Error("Unhandled return type")}return e.RGBA32F}return e.RGBA}_setupOutputTexture(){const e=this.context;if(this.texture)return void e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer);const t=e.createTexture(),r=this.texSize;e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const n=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,n,r[0],r[1]):e.texImage2D(e.TEXTURE_2D,0,n,r[0],r[1],0,n,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.texture=new this.TextureConstructor({texture:t,size:r,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const e=this.context;if(this.mappedTextures){for(let t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);return}const t=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let r=0;r<this.subKernels.length;r++){const n=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+r+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+r),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const i=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,i,t[0],t[1]):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+r+1,e.TEXTURE_2D,n,0),this.mappedTextures.push(new this.TextureConstructor({texture:n,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const e=this.subKernels,t=this.getVariablePrecisionString(this.texSize,this.tactic);return null===e||e.length<1?`in ${t} vec2 vTexCoord;\n`:`out ${t} vec2 vTexCoord;\n`}_getMainArgumentsString(e){const t=[],r=this.argumentNames;for(let n=0;n<r.length;n++)t.push(this.kernelArguments[n].getSource(e[n]));return t.join("")}getKernelString(){const e=[this.getKernelResultDeclaration()],t=this.subKernels;if(null!==t)switch(e.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let r=0;r<t.length;r++){const n=t[r];e.push("Integer"===n.returnType?`int subKernelResult_${n.name} = 0`:`float subKernelResult_${n.name} = 0.0`,`layout(location = ${r+1}) out vec4 data${r+1}`)}break;case"Array(2)":for(let r=0;r<t.length;r++)e.push("vec2 subKernelResult_"+t[r].name,`layout(location = ${r+1}) out vec4 data${r+1}`);break;case"Array(3)":for(let r=0;r<t.length;r++)e.push("vec3 subKernelResult_"+t[r].name,`layout(location = ${r+1}) out vec4 data${r+1}`);break;case"Array(4)":for(let r=0;r<t.length;r++)e.push("vec4 subKernelResult_"+t[r].name,`layout(location = ${r+1}) out vec4 data${r+1}`)}else e.push("out vec4 data0");return a.linesToString(e)+this.translatedSource}getMainResultGraphical(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const e=[];if(!this.subKernels)return"";for(let t=0;t<this.subKernels.length;t++)"Integer"===this.subKernels[t].returnType?e.push(`  data${t+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[t].name}))`):e.push(`  data${t+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[t].name})`);return a.linesToString(e)}getMainResultKernelMemoryOptimizedFloats(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${t} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(e,t){if(!this.subKernels)return e;for(let r=0;r<this.subKernels.length;r++){const n=this.subKernels[r];"Integer"===n.returnType?e.push(`  data${r+1}.${t} = float(subKernelResult_${n.name})`):e.push(`  data${r+1}.${t} = subKernelResult_${n.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const r=this.subKernels[t];"Integer"===r.returnType?e.push(`  data${t+1}[0] = float(subKernelResult_${r.name})`):e.push(`  data${t+1}[0] = subKernelResult_${r.name}`)}return e}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const r=this.subKernels[t];e.push(`  data${t+1}[0] = subKernelResult_${r.name}[0]`,`  data${t+1}[1] = subKernelResult_${r.name}[1]`)}return e}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const r=this.subKernels[t];e.push(`  data${t+1}[0] = subKernelResult_${r.name}[0]`,`  data${t+1}[1] = subKernelResult_${r.name}[1]`,`  data${t+1}[2] = subKernelResult_${r.name}[2]`)}return e}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  data${t+1} = subKernelResult_${this.subKernels[t].name}`);return e}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const e=super.toJSON();return e.functionNodes=s.fromKernel(this,i).toJSON(),e.settings.threadDim=this.threadDim,e}}}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(e,t,r){t.exports={vertexShader:"#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}"}},{}],107:[function(e,t,r){const n=e("./index"),i=n.GPU;for(const e in n)n.hasOwnProperty(e)&&"GPU"!==e&&(i[e]=n[e]);function s(e){e.GPU||Object.defineProperty(e,"GPU",{get:()=>i})}"undefined"!=typeof window&&s(window),"undefined"!=typeof self&&s(self),t.exports=n},{"./index":109}],108:[function(e,t,r){const{gpuMock:n}=e("gpu-mock.js"),{utils:i}=e("./utils"),{Kernel:s}=e("./backend/kernel"),{CPUKernel:a}=e("./backend/cpu/kernel"),{HeadlessGLKernel:o}=e("./backend/headless-gl/kernel"),{WebGL2Kernel:u}=e("./backend/web-gl2/kernel"),{WebGLKernel:l}=e("./backend/web-gl/kernel"),{kernelRunShortcut:c}=e("./kernel-run-shortcut"),h=[o,u,l],p=["gpu","cpu"],f={headlessgl:o,webgl2:u,webgl:l};let m=!0;function d(e){if(!e)return{};const t=Object.assign({},e);return e.hasOwnProperty("floatOutput")&&(i.warnDeprecated("setting","floatOutput","precision"),t.precision=e.floatOutput?"single":"unsigned"),e.hasOwnProperty("outputToTexture")&&(i.warnDeprecated("setting","outputToTexture","pipeline"),t.pipeline=Boolean(e.outputToTexture)),e.hasOwnProperty("outputImmutable")&&(i.warnDeprecated("setting","outputImmutable","immutable"),t.immutable=Boolean(e.outputImmutable)),e.hasOwnProperty("floatTextures")&&(i.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),t.optimizeFloatMemory=Boolean(e.floatTextures)),t}t.exports={GPU:class{static disableValidation(){m=!1}static enableValidation(){m=!0}static get isGPUSupported(){return h.some(e=>e.isSupported)}static get isKernelMapSupported(){return h.some(e=>e.isSupported&&e.features.kernelMap)}static get isOffscreenCanvasSupported(){return"undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas||"undefined"!=typeof importScripts}static get isWebGLSupported(){return l.isSupported}static get isWebGL2Supported(){return u.isSupported}static get isHeadlessGLSupported(){return o.isSupported}static get isCanvasSupported(){return"undefined"!=typeof HTMLCanvasElement}static get isGPUHTMLImageArraySupported(){return u.isSupported}static get isSinglePrecisionSupported(){return h.some(e=>e.isSupported&&e.features.isFloatRead&&e.features.isTextureFloat)}constructor(e){if(e=e||{},this.canvas=e.canvas||null,this.context=e.context||null,this.mode=e.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.onIstanbulCoverageVariable=e.onIstanbulCoverageVariable||null,this.removeIstanbulCoverage=e.hasOwnProperty("removeIstanbulCoverage")?e.removeIstanbulCoverage:null,"dev"!==this.mode){if(this.chooseKernel(),e.functions)for(let t=0;t<e.functions.length;t++)this.addFunction(e.functions[t]);if(e.nativeFunctions)for(const t in e.nativeFunctions){if(!e.nativeFunctions.hasOwnProperty(t))continue;const r=e.nativeFunctions[t],{name:n,source:i}=r;this.addNativeFunction(n,i,r)}}}chooseKernel(){if(this.Kernel)return;let e=null;if(this.context){for(let t=0;t<h.length;t++){const r=h[t];if(r.isContextMatch(this.context)){if(!r.isSupported)throw new Error(`Kernel type ${r.name} not supported`);e=r;break}}if(null===e)throw new Error("unknown Context")}else if(this.mode){if(this.mode in f)m&&!f[this.mode].isSupported||(e=f[this.mode]);else if("gpu"===this.mode){for(let t=0;t<h.length;t++)if(h[t].isSupported){e=h[t];break}}else"cpu"===this.mode&&(e=a);if(!e)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let t=0;t<h.length;t++)if(h[t].isSupported){e=h[t];break}e||(e=a)}this.mode||(this.mode=e.mode),this.Kernel=e}createKernel(e,t){if(void 0===e)throw new Error("Missing source parameter");if("object"!=typeof e&&!i.isFunction(e)&&"string"!=typeof e)throw new Error("source parameter not a function");const r=this.kernels;if("dev"===this.mode){const i=n(e,d(t));return r.push(i),i}e="function"==typeof e?e.toString():e;const s={},o=d(t)||{};function u(t){console.warn("Falling back to CPU");const r=new a(e,{argumentTypes:p.argumentTypes,constantTypes:p.constantTypes,graphical:p.graphical,loopMaxIterations:p.loopMaxIterations,constants:p.constants,dynamicOutput:p.dynamicOutput,dynamicArgument:p.dynamicArguments,output:p.output,precision:p.precision,pipeline:p.pipeline,immutable:p.immutable,optimizeFloatMemory:p.optimizeFloatMemory,fixIntegerDivisionAccuracy:p.fixIntegerDivisionAccuracy,functions:p.functions,nativeFunctions:p.nativeFunctions,injectedNative:p.injectedNative,subKernels:p.subKernels,strictIntegers:p.strictIntegers,debug:p.debug});r.build.apply(r,t);const n=r.run.apply(r,t);return p.replaceKernel(r),n}t&&"object"==typeof t.argumentTypes&&(o.argumentTypes=Object.keys(t.argumentTypes).map(e=>t.argumentTypes[e]));const l=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,onIstanbulCoverageVariable:this.onIstanbulCoverageVariable,removeIstanbulCoverage:this.removeIstanbulCoverage,gpu:this,validate:m,onRequestFallback:u,onRequestSwitchKernel:function t(n,i,a){a.debug&&console.warn("Switching kernels");let o=null;if(a.signature&&!s[a.signature]&&(s[a.signature]=a),a.dynamicOutput)for(let e=n.length-1;e>=0;e--){const t=n[e];"outputPrecisionMismatch"===t.type&&(o=t.needed)}const l=a.constructor,c=l.getArgumentTypes(a,i),h=l.getSignature(a,c),f=s[h];if(f)return f.onActivate(a),f;const d=s[h]=new l(e,{argumentTypes:c,constantTypes:a.constantTypes,graphical:a.graphical,loopMaxIterations:a.loopMaxIterations,constants:a.constants,dynamicOutput:a.dynamicOutput,dynamicArgument:a.dynamicArguments,context:a.context,canvas:a.canvas,output:o||a.output,precision:a.precision,pipeline:a.pipeline,immutable:a.immutable,optimizeFloatMemory:a.optimizeFloatMemory,fixIntegerDivisionAccuracy:a.fixIntegerDivisionAccuracy,functions:a.functions,nativeFunctions:a.nativeFunctions,injectedNative:a.injectedNative,subKernels:a.subKernels,strictIntegers:a.strictIntegers,debug:a.debug,gpu:a.gpu,validate:m,returnType:a.returnType,onIstanbulCoverageVariable:a.onIstanbulCoverageVariable,removeIstanbulCoverage:a.removeIstanbulCoverage,tactic:a.tactic,onRequestFallback:u,onRequestSwitchKernel:t,texture:a.texture,mappedTextures:a.mappedTextures,drawBuffersMap:a.drawBuffersMap});return d.build.apply(d,i),p.replaceKernel(d),r.push(d),d}},o),h=new this.Kernel(e,l),p=c(h);return this.canvas||(this.canvas=h.canvas),this.context||(this.context=h.context),r.push(h),p}createKernelMap(){let e,t;const r=typeof arguments[arguments.length-2];if("function"===r||"string"===r?(e=arguments[arguments.length-2],t=arguments[arguments.length-1]):e=arguments[arguments.length-1],"dev"!==this.mode&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&p.indexOf(this.mode)<0)throw new Error("kernelMap not supported on "+this.Kernel.name);const n=d(t);if(t&&"object"==typeof t.argumentTypes&&(n.argumentTypes=Object.keys(t.argumentTypes).map(e=>t.argumentTypes[e])),Array.isArray(arguments[0])){n.subKernels=[];const e=arguments[0];for(let t=0;t<e.length;t++){const r=e[t].toString(),s=i.getFunctionNameFromString(r);n.subKernels.push({name:s,source:r,property:t})}}else{n.subKernels=[];const e=arguments[0];for(let t in e){if(!e.hasOwnProperty(t))continue;const r=e[t].toString(),s=i.getFunctionNameFromString(r);n.subKernels.push({name:s||t,source:r,property:t})}}return this.createKernel(e,n)}combineKernels(){const e=arguments[arguments.length-1];if("cpu"===arguments[0].kernel.constructor.mode)return e;const t=arguments[0].canvas,r=arguments[0].context,n=arguments.length-1;for(let e=0;e<n;e++)arguments[e].setCanvas(t).setContext(r).setPipeline(!0);return function(){const t=e.apply(this,arguments);return t.toArray?t.toArray():t}}setFunctions(e){return this.functions=e,this}setNativeFunctions(e){return this.nativeFunctions=e,this}addFunction(e,t){return this.functions.push({source:e,settings:t}),this}addNativeFunction(e,t,r){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:e,source:t},r)),this}injectNative(e){return this.injectedNative=e,this}destroy(){return new Promise((e,t)=>{this.kernels||e(),setTimeout(()=>{try{for(let e=0;e<this.kernels.length;e++)this.kernels[e].destroy(!0);let e=this.kernels[0];e&&(e.kernel&&(e=e.kernel),e.constructor.destroyContext&&e.constructor.destroyContext(this.context))}catch(e){t(e)}e()},0)})}},kernelOrder:h,kernelTypes:p}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(e,t,r){const{GPU:n}=e("./gpu"),{alias:i}=e("./alias"),{utils:s}=e("./utils"),{Input:a,input:o}=e("./input"),{Texture:u}=e("./texture"),{FunctionBuilder:l}=e("./backend/function-builder"),{FunctionNode:c}=e("./backend/function-node"),{CPUFunctionNode:h}=e("./backend/cpu/function-node"),{CPUKernel:p}=e("./backend/cpu/kernel"),{HeadlessGLKernel:f}=e("./backend/headless-gl/kernel"),{WebGLFunctionNode:m}=e("./backend/web-gl/function-node"),{WebGLKernel:d}=e("./backend/web-gl/kernel"),{kernelValueMaps:g}=e("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:y}=e("./backend/web-gl2/function-node"),{WebGL2Kernel:v}=e("./backend/web-gl2/kernel"),{kernelValueMaps:x}=e("./backend/web-gl2/kernel-value-maps"),{GLKernel:b}=e("./backend/gl/kernel"),{Kernel:w}=e("./backend/kernel"),{FunctionTracer:S}=e("./backend/function-tracer"),E=e("./plugins/math-random-uniformly-distributed");t.exports={alias:i,CPUFunctionNode:h,CPUKernel:p,GPU:n,FunctionBuilder:l,FunctionNode:c,HeadlessGLKernel:f,Input:a,input:o,Texture:u,utils:s,WebGL2FunctionNode:y,WebGL2Kernel:v,webGL2KernelValueMaps:x,WebGLFunctionNode:m,WebGLKernel:d,webGLKernelValueMaps:g,GLKernel:b,Kernel:w,FunctionTracer:S,plugins:{mathRandom:E}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(e,t,r){class n{constructor(e,t){this.value=e,Array.isArray(t)?this.size=t:(this.size=new Int32Array(3),t.z?this.size=new Int32Array([t.x,t.y,t.z]):t.y?this.size=new Int32Array([t.x,t.y]):this.size=new Int32Array([t.x]));const[r,n,i]=this.size;if(i){if(this.value.length!==r*n*i)throw new Error(`Input size ${this.value.length} does not match ${r} * ${n} * ${i} = ${n*r*i}`)}else if(n){if(this.value.length!==r*n)throw new Error(`Input size ${this.value.length} does not match ${r} * ${n} = ${n*r}`)}else if(this.value.length!==r)throw new Error(`Input size ${this.value.length} does not match ${r}`)}toArray(){const{utils:t}=e("./utils"),[r,n,i]=this.size;return i?t.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),r,n,i):n?t.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),r,n):this.value}}t.exports={Input:n,input:function(e,t){return new n(e,t)}}},{"./utils":114}],111:[function(e,t,r){const{utils:n}=e("./utils");function i(e,t){if(t.kernel)return void(t.kernel=e);const r=n.allPropertiesOf(e);for(let n=0;n<r.length;n++){const i=r[n];"_"===i[0]&&"_"===i[1]||("function"==typeof e[i]?"add"===i.substring(0,3)||"set"===i.substring(0,3)?t[i]=function(){return t.kernel[i].apply(t.kernel,arguments),t}:t[i]=function(){return t.kernel[i].apply(t.kernel,arguments)}:(t.__defineGetter__(i,()=>t.kernel[i]),t.__defineSetter__(i,e=>{t.kernel[i]=e})))}t.kernel=e}t.exports={kernelRunShortcut:function(e){let t=function(){return e.build.apply(e,arguments),t=function(){let t=e.run.apply(e,arguments);if(e.switchingKernels){const n=e.resetSwitchingKernels(),i=e.onRequestSwitchKernel(n,arguments,e);r.kernel=e=i,t=i.run.apply(i,arguments)}return e.renderKernels?e.renderKernels():e.renderOutput?e.renderOutput():t},t.apply(e,arguments)};const r=function(){return t.apply(e,arguments)};return r.exec=function(){return new Promise((e,r)=>{try{e(t.apply(this,arguments))}catch(e){r(e)}})},r.replaceKernel=function(t){i(e=t,r)},i(e,r),r}}},{"./utils":114}],112:[function(e,t,r){const n={name:"math-random-uniformly-distributed",onBeforeRun:e=>{e.setUniform1f("randomSeed1",Math.random()),e.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:"// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}"};t.exports=n},{}],113:[function(e,t,r){t.exports={Texture:class{constructor(e){const{texture:t,size:r,dimensions:n,output:i,context:s,type:a="NumberTexture",kernel:o,internalFormat:u,textureFormat:l}=e;if(!i)throw new Error('settings property "output" required.');if(!s)throw new Error('settings property "context" required.');if(!t)throw new Error('settings property "texture" required.');if(!o)throw new Error('settings property "kernel" required.');this.texture=t,t._refs?t._refs++:t._refs=1,this.size=r,this.dimensions=n,this.output=i,this.context=s,this.kernel=o,this.type=a,this._deleted=!1,this.internalFormat=u,this.textureFormat=l}toArray(){throw new Error("Not implemented on "+this.constructor.name)}clone(){throw new Error("Not implemented on "+this.constructor.name)}delete(){throw new Error("Not implemented on "+this.constructor.name)}clear(){throw new Error("Not implemented on "+this.constructor.name)}}}},{}],114:[function(e,t,r){const n=e("acorn"),{Input:i}=e("./input"),{Texture:s}=e("./texture"),a=/function ([^(]*)/,o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,u=/([^\s,]+)/g,l={systemEndianness:()=>f,getSystemEndianness(){const e=new ArrayBuffer(4),t=new Uint32Array(e),r=new Uint8Array(e);if(t[0]=3735928559,239===r[0])return"LE";if(222===r[0])return"BE";throw new Error("unknown endianness")},isFunction:e=>"function"==typeof e,isFunctionString:e=>"string"==typeof e&&"function"===e.slice(0,"function".length).toLowerCase(),getFunctionNameFromString(e){const t=a.exec(e);return t&&0!==t.length?t[1].trim():null},getFunctionBodyFromString:e=>e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),getArgumentNamesFromString(e){const t=e.replace(o,"");let r=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(u);return null===r&&(r=[]),r},clone(e){if(null===e||"object"!=typeof e||e.hasOwnProperty("isActiveClone"))return e;const t=e.constructor();for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e.isActiveClone=null,t[r]=l.clone(e[r]),delete e.isActiveClone);return t},isArray:e=>!isNaN(e.length),getVariableType(e,t){if(l.isArray(e))return e.length>0&&"IMG"===e[0].nodeName?"HTMLImageArray":"Array";switch(e.constructor){case Boolean:return"Boolean";case Number:return t&&Number.isInteger(e)?"Integer":"Float";case s:return e.type;case i:return"Input"}switch(e.nodeName){case"IMG":case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}return e.hasOwnProperty("type")?e.type:"Unknown"},getKernelTextureSize(e,t){let[r,n,i]=t,s=(r||1)*(n||1)*(i||1);return e.optimizeFloatMemory&&"single"===e.precision&&(r=s=Math.ceil(s/4)),n>1&&r*n===s?new Int32Array([r,n]):l.closestSquareDimensions(s)},closestSquareDimensions(e){const t=Math.sqrt(e);let r=Math.ceil(t),n=Math.floor(t);for(;r*n<e;)r--,n=Math.ceil(e/r);return new Int32Array([n,Math.ceil(e/n)])},getMemoryOptimizedFloatTextureSize(e,t){const r=l.roundTo((e[0]||1)*(e[1]||1)*(e[2]||1)*(e[3]||1),4)/t;return l.closestSquareDimensions(r)},getMemoryOptimizedPackedTextureSize(e,t){const[r,n,i]=e,s=l.roundTo((r||1)*(n||1)*(i||1),4)/(4/t);return l.closestSquareDimensions(s)},roundTo:(e,t)=>Math.floor((e+t-1)/t)*t,getDimensions(e,t){let r;if(l.isArray(e)){const t=[];let n=e;for(;l.isArray(n);)t.push(n.length),n=n[0];r=t.reverse()}else if(e instanceof s)r=e.output;else{if(!(e instanceof i))throw new Error("Unknown dimensions of "+e);r=e.size}if(t)for(r=Array.from(r);r.length<3;)r.push(1);return new Int32Array(r)},flatten2dArrayTo(e,t){let r=0;for(let n=0;n<e.length;n++)t.set(e[n],r),r+=e[n].length},flatten3dArrayTo(e,t){let r=0;for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)t.set(e[n][i],r),r+=e[n][i].length},flatten4dArrayTo(e,t){let r=0;for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)for(let s=0;s<e[n][i].length;s++)t.set(e[n][i][s],r),r+=e[n][i][s].length},flattenTo(e,t){l.isArray(e[0])?l.isArray(e[0][0])?l.isArray(e[0][0][0])?l.flatten4dArrayTo(e,t):l.flatten3dArrayTo(e,t):l.flatten2dArrayTo(e,t):t.set(e)},splitArray(e,t){const r=[];for(let n=0;n<e.length;n+=t)r.push(new e.constructor(e.buffer,4*n+e.byteOffset,t));return r},getAstString(e,t){const r=Array.isArray(e)?e:e.split(/\r?\n/g),n=t.loc.start,i=t.loc.end,s=[];if(n.line===i.line)s.push(r[n.line-1].substring(n.column,i.column));else{s.push(r[n.line-1].slice(n.column));for(let e=n.line;e<i.line;e++)s.push(r[e]);s.push(r[i.line-1].slice(0,i.column))}return s.join("\n")},allPropertiesOf(e){const t=[];do{t.push.apply(t,Object.getOwnPropertyNames(e))}while(e=Object.getPrototypeOf(e));return t},linesToString:e=>e.length>0?e.join(";\n")+";\n":"\n",warnDeprecated(e,t,r){r?console.warn(`You are using a deprecated ${e} "${t}". It has been replaced with "${r}". Fixing, but please upgrade as it will soon be removed.`):console.warn(`You are using a deprecated ${e} "${t}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(e,t,r)=>{const n=r/2|0,i=4*t,s=new Uint8ClampedArray(4*t),a=e.slice(0);for(let e=0;e<n;++e){const t=e*i,n=(r-e-1)*i;s.set(a.subarray(t,t+i)),a.copyWithin(t,n,n+i),a.set(s,n)}return a},erectPackedFloat:(e,t)=>e.subarray(0,t),erect2DPackedFloat:(e,t,r)=>{const n=new Array(r);for(let i=0;i<r;i++){const r=i*t,s=r+t;n[i]=e.subarray(r,s)}return n},erect3DPackedFloat:(e,t,r,n)=>{const i=new Array(n);for(let s=0;s<n;s++){const n=new Array(r);for(let i=0;i<r;i++){const a=s*r*t+i*t,o=a+t;n[i]=e.subarray(a,o)}i[s]=n}return i},erectMemoryOptimizedFloat:(e,t)=>e.subarray(0,t),erectMemoryOptimized2DFloat:(e,t,r)=>{const n=new Array(r);for(let i=0;i<r;i++){const r=i*t;n[i]=e.subarray(r,r+t)}return n},erectMemoryOptimized3DFloat:(e,t,r,n)=>{const i=new Array(n);for(let s=0;s<n;s++){const n=new Array(r);for(let i=0;i<r;i++){const a=s*r*t+i*t;n[i]=e.subarray(a,a+t)}i[s]=n}return i},erectFloat:(e,t)=>{const r=new Float32Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[n],n+=4;return r},erect2DFloat:(e,t,r)=>{const n=new Array(r);let i=0;for(let s=0;s<r;s++){const r=new Float32Array(t);for(let n=0;n<t;n++)r[n]=e[i],i+=4;n[s]=r}return n},erect3DFloat:(e,t,r,n)=>{const i=new Array(n);let s=0;for(let a=0;a<n;a++){const n=new Array(r);for(let i=0;i<r;i++){const r=new Float32Array(t);for(let n=0;n<t;n++)r[n]=e[s],s+=4;n[i]=r}i[a]=n}return i},erectArray2:(e,t)=>{const r=new Array(t),n=4*t;let i=0;for(let t=0;t<n;t+=4)r[i++]=e.subarray(t,t+2);return r},erect2DArray2:(e,t,r)=>{const n=new Array(r),i=4*t;for(let s=0;s<r;s++){const r=new Array(t),a=s*i;let o=0;for(let t=0;t<i;t+=4)r[o++]=e.subarray(t+a,t+a+2);n[s]=r}return n},erect3DArray2:(e,t,r,n)=>{const i=4*t,s=new Array(n);for(let a=0;a<n;a++){const n=new Array(r);for(let s=0;s<r;s++){const o=new Array(t),u=a*i*r+s*i;let l=0;for(let t=0;t<i;t+=4)o[l++]=e.subarray(t+u,t+u+2);n[s]=o}s[a]=n}return s},erectArray3:(e,t)=>{const r=new Array(t),n=4*t;let i=0;for(let t=0;t<n;t+=4)r[i++]=e.subarray(t,t+3);return r},erect2DArray3:(e,t,r)=>{const n=4*t,i=new Array(r);for(let s=0;s<r;s++){const r=new Array(t),a=s*n;let o=0;for(let t=0;t<n;t+=4)r[o++]=e.subarray(t+a,t+a+3);i[s]=r}return i},erect3DArray3:(e,t,r,n)=>{const i=4*t,s=new Array(n);for(let a=0;a<n;a++){const n=new Array(r);for(let s=0;s<r;s++){const o=new Array(t),u=a*i*r+s*i;let l=0;for(let t=0;t<i;t+=4)o[l++]=e.subarray(t+u,t+u+3);n[s]=o}s[a]=n}return s},erectArray4:(e,t)=>{const r=new Array(e),n=4*t;let i=0;for(let t=0;t<n;t+=4)r[i++]=e.subarray(t,t+4);return r},erect2DArray4:(e,t,r)=>{const n=4*t,i=new Array(r);for(let s=0;s<r;s++){const r=new Array(t),a=s*n;let o=0;for(let t=0;t<n;t+=4)r[o++]=e.subarray(t+a,t+a+4);i[s]=r}return i},erect3DArray4:(e,t,r,n)=>{const i=4*t,s=new Array(n);for(let a=0;a<n;a++){const n=new Array(r);for(let s=0;s<r;s++){const o=new Array(t),u=a*i*r+s*i;let l=0;for(let t=0;t<i;t+=4)o[l++]=e.subarray(t+u,t+u+4);n[s]=o}s[a]=n}return s},flattenFunctionToString:(e,t)=>{const{findDependency:r,thisLookup:i,doNotDefine:s}=t;let a=t.flattened;a||(a=t.flattened={});const o=n.parse(e),u=[];let c=0;const h=function e(t){if(Array.isArray(t)){const r=[];for(let n=0;n<t.length;n++)r.push(e(t[n]));return r.join("")}switch(t.type){case"Program":return e(t.body)+("VariableDeclaration"===t.body[0].type?";":"");case"FunctionDeclaration":return`function ${t.id.name}(${t.params.map(e).join(", ")}) ${e(t.body)}`;case"BlockStatement":{const r=[];c+=2;for(let n=0;n<t.body.length;n++){const i=e(t.body[n]);i&&r.push(" ".repeat(c)+i,";\n")}return c-=2,`{\n${r.join("")}}`}case"VariableDeclaration":const n=l.normalizeDeclarations(t).map(e).filter(e=>null!==e);return n.length<1?"":`${t.kind} ${n.join(",")}`;case"VariableDeclarator":return t.init.object&&"ThisExpression"===t.init.object.type?i(t.init.property.name,!0)?`${t.id.name} = ${e(t.init)}`:null:`${t.id.name} = ${e(t.init)}`;case"CallExpression":if("subarray"===t.callee.property.name)return`${e(t.callee.object)}.${e(t.callee.property)}(${t.arguments.map(t=>e(t)).join(", ")})`;if("gl"===t.callee.object.name||"context"===t.callee.object.name)return`${e(t.callee.object)}.${e(t.callee.property)}(${t.arguments.map(t=>e(t)).join(", ")})`;if("ThisExpression"===t.callee.object.type)return u.push(r("this",t.callee.property.name)),`${t.callee.property.name}(${t.arguments.map(t=>e(t)).join(", ")})`;if(t.callee.object.name){const n=r(t.callee.object.name,t.callee.property.name);return null===n?`${t.callee.object.name}.${t.callee.property.name}(${t.arguments.map(t=>e(t)).join(", ")})`:(u.push(n),`${t.callee.property.name}(${t.arguments.map(t=>e(t)).join(", ")})`)}if("MemberExpression"===t.callee.object.type)return`${e(t.callee.object)}.${t.callee.property.name}(${t.arguments.map(t=>e(t)).join(", ")})`;throw new Error("unknown ast.callee");case"ReturnStatement":return"return "+e(t.argument);case"BinaryExpression":return`(${e(t.left)}${t.operator}${e(t.right)})`;case"UnaryExpression":return t.prefix?`${t.operator} ${e(t.argument)}`:`${e(t.argument)} ${t.operator}`;case"ExpressionStatement":return""+e(t.expression);case"SequenceExpression":return`(${e(t.expressions)})`;case"ArrowFunctionExpression":return`(${t.params.map(e).join(", ")}) => ${e(t.body)}`;case"Literal":return t.raw;case"Identifier":return t.name;case"MemberExpression":return"ThisExpression"===t.object.type?i(t.property.name):t.computed?`${e(t.object)}[${e(t.property)}]`:e(t.object)+"."+e(t.property);case"ThisExpression":return"this";case"NewExpression":return`new ${e(t.callee)}(${t.arguments.map(t=>e(t)).join(", ")})`;case"ForStatement":return`for (${e(t.init)};${e(t.test)};${e(t.update)}) ${e(t.body)}`;case"AssignmentExpression":return`${e(t.left)}${t.operator}${e(t.right)}`;case"UpdateExpression":return`${e(t.argument)}${t.operator}`;case"IfStatement":return`if (${e(t.test)}) ${e(t.consequent)}`;case"ThrowStatement":return"throw "+e(t.argument);case"ObjectPattern":return t.properties.map(e).join(", ");case"ArrayPattern":return t.elements.map(e).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${e(t.test)}?${e(t.consequent)}:${e(t.alternate)}`;case"Property":if("init"===t.kind)return e(t.key)}throw new Error("unhandled ast.type of "+t.type)}(o);if(u.length>0){const e=[];for(let r=0;r<u.length;r++){const n=u[r];a[n]||(a[n]=!0),e.push(l.flattenFunctionToString(n,t)+"\n")}return e.join("")+h}return h},normalizeDeclarations:e=>{if("VariableDeclaration"!==e.type)throw new Error('Ast is not of type "VariableDeclaration"');const t=[];for(let r=0;r<e.declarations.length;r++){const n=e.declarations[r];if(n.id&&"ObjectPattern"===n.id.type&&n.id.properties){const{properties:e}=n.id;for(let r=0;r<e.length;r++){const i=e[r];if("ObjectPattern"===i.value.type&&i.value.properties)for(let e=0;e<i.value.properties.length;e++){const r=i.value.properties[e];if("Property"!==r.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:r.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:n.init,property:{type:"Identifier",name:i.key.name},computed:!1},property:{type:"Identifier",name:r.key.name},computed:!1}})}else{if("Identifier"!==i.value.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.value&&i.value.name?i.value.name:i.key.name},init:{type:"MemberExpression",object:n.init,property:{type:"Identifier",name:i.key.name},computed:!1}})}}}else if(n.id&&"ArrayPattern"===n.id.type&&n.id.elements){const{elements:e}=n.id;for(let r=0;r<e.length;r++){const i=e[r];if("Identifier"!==i.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.name},init:{type:"MemberExpression",object:n.init,property:{type:"Literal",value:r,raw:r.toString(),start:i.start,end:i.end},computed:!0}})}}else t.push(n)}return t},splitHTMLImageToRGB:(e,t)=>{const r=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].r}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),n=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].g}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),i=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].b}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),s=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].a}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),a=[r(t),n(t),i(t),s(t)];return a.rKernel=r,a.gKernel=n,a.bKernel=i,a.aKernel=s,a.gpu=e,a},splitRGBAToCanvases:(e,t,r,n)=>{const i=e.createKernel((function(e){const t=e[this.thread.y][this.thread.x];this.color(t.r/255,0,0,255)}),{output:[r,n],graphical:!0,argumentTypes:{v:"Array2D(4)"}});i(t);const s=e.createKernel((function(e){const t=e[this.thread.y][this.thread.x];this.color(0,t.g/255,0,255)}),{output:[r,n],graphical:!0,argumentTypes:{v:"Array2D(4)"}});s(t);const a=e.createKernel((function(e){const t=e[this.thread.y][this.thread.x];this.color(0,0,t.b/255,255)}),{output:[r,n],graphical:!0,argumentTypes:{v:"Array2D(4)"}});a(t);const o=e.createKernel((function(e){const t=e[this.thread.y][this.thread.x];this.color(255,255,255,t.a/255)}),{output:[r,n],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return o(t),[i.canvas,s.canvas,a.canvas,o.canvas]},getMinifySafeName:e=>{try{const t=n.parse("const value = "+e.toString()),{init:r}=t.body[0].declarations[0];return r.body.name||r.body.body[0].argument.name}catch(e){throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(e){return c.test(e)&&(e=e.replace(c,"S_S")),h.test(e)?e=e.replace(h,"U_U"):p.test(e)&&(e=e.replace(p,"u_u")),e}},c=/\$/,h=/__/,p=/_/,f=l.getSystemEndianness();t.exports={utils:l}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)},3228:e=>{e.exports=function e(t,r){"use strict";var n,i,s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=c(t).replace(a,"")||"",p=c(r).replace(a,"")||"",f=h.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=p.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(h.match(u),16)||1!==f.length&&h.match(o)&&Date.parse(h),g=parseInt(p.match(u),16)||d&&p.match(o)&&Date.parse(p)||null;if(g){if(d<g)return-1;if(d>g)return 1}for(var y=0,v=Math.max(f.length,m.length);y<v;y++){if(n=!(f[y]||"").match(l)&&parseFloat(f[y])||f[y]||0,i=!(m[y]||"").match(l)&&parseFloat(m[y])||m[y]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),n<i)return-1;if(n>i)return 1}return 0}},9171:(e,t,r)=>{"use strict";r.d(t,{jy:()=>u,Yb:()=>l,VG:()=>c,Ir:()=>h,t$:()=>p,up:()=>f,ci:()=>m,IK:()=>d,Ii:()=>g,Cc:()=>y,ur:()=>v,p9:()=>x,q_:()=>b,JE:()=>w,rN:()=>S,oL:()=>E,hT:()=>A});var n=r(2893),i=r(6294),s=Math.PI,a=2*Math.PI,o=Math.E,u=(0,n.d5)("true",[],(function(){return!0})),l=(0,n.d5)("false",[],(function(){return!1})),c=(0,n.d5)("null",[],(function(){return null})),h=T("Infinity",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1/0):1/0})),p=T("NaN",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(NaN):NaN})),f=T("pi",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?(0,i.wY)(r):s})),m=T("tau",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?(0,i.j_)(r):a})),d=T("e",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?(0,i.vu)(r):o})),g=T("phi",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?(0,i.zm)(r):1.618033988749895})),y=T("LN2",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(2).ln():Math.LN2})),v=T("LN10",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(10).ln():Math.LN10})),x=T("LOG2E",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1).div(new r(2).ln()):Math.LOG2E})),b=T("LOG10E",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1).div(new r(10).ln()):Math.LOG10E})),w=T("SQRT1_2",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r("0.5").sqrt():Math.SQRT1_2})),S=T("SQRT2",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(2).sqrt():Math.SQRT2})),E=T("i",["Complex"],(function(e){return e.Complex.I})),A=(0,n.d5)("version",[],(function(){return"7.1.0"}));function T(e,t,r){return(0,n.d5)(e,t,r,{recreateOnConfigChange:!0})}},7026:(e,t,r)=>{"use strict";r.d(t,{d:()=>l});var n=r(4080),i=r(2287),s=r.n(i),a=r(4008),o=r(2893),u=function(){return u=s().create,s()},l=(0,o.d5)("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var t=e.BigNumber,r=e.Complex,i=e.DenseMatrix,s=e.Fraction,o=u();return o.types=[{name:"number",test:n.hj},{name:"Complex",test:n.Mc},{name:"BigNumber",test:n.l9},{name:"Fraction",test:n.yQ},{name:"Unit",test:n.wr},{name:"string",test:n.HD},{name:"Chain",test:n.qg},{name:"Array",test:n.kJ},{name:"Matrix",test:n.SW},{name:"DenseMatrix",test:n.jH},{name:"SparseMatrix",test:n.sA},{name:"Range",test:n.bR},{name:"Index",test:n.dh},{name:"boolean",test:n.jn},{name:"ResultSet",test:n.cB},{name:"Help",test:n.x1},{name:"function",test:n.mf},{name:"Date",test:n.J_},{name:"RegExp",test:n.Kj},{name:"null",test:n.Ft},{name:"undefined",test:n.o8},{name:"AccessorNode",test:n.Yz},{name:"ArrayNode",test:n.j0},{name:"AssignmentNode",test:n.Bp},{name:"BlockNode",test:n.zh},{name:"ConditionalNode",test:n.tS},{name:"ConstantNode",test:n.nu},{name:"FunctionNode",test:n.VO},{name:"FunctionAssignmentNode",test:n.l7},{name:"IndexNode",test:n.Cl},{name:"Node",test:n.UG},{name:"ObjectNode",test:n.Lr},{name:"OperatorNode",test:n.bV},{name:"ParenthesisNode",test:n.Ig},{name:"RangeNode",test:n.ex},{name:"SymbolNode",test:n.FG},{name:"Object",test:n.Kn}],o.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||c(e),(0,a.nz)(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return r||h(e),new r(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return r||h(e),new r(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return r||h(e),new r(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){s||p(e);var t=new s(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||c(e);try{return new t(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){s||p(e);try{return new s(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){r||h(e);try{return new r(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||c(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return s||p(e),new s(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return i||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],o}));function c(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function h(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function p(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}},5583:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(n)};i(s,n,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]})},1687:(e,t,r)=>{"use strict";r.d(t,{qr:()=>$e,xly:()=>je,JBn:()=>We});var n=r(5583),i=(r(9659),r(1070)),s=(r(4706),r(9171),r(9421)),a=r(9504),o=(r(6080),r(1167),r(4497)),u=r(1718),l=r(7026),c=(r(6314),r(2700)),h=(r(1736),r(3486),r(1394)),p=r(8465),f=(r(4943),r(7271)),m=(r(1238),r(4118),r(5046),r(9945),r(7748),r(7353),r(4229)),d=r(6976),g=(r(8551),r(7302),r(9208),r(9418),r(6501),r(3749),r(984),r(4149),r(5247),r(4752)),y=(r(7486),r(3402),r(3093),r(6837),r(3329),r(3072),r(7879)),v=(r(9905),r(2575),r(124),r(5926),r(3727),r(6693),r(1241),r(7414),r(2498),r(3113),r(5541),r(6106),r(5013),r(5697),r(2308)),x=r(7952),b=r(6008),w=(r(34),r(1798),r(5632)),S=r(8277),E=(r(9266),r(7137),r(4958),r(6488),r(1269),r(8046),r(6970)),A=(r(3691),r(9852)),T=(r(5433),r(9710),r(9412)),M=r(8154),_=r(8750),N=(r(2493),r(6326),r(6070),r(3223),r(3413),r(4211),r(1623),r(986),r(4544),r(3816),r(5604)),I=(r(9649),r(7233),r(6129)),C=(r(2769),r(2644)),O=(r(5408),r(470)),k=(r(6452),r(6947),r(1220),r(2898),r(1504)),D=r(6731),R=(r(7049),r(5899),r(7544)),L=(r(1431),r(7255),r(6188),r(2241),r(3058)),F=r(1617),U=(r(6645),r(7091)),z=r(4674),P=r(8066),B=r(673),V=(r(3177),r(425),r(835),r(1987),r(5155),r(6561)),q=(r(5791),r(8863),r(2512),r(7336),r(6355)),$=(r(1659),r(3243),r(3568),r(7674),r(3295),r(4097),r(1207),r(1727),r(9629),r(7866),r(9265),r(6750),r(2359)),G=(r(686),r(4955),r(7093),r(9126),r(4043)),K=(r(4797),r(2690)),j=(r(8363),r(5481),r(9243),r(4615),r(1271),r(1845),r(2595),r(4627),r(4618),r(4985)),H=r(9118),W=(r(7299),r(6683),r(4274)),X=(r(6457),r(5755),r(7362)),Y=(r(107),r(6215),r(1045),r(6628),r(3502)),Z=(r(1912),r(1887),r(9843),r(5442)),J=(r(5443),r(153),r(9048),r(8481),r(6795)),Q=(r(5804),r(1488),r(1879),r(6864),r(5753),r(2621),r(5495),r(2189),r(5326),r(405),r(4863)),ee=r(8315),te=r(3508),re=r(8026),ne=(r(5535),r(77),r(6932)),ie=(r(2036),r(1918),r(3385),r(1786),r(3395),r(7392),r(6218),r(8446),r(5529),r(5834),r(7798),r(6880),(0,i.w)({})),se=(0,s.w)({config:n.v}),ae=(0,a.K)({}),oe=(n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,(0,o.u)({})),ue=(n.v,n.v,n.v,(0,u.D)({Matrix:ae})),le=(n.v,(0,l.d)({BigNumber:se,Complex:ie,DenseMatrix:ue,Fraction:oe})),ce=(0,c.L)({typed:le}),he=(0,h.f)({config:n.v,typed:le}),pe=(0,p.k)({typed:le}),fe=(0,f.U)({Complex:ie,typed:le}),me=(n.v,n.v,(0,m.x)({typed:le})),de=(0,d.U)({BigNumber:se,Fraction:oe,complex:fe,typed:le}),ge=(0,g.l)({typed:le}),ye=(n.v,n.v,n.v,n.v,(0,y.a)({typed:le}),n.v,n.v,n.v,n.v,(0,v.v)({Fraction:oe,typed:le})),ve=(0,x.x)({typed:le}),xe=(0,b.A)({typed:le}),be=(n.v,(0,w.M)({Complex:ie,config:n.v,typed:le})),we=(0,S.b)({typed:le}),Se=(n.v,(0,E.$)({typed:le}),(0,A.x)({typed:le}),n.v,n.v,(0,T.E)({typed:le}),(0,M.C)({Matrix:ae,equalScalar:he,typed:le})),Ee=(0,_.w)({DenseMatrix:ue,Matrix:ae,SparseMatrix:Se,typed:le}),Ae=(n.v,n.v,(0,N.X)({BigNumber:se,DenseMatrix:ue,SparseMatrix:Se,config:n.v,matrix:Ee,typed:le})),Te=(n.v,(0,I.s)({matrix:Ee,config:n.v,typed:le})),Me=(0,C.T)({BigNumber:se,config:n.v,matrix:Ee,typed:le}),_e=(0,O.V)({BigNumber:se,DenseMatrix:ue,equalScalar:he,matrix:Ee,typed:le,zeros:Me}),Ne=(n.v,(0,k.r)({DenseMatrix:ue,config:n.v,matrix:Ee,typed:le})),Ie=(0,D.$)({DenseMatrix:ue,config:n.v,matrix:Ee,typed:le}),Ce=(n.v,(0,R.b)({larger:Ie,smaller:Ne})),Oe=(n.v,(0,L.e)({DenseMatrix:ue,SparseMatrix:Se,addScalar:xe,equalScalar:he,matrix:Ee,typed:le}),(0,F.W)({addScalar:xe,conj:we,multiplyScalar:me,size:Te,typed:le})),ke=(0,U.t)({typed:le}),De=(0,z.E)({typed:le}),Re=(0,P.B)({config:n.v,round:_e,typed:le}),Le=(0,B.o)({addScalar:xe,dot:Oe,equalScalar:he,matrix:Ee,multiplyScalar:me,typed:le}),Fe=(n.v,(0,V.X)({Complex:ie,config:n.v,fraction:ye,identity:Ae,matrix:Ee,multiply:Le,number:pe,typed:le})),Ue=((0,q.A)({DenseMatrix:ue,config:n.v,matrix:Ee,typed:le}),n.v,n.v,(0,$.p)({BigNumber:se,typed:le})),ze=(0,G.d)({bignumber:Ue,fraction:ye,number:pe}),Pe=((0,K.x)({DenseMatrix:ue,config:n.v,matrix:Ee,typed:le}),n.v,n.v,(0,j.l)({config:n.v,round:_e,typed:le})),Be=(0,H.p)({DenseMatrix:ue,addScalar:xe,equalScalar:he,matrix:Ee,typed:le,unaryMinus:ve}),Ve=(0,W.L)({numeric:ze,typed:le}),qe=(n.v,(0,X.Z)({DenseMatrix:ue,equalScalar:he,matrix:Ee,typed:le})),$e=(n.v,(0,Y.y)({addScalar:xe,complex:fe,conj:we,divideScalar:Ve,equal:qe,identity:Ae,isZero:ke,matrix:Ee,multiplyScalar:me,sign:de,sqrt:be,subtract:Be,typed:le,unaryMinus:ve,zeros:Me})),Ge=(0,Z.Y)({Complex:ie,ceil:Pe,floor:Re,typed:le}),Ke=(n.v,n.v,(0,J.w)({BigNumber:se,Complex:ie,Fraction:oe,abs:De,addScalar:xe,config:n.v,divideScalar:Ve,equal:qe,fix:Ge,format:ge,isNumeric:ce,multiplyScalar:me,number:pe,pow:Fe,round:_e,subtract:Be}),n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,n.v,(0,Q.W)({FibonacciHeap:Ce,addScalar:xe,equalScalar:he})),je=(0,ee.c)({DenseMatrix:ue,Spa:Ke,SparseMatrix:Se,abs:De,addScalar:xe,divideScalar:Ve,equalScalar:he,larger:Ie,matrix:Ee,multiplyScalar:me,subtract:Be,typed:le,unaryMinus:ve}),He=(0,te.S)({lup:je,matrix:Ee,multiply:Le,subtract:Be,typed:le,unaryMinus:ve}),We=(n.v,n.v,n.v,n.v,n.v,n.v,(0,re.x)({Complex:ie,config:n.v,divideScalar:Ve,typed:le}),(0,ne.N)({abs:De,addScalar:xe,det:He,divideScalar:Ve,identity:Ae,matrix:Ee,multiply:Le,typed:le,unaryMinus:ve}));n.v,n.v,n.v,n.v,n.v,n.v,n.v},620:(e,t,r)=>{"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}r.d(t,{m:()=>n}),n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0},4714:(e,t,r)=>{"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.d(t,{c:()=>n}),n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0},8315:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});var n=r(6713),i=(0,r(2893).d5)("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(e){var t=e.typed,r=e.matrix,i=e.abs,s=e.addScalar,a=e.divideScalar,o=e.multiplyScalar,u=e.subtract,l=e.larger,c=e.equalScalar,h=e.unaryMinus,p=e.DenseMatrix,f=e.SparseMatrix,m=e.Spa;return t("lup",{DenseMatrix:function(e){return d(e)},SparseMatrix:function(e){return function(e){var t,r,n,s=e._size[0],u=e._size[1],p=Math.min(s,u),d=e._values,g=e._index,y=e._ptr,v=[],x=[],b=[],w=[s,p],S=[],E=[],A=[],T=[p,u],M=[],_=[];for(t=0;t<s;t++)M[t]=t,_[t]=t;var N=function(){var e=new m;r<s&&(b.push(v.length),v.push(1),x.push(r)),A.push(S.length);var u=y[r],p=y[r+1];for(n=u;n<p;n++)t=g[n],e.set(M[t],d[n]);r>0&&e.forEach(0,r-1,(function(t,r){f._forEachRow(t,v,x,b,(function(n,i){n>t&&e.accumulate(n,h(o(i,r)))}))}));var N,I,C,O,k=r,D=e.get(r),R=i(D);e.forEach(r+1,s-1,(function(e,t){var r=i(t);l(r,R)&&(k=e,R=r,D=t)})),r!==k&&(f._swapRows(r,k,w[1],v,x,b),f._swapRows(r,k,T[1],S,E,A),e.swap(r,k),I=k,C=_[N=r],O=_[I],M[C]=I,M[O]=N,_[N]=O,_[I]=C),e.forEach(0,s-1,(function(e,t){e<=r?(S.push(t),E.push(e)):(t=a(t,D),c(t,0)||(v.push(t),x.push(e)))}))};for(r=0;r<u;r++)N();return A.push(S.length),b.push(v.length),{L:new f({values:v,index:x,ptr:b,size:w}),U:new f({values:S,index:E,ptr:A,size:T}),p:M,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var t=d(r(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function d(e){var t,r,h,f=e._size[0],m=e._size[1],d=Math.min(f,m),g=(0,n.d9)(e._data),y=[],v=[f,d],x=[],b=[d,m],w=[];for(t=0;t<f;t++)w[t]=t;for(r=0;r<m;r++){if(r>0)for(t=0;t<f;t++){var S=Math.min(t,r),E=0;for(h=0;h<S;h++)E=s(E,o(g[t][h],g[h][r]));g[t][r]=u(g[t][r],E)}var A=r,T=0,M=0;for(t=r;t<f;t++){var _=g[t][r],N=i(_);l(N,T)&&(A=t,T=N,M=_)}if(r!==A&&(w[r]=[w[A],w[A]=w[r]][0],p._swapRows(r,A,g)),r<f)for(t=r+1;t<f;t++){var I=g[t][r];c(I,0)||(g[t][r]=a(g[t][r],M))}}for(r=0;r<m;r++)for(t=0;t<f;t++)0===r&&(t<m&&(x[t]=[]),y[t]=[]),t<r?(t<m&&(x[t][r]=g[t][r]),r<f&&(y[t][r]=0)):t!==r?(t<m&&(x[t][r]=0),r<f&&(y[t][r]=g[t][r])):(t<m&&(x[t][r]=g[t][r]),r<f&&(y[t][r]=1));var C=new p({data:y,size:v}),O=new p({data:x,size:b}),k=[];for(t=0,d=w.length;t<d;t++)k[w[t]]=t;return{L:C,U:O,p:k,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},3502:(e,t,r)=>{"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{y:()=>i});var i=(0,r(2893).d5)("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],(function(e){var t=e.typed,r=e.matrix,i=e.zeros,s=e.identity,a=e.isZero,o=e.equal,u=e.sign,l=e.sqrt,c=e.conj,h=e.unaryMinus,p=e.addScalar,f=e.divideScalar,m=e.multiplyScalar,d=e.subtract,g=e.complex;return n(t("qr",{DenseMatrix:function(e){return v(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=v(r(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:y});function y(e){var t,r,n,g=e._size[0],y=e._size[1],v=s([g],"dense"),x=v._data,b=e.clone(),w=b._data,S=i([g],"");for(n=0;n<Math.min(y,g);++n){var E=w[n][n],A=h(o(E,0)?1:u(E)),T=c(A),M=0;for(t=n;t<g;t++)M=p(M,m(w[t][n],c(w[t][n])));var _=m(A,l(M));if(!a(_)){var N=d(E,_);for(S[n]=1,t=n+1;t<g;t++)S[t]=f(w[t][n],N);var I=h(c(f(N,_))),C=void 0;for(r=n;r<y;r++){for(C=0,t=n;t<g;t++)C=p(C,m(c(S[t]),w[t][r]));for(C=m(C,I),t=n;t<g;t++)w[t][r]=m(d(w[t][r],m(S[t],C)),T)}for(t=0;t<g;t++){for(C=0,r=n;r<g;r++)C=p(C,m(x[t][r],S[r]));for(C=m(C,I),r=n;r<g;++r)x[t][r]=f(d(x[t][r],m(C,c(S[r]))),T)}}}return{Q:v,R:b,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function v(e){var t=y(e),r=t.R._data;if(e._data.length>0)for(var n="Complex"===r[0][0].type?g(0):0,i=0;i<r.length;++i)for(var s=0;s<i&&s<(r[0]||[]).length;++s)r[i][s]=n;return t}}))},1879:(e,t,r)=>{"use strict";r.d(t,{p:()=>y});var n=r(4008),i=r(2893);function s(e,t,r,n,i,s,a){var o=0;for(r[a]=e;o>=0;){var u=r[a+o],l=r[n+u];-1===l?(o--,s[t++]=u):(r[n+u]=r[i+l],r[a+ ++o]=l)}return t}function a(e){return-e-2}var o=(0,i.d5)("csAmd",["add","multiply","transpose"],(function(e){var t=e.add,r=e.multiply,n=e.transpose;return function(e,u){if(!u||e<=0||e>3)return null;var l=u._size,c=l[0],h=l[1],p=0,f=Math.max(16,10*Math.sqrt(h)),m=function(e,i,s,a,o){var u=n(i);if(1===e&&a===s)return t(i,u);if(2===e){for(var l=u._index,c=u._ptr,h=0,p=0;p<s;p++){var f=c[p];if(c[p]=h,!(c[p+1]-f>o))for(var m=c[p+1];f<m;f++)l[h++]=l[f]}return c[s]=h,i=n(u),r(u,i)}return r(u,i)}(e,u,c,h,f=Math.min(h-2,f));!function(e,t,r){for(var n=e._values,i=e._index,s=e._ptr,a=e._size[1],o=0,u=0;u<a;u++){var l=s[u];for(s[u]=o;l<s[u+1];l++)t(i[l],u,n?n[l]:1,null)&&(i[o]=i[l],n&&(n[o]=n[l]),o++)}s[a]=o,i.splice(o,i.length-o),n&&n.splice(o,n.length-o)}(m,o);for(var d,g,y,v,x,b,w,S,E,A,T,M,_,N,I,C,O=m._index,k=m._ptr,D=k[h],R=[],L=[],F=h+1,U=2*(h+1),z=3*(h+1),P=4*(h+1),B=5*(h+1),V=6*(h+1),q=7*(h+1),$=R,G=function(e,t,r,n,s,a,o,u,l,c,h,p){for(var f=0;f<e;f++)r[0+f]=t[f+1]-t[f];r[0+e]=0;for(var m=0;m<=e;m++)r[s+m]=-1,a[m]=-1,r[o+m]=-1,r[u+m]=-1,r[l+m]=1,r[c+m]=1,r[h+m]=0,r[p+m]=r[0+m];var d=i(0,0,r,c,e);return r[h+e]=-2,t[e]=-1,r[c+e]=0,d}(h,k,L,0,z,$,U,q,F,V,P,B),K=function(e,t,r,n,i,s,o,u,l,c,h){for(var p=0,f=0;f<e;f++){var m=r[n+f];if(0===m)r[i+f]=-2,p++,t[f]=-1,r[s+f]=0;else if(m>o)r[u+f]=0,r[i+f]=-1,p++,t[f]=a(e),r[u+e]++;else{var d=r[l+m];-1!==d&&(c[d]=f),r[h+f]=r[l+m],r[l+m]=f}}return p}(h,k,L,B,P,V,f,F,z,$,U),j=0;K<h;){for(y=-1;j<h&&-1===(y=L[z+j]);j++);-1!==L[U+y]&&($[L[U+y]]=-1),L[z+j]=L[U+y];var H=L[P+y],W=L[F+y];K+=W;var X=0;L[F+y]=-W;var Y=k[y],Z=0===H?Y:D,J=Z;for(v=1;v<=H+1;v++){for(v>H?(b=y,w=Y,S=L[0+y]-H):(w=k[b=O[Y++]],S=L[0+b]),x=1;x<=S;x++)(E=L[F+(d=O[w++])])<=0||(X+=E,L[F+d]=-E,O[J++]=d,-1!==L[U+d]&&($[L[U+d]]=$[d]),-1!==$[d]?L[U+$[d]]=L[U+d]:L[z+L[B+d]]=L[U+d]);b!==y&&(k[b]=a(y),L[V+b]=0)}for(0!==H&&(D=J),L[B+y]=X,k[y]=Z,L[0+y]=J-Z,L[P+y]=-2,G=i(G,p,L,V,h),A=Z;A<J;A++)if(!((T=L[P+(d=O[A])])<=0)){var Q=G-(E=-L[F+d]);for(Y=k[d],M=k[d]+T-1;Y<=M;Y++)L[V+(b=O[Y])]>=G?L[V+b]-=E:0!==L[V+b]&&(L[V+b]=L[B+b]+Q)}for(A=Z;A<J;A++){for(_=(M=k[d=O[A]])+L[P+d]-1,N=M,I=0,C=0,Y=M;Y<=_;Y++)if(0!==L[V+(b=O[Y])]){var ee=L[V+b]-G;ee>0?(C+=ee,O[N++]=b,I+=b):(k[b]=a(y),L[V+b]=0)}L[P+d]=N-M+1;var te=N,re=M+L[0+d];for(Y=_+1;Y<re;Y++){var ne=L[F+(g=O[Y])];ne<=0||(C+=ne,O[N++]=g,I+=g)}0===C?(k[d]=a(y),X-=E=-L[F+d],W+=E,K+=E,L[F+d]=0,L[P+d]=-1):(L[B+d]=Math.min(L[B+d],C),O[N]=O[te],O[te]=O[M],O[M]=y,L[0+d]=N-M+1,I=(I<0?-I:I)%h,L[U+d]=L[q+I],L[q+I]=d,$[d]=I)}for(L[B+y]=X,G=i(G+(p=Math.max(p,X)),p,L,V,h),A=Z;A<J;A++)if(!(L[F+(d=O[A])]>=0))for(d=L[q+(I=$[d])],L[q+I]=-1;-1!==d&&-1!==L[U+d];d=L[U+d],G++){for(S=L[0+d],T=L[P+d],Y=k[d]+1;Y<=k[d]+S-1;Y++)L[V+O[Y]]=G;var ie=d;for(g=L[U+d];-1!==g;){var se=L[0+g]===S&&L[P+g]===T;for(Y=k[g]+1;se&&Y<=k[g]+S-1;Y++)L[V+O[Y]]!==G&&(se=0);se?(k[g]=a(d),L[F+d]+=L[F+g],L[F+g]=0,L[P+g]=-1,g=L[U+g],L[U+ie]=g):(ie=g,g=L[U+g])}}for(Y=Z,A=Z;A<J;A++)(E=-L[F+(d=O[A])])<=0||(L[F+d]=E,C=L[B+d]+X-E,-1!==L[z+(C=Math.min(C,h-K-E))]&&($[L[z+C]]=d),L[U+d]=L[z+C],$[d]=-1,L[z+C]=d,j=Math.min(j,C),L[B+d]=C,O[Y++]=d);L[F+y]=W,0==(L[0+y]=Y-Z)&&(k[y]=-1,L[V+y]=0),0!==H&&(D=Y)}for(d=0;d<h;d++)k[d]=a(k[d]);for(g=0;g<=h;g++)L[z+g]=-1;for(g=h;g>=0;g--)L[F+g]>0||(L[U+g]=L[z+k[g]],L[z+k[g]]=g);for(b=h;b>=0;b--)L[F+b]<=0||-1!==k[b]&&(L[U+b]=L[z+k[b]],L[z+k[b]]=b);for(y=0,d=0;d<=h;d++)-1===k[d]&&(y=s(d,y,L,z,U,R,V));return R.splice(R.length-1,1),R};function i(e,t,r,n,i){if(e<2||e+t<0){for(var s=0;s<i;s++)0!==r[n+s]&&(r[n+s]=1);e=2}return e}function o(e,t){return e!==t}}));function u(e,t,r,n,i,s,a){var o,u,l,c=0;if(e<=t||r[n+t]<=r[i+e])return-1;r[i+e]=r[n+t];var h=r[s+e];if(r[s+e]=t,-1===h)c=1,l=e;else{for(c=2,l=h;l!==r[a+l];l=r[a+l]);for(o=h;o!==l;o=u)u=r[a+o],r[a+o]=l}return{jleaf:c,q:l}}var l=(0,i.d5)("csCounts",["transpose"],(function(e){var t=e.transpose;return function(e,r,n,i){if(!e||!r||!n)return null;var s,a,o,l,c,h,p,f=e._size,m=f[0],d=f[1],g=4*d+(i?d+m+1:0),y=[],v=d,x=2*d,b=3*d,w=4*d,S=5*d+1;for(o=0;o<g;o++)y[o]=-1;var E=[],A=t(e),T=A._index,M=A._ptr;for(o=0;o<d;o++)for(E[a=n[o]]=-1===y[b+a]?1:0;-1!==a&&-1===y[b+a];a=r[a])y[b+a]=o;if(i){for(o=0;o<d;o++)y[n[o]]=o;for(s=0;s<m;s++){for(o=d,h=M[s],p=M[s+1],c=h;c<p;c++)o=Math.min(o,y[T[c]]);y[S+s]=y[w+o],y[w+o]=s}}for(s=0;s<d;s++)y[0+s]=s;for(o=0;o<d;o++){for(-1!==r[a=n[o]]&&E[r[a]]--,l=i?y[w+o]:a;-1!==l;l=i?y[S+l]:-1)for(c=M[l];c<M[l+1];c++){var _=u(s=T[c],a,y,b,v,x,0);_.jleaf>=1&&E[a]++,2===_.jleaf&&E[_.q]--}-1!==r[a]&&(y[0+a]=r[a])}for(a=0;a<d;a++)-1!==r[a]&&(E[r[a]]+=E[a]);return E}})),c=(0,i.d5)("csSqr",["add","multiply","transpose"],(function(e){var t=e.add,r=e.multiply,n=e.transpose,i=o({add:t,multiply:r,transpose:n}),a=l({transpose:n});return function(e,t,r){var n,o=t._ptr,u=t._size[1],l={};if(l.q=i(e,t),e&&!l.q)return null;if(r){var c=e?function(e,t,r,n){for(var i=e._values,s=e._index,a=e._ptr,o=e._size,u=e._datatype,l=o[0],c=o[1],h=null,p=[],f=[],m=0,d=0;d<c;d++){f[d]=m;for(var g=r?r[d]:d,y=a[g],v=a[g+1],x=y;x<v;x++){var b=s[x];p[m]=b,h&&(h[m]=i[x]),m++}}return f[c]=m,e.createSparseMatrix({values:h,index:p,ptr:f,size:[l,c],datatype:u})}(t,0,l.q):t;l.parent=function(e,t){if(!e)return null;var r,n,i=e._index,s=e._ptr,a=e._size,o=a[0],u=a[1],l=[],c=[],h=u;for(r=0;r<o;r++)c[h+r]=-1;for(var p=0;p<u;p++){l[p]=-1,c[0+p]=-1;for(var f=s[p],m=s[p+1],d=f;d<m;d++){var g=i[d];for(r=c[h+g];-1!==r&&r<p;r=n)n=c[0+r],c[0+r]=p,-1===n&&(l[r]=p);c[h+g]=p}}return l}(c);var h=function(e,t){if(!e)return null;var r,n=0,i=[],a=[],o=t,u=2*t;for(r=0;r<t;r++)a[0+r]=-1;for(r=t-1;r>=0;r--)-1!==e[r]&&(a[o+r]=a[0+e[r]],a[0+e[r]]=r);for(r=0;r<t;r++)-1===e[r]&&(n=s(r,n,a,0,o,i,u));return i}(l.parent,u);if(l.cp=a(c,l.parent,h,1),c&&l.parent&&l.cp&&function(e,t){var r=e._ptr,n=e._index,i=e._size,s=i[0],a=i[1];t.pinv=[],t.leftmost=[];var o,u,l,c,h,p=t.parent,f=t.pinv,m=t.leftmost,d=[],g=s,y=s+a,v=s+2*a;for(u=0;u<a;u++)d[g+u]=-1,d[y+u]=-1,d[v+u]=0;for(o=0;o<s;o++)m[o]=-1;for(u=a-1;u>=0;u--)for(c=r[u],h=r[u+1],l=c;l<h;l++)m[n[l]]=u;for(o=s-1;o>=0;o--)f[o]=-1,-1!==(u=m[o])&&(0==d[v+u]++&&(d[y+u]=o),d[0+o]=d[g+u],d[g+u]=o);for(t.lnz=0,t.m2=s,u=0;u<a;u++)if(o=d[g+u],t.lnz++,o<0&&(o=t.m2++),f[o]=u,!(--v[u]<=0)){t.lnz+=d[v+u];var x=p[u];-1!==x&&(0===d[v+x]&&(d[y+x]=d[y+u]),d[0+d[y+u]]=d[g+x],d[g+x]=d[0+o],d[v+x]+=d[v+u])}for(o=0;o<s;o++)f[o]<0&&(f[o]=u++);return!0}(c,l))for(l.unz=0,n=0;n<u;n++)l.unz+=l.cp[n]}else l.unz=4*o[u]+u,l.lnz=l.unz;return l}}));function h(e,t){return e[t]<0}function p(e,t){e[t]=a(e[t])}function f(e){return e<0?a(e):e}function m(e,t,r,n,i){var s,a,o,u=t._index,l=t._ptr,c=t._size[1],m=0;for(n[0]=e;m>=0;){e=n[m];var d=i?i[e]:e;h(l,e)||(p(l,e),n[c+m]=d<0?0:f(l[d]));var g=1;for(a=n[c+m],o=d<0?0:f(l[d+1]);a<o;a++)if(!h(l,s=u[a])){n[c+m]=a,n[++m]=s,g=0;break}g&&(m--,n[--r]=e)}return r}var d=(0,i.d5)("csSpsolve",["divideScalar","multiply","subtract"],(function(e){var t=e.divideScalar,r=e.multiply,n=e.subtract;return function(e,i,s,a,o,u,l){var c,f,d,g,y=e._values,v=e._index,x=e._ptr,b=e._size[1],w=i._values,S=i._index,E=i._ptr,A=function(e,t,r,n,i){var s,a,o,u=e._ptr,l=e._size,c=t._index,f=t._ptr,d=l[1],g=d;for(a=f[r],o=f[r+1],s=a;s<o;s++){var y=c[s];h(u,y)||(g=m(y,e,g,n,i))}for(s=g;s<d;s++)p(u,n[s]);return g}(e,i,s,a,u);for(c=A;c<b;c++)o[a[c]]=0;for(f=E[s],d=E[s+1],c=f;c<d;c++)o[S[c]]=w[c];for(var T=A;T<b;T++){var M=a[T],_=u?u[M]:M;if(!(_<0))for(f=x[_],d=x[_+1],o[M]=t(o[M],y[l?f:d-1]),c=l?f+1:f,g=l?d:d-1;c<g;c++){var N=v[c];o[N]=n(o[N],r(y[c],o[M]))}}return A}})),g=(0,i.d5)("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.abs,r=e.divideScalar,n=e.multiply,i=e.subtract,s=e.larger,a=e.largerEq,o=e.SparseMatrix,u=d({divideScalar:r,multiply:n,subtract:i});return function(e,i,l){if(!e)return null;var c,h=e._size[1],p=100,f=100;i&&(c=i.q,p=i.lnz||p,f=i.unz||f);var m,d,g=[],y=[],v=[],x=new o({values:g,index:y,ptr:v,size:[h,h]}),b=[],w=[],S=[],E=new o({values:b,index:w,ptr:S,size:[h,h]}),A=[],T=[],M=[];for(m=0;m<h;m++)T[m]=0,A[m]=-1,v[m+1]=0;p=0,f=0;for(var _=0;_<h;_++){v[_]=p,S[_]=f;var N=c?c[_]:_,I=u(x,e,N,M,T,A,1),C=-1,O=-1;for(d=I;d<h;d++)if(A[m=M[d]]<0){var k=t(T[m]);s(k,O)&&(O=k,C=m)}else w[f]=A[m],b[f++]=T[m];if(-1===C||O<=0)return null;A[N]<0&&a(t(T[N]),n(O,l))&&(C=N);var D=T[C];for(w[f]=_,b[f++]=D,A[C]=_,y[p]=C,g[p++]=1,d=I;d<h;d++)A[m=M[d]]<0&&(y[p]=m,g[p++]=r(T[m],D)),T[m]=0}for(v[h]=p,S[h]=f,d=0;d<p;d++)y[d]=A[y[d]];return g.splice(p,g.length-p),y.splice(p,y.length-p),b.splice(f,b.length-f),w.splice(f,w.length-f),{L:x,U:E,pinv:A}}})),y=(0,i.d5)("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.typed,r=e.abs,i=e.add,s=e.multiply,a=e.transpose,o=e.divideScalar,u=e.subtract,l=e.larger,h=e.largerEq,p=e.SparseMatrix,f=c({add:i,multiply:s,transpose:a}),m=g({abs:r,divideScalar:o,multiply:s,subtract:u,larger:l,largerEq:h,SparseMatrix:p});return t("slu",{"SparseMatrix, number, number":function(e,t,r){if(!(0,n.U)(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var i=f(t,e,!1),s=m(e,i,r);return{L:s.L,U:s.U,p:s.pinv,q:i.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}))},5755:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(2893),i=r(8888),s=(0,n.d5)("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,s=e.multiplyScalar,a=e.subtract,o=e.equalScalar,u=e.DenseMatrix,l=(0,i.v)({DenseMatrix:u});return t("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r,i,c=(t=l(e,t,!0))._data,h=e._size[0],p=e._size[1],f=e._values,m=e._index,d=e._ptr,g=[],y=0;y<p;y++){var v=c[y][0]||0;if(o(v,0))g[y]=[0];else{var x=0,b=[],w=[],S=d[y+1];for(i=d[y];i<S;i++)(r=m[i])===y?x=f[i]:r>y&&(b.push(f[i]),w.push(r));if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var E=n(v,x);for(i=0,S=w.length;i<S;i++)c[r=w[i]]=[a(c[r][0]||0,s(E,b[i]))];g[y]=[E]}}return new u({data:g,size:[h,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(r(e),t).valueOf()}});function c(e,t){for(var r=(t=l(e,t,!0))._data,i=e._size[0],c=e._size[1],h=[],p=e._data,f=0;f<c;f++){var m=r[f][0]||0,d=void 0;if(o(m,0))d=0;else{var g=p[f][f];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=n(m,g);for(var y=f+1;y<i;y++)r[y]=[a(r[y][0]||0,s(d,p[y][f]))]}h[f]=[d]}return new u({data:h,size:[i,1]})}}))},77:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(4080),i=r(2893),s=r(8888);function a(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}var o=(0,i.d5)("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,i=e.lup,o=e.slu,u=e.usolve,l=e.lsolve,c=e.DenseMatrix,h=(0,s.v)({DenseMatrix:c});return t("lusolve",{"Array, Array | Matrix":function(e,t){e=r(e);var n=i(e);return f(n.L,n.U,n.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=i(e);return f(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=i(e);return f(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var i=o(e,r,n);return f(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return f(e.L,e.U,e.p,e.q,t)}});function p(e){if((0,n.SW)(e))return e;if((0,n.kJ)(e))return r(e);throw new TypeError("Invalid Matrix LU decomposition")}function f(e,t,r,n,i){e=p(e),t=p(t),i=h(e,i,!1),r&&(i._data=a(r,i._data));var s=l(e,i),o=u(t,s);return n&&(o._data=a(n,o._data)),o}}))},2189:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(2893),i=r(8888),s=(0,n.d5)("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,s=e.multiplyScalar,a=e.subtract,o=e.equalScalar,u=e.DenseMatrix,l=(0,i.v)({DenseMatrix:u});return t("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r,i,c=(t=l(e,t,!0))._data,h=e._size[0],p=e._size[1],f=e._values,m=e._index,d=e._ptr,g=[],y=p-1;y>=0;y--){var v=c[y][0]||0;if(o(v,0))g[y]=[0];else{var x=0,b=[],w=[],S=d[y],E=d[y+1];for(i=E-1;i>=S;i--)(r=m[i])===y?x=f[i]:r<y&&(b.push(f[i]),w.push(r));if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var A=n(v,x);for(i=0,E=w.length;i<E;i++)c[r=w[i]]=[a(c[r][0],s(A,b[i]))];g[y]=[A]}}return new u({data:g,size:[h,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(r(e),t).valueOf()}});function c(e,t){for(var r=(t=l(e,t,!0))._data,i=e._size[0],c=e._size[1],h=[],p=e._data,f=c-1;f>=0;f--){var m=r[f][0]||0,d=void 0;if(o(m,0))d=0;else{var g=p[f][f];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=n(m,g);for(var y=f-1;y>=0;y--)r[y]=[a(r[y][0]||0,s(d,p[y][f]))]}h[f]=[d]}return new u({data:h,size:[i,1]})}}))},8888:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(4080),i=r(8684),s=r(5116);function a(e){var t=e.DenseMatrix;return function(e,r,a){var o=e.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+(0,s.WU)(o)+")");var u,l,c,h=o[0];if(h!==o[1])throw new RangeError("Matrix must be square (size: "+(0,s.WU)(o)+")");if((0,n.SW)(r)){var p=r.size();if(1===p.length){if(p[0]!==h)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(u=[],c=r._data,l=0;l<h;l++)u[l]=[c[l]];return new t({data:u,size:[h,1],datatype:r._datatype})}if(2===p.length){if(p[0]!==h||1!==p[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,n.jH)(r)){if(a){for(u=[],c=r._data,l=0;l<h;l++)u[l]=[c[l][0]];return new t({data:u,size:[h,1],datatype:r._datatype})}return r}for(u=[],l=0;l<h;l++)u[l]=[0];for(var f=r._values,m=r._index,d=r._ptr,g=d[1],y=d[0];y<g;y++)u[l=m[y]][0]=f[y];return new t({data:u,size:[h,1],datatype:r._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if((0,n.kJ)(r)){var v=(0,i.aJ)(r);if(1===v.length){if(v[0]!==h)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(u=[],l=0;l<h;l++)u[l]=[r[l]];return new t({data:u,size:[h,1]})}if(2===v.length){if(v[0]!==h||1!==v[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(u=[],l=0;l<h;l++)u[l]=[r[l][0]];return new t({data:u,size:[h,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}},4674:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("abs",["typed"],(function(e){return(0,e.typed)("abs",{number:s.Q1,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.abs()}})}))},3058:(e,t,r)=>{"use strict";r.d(t,{e:()=>c});var n=r(2893),i=r(6713),s=r(2523),a=r(5542),o=r(9e3),u=r(8690),l=r(4384),c=(0,n.d5)("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.addScalar,c=e.equalScalar,h=e.DenseMatrix,p=(e.SparseMatrix,(0,s.A)({typed:t})),f=(0,a.H)({typed:t,equalScalar:c}),m=(0,o.q)({typed:t,DenseMatrix:h}),d=(0,u.x)({typed:t}),g=(0,l.X)({typed:t});return t("add",(0,i.l7)({"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,n)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,n,!1)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,n,!0)},"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,n)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"DenseMatrix, any":function(e,t){return g(e,t,n,!1)},"SparseMatrix, any":function(e,t){return m(e,t,n,!1)},"any, DenseMatrix":function(e,t){return g(t,e,n,!0)},"any, SparseMatrix":function(e,t){return m(t,e,n,!0)},"Array, any":function(e,t){return g(r(e),t,n,!1).valueOf()},"any, Array":function(e,t){return g(r(t),e,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}))},6008:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2893),i=r(5403),s=(0,n.d5)("addScalar",["typed"],(function(e){return(0,e.typed)("addScalar",{"number, number":i.Ft,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r}})}))},2493:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(2893),i=r(4080),s=r(8664),a=r(5403),o=(0,n.d5)("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],(function(e){var t=e.config,r=e.typed,n=e.isNegative,o=e.unaryMinus,u=e.matrix,l=e.Complex,c=e.BigNumber,h=e.Fraction;return r("cbrt",{number:a.ih,Complex:p,"Complex, boolean":p,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&(0,i.Mc)(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=p(e.value),t}var r,s=n(e.value);s&&(e.value=o(e.value)),r=(0,i.l9)(e.value)?new c(1).div(3):(0,i.yQ)(e.value)?new h(1,3):1/3;var a=e.pow(r);return s&&(a.value=o(a.value)),a},"Array | Matrix":function(e){return(0,s.Fh)(e,this,!0)}});function p(e,r){var n=e.arg()/3,i=e.abs(),s=new l((0,a.ih)(i),0).mul(new l(0,n).exp());if(r){var o=[s,new l((0,a.ih)(i),0).mul(new l(0,n+2*Math.PI/3).exp()),new l((0,a.ih)(i),0).mul(new l(0,n-2*Math.PI/3).exp())];return"Array"===t.matrix?o:u(o)}return s}}))},4985:(e,t,r)=>{"use strict";r.d(t,{l:()=>u});var n=r(2893),i=r(8664),s=r(4008),a=r(1129),o=r(5403),u=(0,n.d5)("ceil",["typed","config","round"],(function(e){var t=e.typed,r=e.config,n=e.round;return t("ceil",{number:function(e){return(0,s.RI)(e,n(e),r.epsilon)?n(e):(0,o.xx)(e)},Complex:function(e){return e.ceil()},BigNumber:function(e){return(0,a.R)(e,n(e),r.epsilon)?n(e):e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},9945:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("cube",["typed"],(function(e){return(0,e.typed)("cube",{number:s.Dv,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.pow(3)}})}))},1918:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(2893),i=r(6713),s=r(7598),a=r(4384),o=(0,n.d5)("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(function(e){var t=e.typed,r=e.matrix,n=e.multiply,o=e.equalScalar,u=e.divideScalar,l=e.inv,c=(0,s.n)({typed:t,equalScalar:o}),h=(0,a.X)({typed:t});return t("divide",(0,i.l7)({"Array | Matrix, Array | Matrix":function(e,t){return n(e,l(t))},"DenseMatrix, any":function(e,t){return h(e,t,u,!1)},"SparseMatrix, any":function(e,t){return c(e,t,u,!1)},"Array, any":function(e,t){return h(r(e),t,u,!1).valueOf()},"any, Array | Matrix":function(e,t){return n(e,l(t))}},u.signatures))}))},4274:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(2893),i=r(4080),s=(0,n.d5)("divideScalar",["typed","numeric"],(function(e){var t=e.typed,r=e.numeric;return t("divideScalar",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var n=e.clone(),s=r(1,(0,i.kM)(t));return n.value=this(null===n.value?n._normalize(s):n.value,t),n},"number | Fraction | BigNumber, Unit":function(e,t){var n=t.clone();n=n.pow(-1);var s=r(1,(0,i.kM)(e));return n.value=this(e,null===t.value?t._normalize(s):t.value),n},"Unit, Unit":function(e,t){return e.divide(t)}})}))},9048:(e,t,r)=>{"use strict";r.d(t,{N:()=>h});var n=r(2893),i=r(5612),s=r(4365),a=r(3922),o=r(7598),u=r(2629),l=r(8690),c=r(4384),h=(0,n.d5)("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,h=e.divideScalar,p=e.DenseMatrix,f=(0,i.h)({typed:t,equalScalar:n}),m=(0,s.O)({typed:t}),d=(0,a.r)({typed:t,DenseMatrix:p}),g=(0,o.n)({typed:t,equalScalar:n}),y=(0,u.R)({typed:t,DenseMatrix:p}),v=(0,l.x)({typed:t}),x=(0,c.X)({typed:t});return t("dotDivide",{"any, any":h,"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return m(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return v(e,t,h)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return g(e,t,h,!1)},"DenseMatrix, any":function(e,t){return x(e,t,h,!1)},"any, SparseMatrix":function(e,t){return y(t,e,h,!0)},"any, DenseMatrix":function(e,t){return x(t,e,h,!0)},"Array, any":function(e,t){return x(r(e),t,h,!1).valueOf()},"any, Array":function(e,t){return x(r(t),e,h,!0).valueOf()}})}))},3177:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(2893),i=r(5612),s=r(1628),a=r(7598),o=r(8690),u=r(4384),l=(0,n.d5)("dotMultiply",["typed","matrix","equalScalar","multiplyScalar"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,l=e.multiplyScalar,c=(0,i.h)({typed:t,equalScalar:n}),h=(0,s.e)({typed:t,equalScalar:n}),p=(0,a.n)({typed:t,equalScalar:n}),f=(0,o.x)({typed:t}),m=(0,u.X)({typed:t});return t("dotMultiply",{"any, any":l,"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,l,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,l)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return p(e,t,l,!1)},"DenseMatrix, any":function(e,t){return m(e,t,l,!1)},"any, SparseMatrix":function(e,t){return p(t,e,l,!0)},"any, DenseMatrix":function(e,t){return m(t,e,l,!0)},"Array, any":function(e,t){return m(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return m(r(t),e,l,!0).valueOf()}})}))},5791:(e,t,r)=>{"use strict";r.d(t,{v:()=>c});var n=r(2893),i=r(4365),s=r(3922),a=r(7598),o=r(2629),u=r(8690),l=r(4384),c=(0,n.d5)("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],(function(e){var t=e.typed,r=e.equalScalar,n=e.matrix,c=e.pow,h=e.DenseMatrix,p=(0,i.O)({typed:t}),f=(0,s.r)({typed:t,DenseMatrix:h}),m=(0,a.n)({typed:t,equalScalar:r}),d=(0,o.R)({typed:t,DenseMatrix:h}),g=(0,u.x)({typed:t}),y=(0,l.X)({typed:t});return t("dotPow",{"any, any":c,"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,c,!1)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,c)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(n(t),e,this,!0).valueOf()}})}))},34:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("exp",["typed"],(function(e){return(0,e.typed)("exp",{number:s.qX,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},7748:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("expm1",["typed","Complex"],(function(e){var t=e.typed,r=e.Complex;return t("expm1",{number:s.B,Complex:function(e){var t=Math.exp(e.re);return new r(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},5442:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("fix",["typed","Complex","ceil","floor"],(function(e){var t=e.typed,r=e.Complex,n=e.ceil,s=e.floor;return t("fix",{number:function(e){return e>0?s(e):n(e)},Complex:function(e){return new r(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(e){return e.isNegative()?n(e):s(e)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},8066:(e,t,r)=>{"use strict";r.d(t,{B:()=>o});var n=r(2893),i=r(8664),s=r(4008),a=r(1129),o=(0,n.d5)("floor",["typed","config","round"],(function(e){var t=e.typed,r=e.config,n=e.round;return t("floor",{number:function(e){return(0,s.RI)(e,n(e),r.epsilon)?n(e):Math.floor(e)},Complex:function(e){return e.floor()},BigNumber:function(e){return(0,a.R)(e,n(e),r.epsilon)?n(e):e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},6326:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var n=r(2893),i=r(2523),s=r(5542),a=r(9e3),o=r(8690),u=r(4384),l=r(5403),c=(0,n.d5)("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,c=e.BigNumber,h=e.DenseMatrix,p=(0,i.A)({typed:t}),f=(0,s.H)({typed:t,equalScalar:n}),m=(0,a.q)({typed:t,DenseMatrix:h}),d=(0,o.x)({typed:t}),g=(0,u.X)({typed:t});return t("gcd",{"number, number":l.Vk,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new c(0);!t.isZero();){var n=e.mod(t);e=t,t=n}return e.lt(r)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return m(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return g(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return m(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return g(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return g(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return g(r(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}})}))},6628:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(2893),i=r(8684),s=(0,n.d5)("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],(function(e){var t=e.typed,r=e.abs,n=e.addScalar,s=e.divideScalar,a=e.multiplyScalar,o=e.sqrt,u=e.smaller,l=e.isPositive;return t("hypot",{"... number | BigNumber":function(e){for(var t=0,i=0,c=0;c<e.length;c++){var h=r(e[c]);u(i,h)?(t=a(t,a(s(i,h),s(i,h))),t=n(t,1),i=h):t=n(t,l(h)?a(s(h,i),s(h,i)):h)}return a(i,o(t))},Array:function(e){return this.apply(this,(0,i.xH)(e))},Matrix:function(e){return this.apply(this,(0,i.xH)(e.toArray()))}})}))},686:(e,t,r)=>{"use strict";r.d(t,{b:()=>c});var n=r(2893),i=r(5612),s=r(5435),a=r(7598),o=r(8690),u=r(4384),l=r(5403),c=(0,n.d5)("lcm",["typed","matrix","equalScalar"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,c=(0,i.h)({typed:t,equalScalar:n}),h=(0,s.Q)({typed:t,equalScalar:n}),p=(0,a.n)({typed:t,equalScalar:n}),f=(0,o.x)({typed:t}),m=(0,u.X)({typed:t});return t("lcm",{"number, number":l.K4,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;for(var r=e.times(t);!t.isZero();){var n=t;t=e.mod(n),e=n}return r.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return p(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return m(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return p(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return m(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return m(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return m(r(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}})}))},8026:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("log",["config","typed","divideScalar","Complex"],(function(e){var t=e.typed,r=e.config,n=e.divideScalar,a=e.Complex;return t("log",{number:function(e){return e>=0||r.predictable?(0,s.OS)(e):new a(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||r.predictable?e.ln():new a(e.toNumber(),0).log()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)},"any, any":function(e,t){return n(this(e),this(t))}})}))},7353:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("log10",["typed","config","Complex"],(function(e){var t=e.typed,r=e.config,n=e.Complex;return t("log10",{number:function(e){return e>=0||r.predictable?(0,s.vU)(e):new n(e,0).log().div(Math.LN10)},Complex:function(e){return new n(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||r.predictable?e.log():new n(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},7392:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(2893),i=r(8664),s=r(4008),a=(0,n.d5)("log1p",["typed","config","divideScalar","log","Complex"],(function(e){var t=e.typed,r=e.config,n=e.divideScalar,a=e.log,o=e.Complex;return t("log1p",{number:function(e){return e>=-1||r.predictable?(0,s.Kr)(e):u(new o(e,0))},Complex:u,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||r.predictable?t.ln():u(new o(e.toNumber(),0))},"Array | Matrix":function(e){return(0,i.Fh)(e,this)},"any, any":function(e,t){return n(this(e),a(t))}});function u(e){var t=e.re+1;return new o(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}}))},1798:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("log2",["typed","config","Complex"],(function(e){var t=e.typed,r=e.config,n=e.Complex;return t("log2",{number:function(e){return e>=0||r.predictable?(0,s.iO)(e):a(new n(e,0))},Complex:a,BigNumber:function(e){return!e.isNegative()||r.predictable?e.log(2):a(new n(e.toNumber(),0))},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}});function a(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}}))},6070:(e,t,r)=>{"use strict";r.d(t,{J:()=>p});var n=r(2893),i=r(5612),s=r(4365),a=r(95),o=r(7598),u=r(2629),l=r(8690),c=r(4384),h=r(5403),p=(0,n.d5)("mod",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,p=e.DenseMatrix,f=(0,i.h)({typed:t,equalScalar:n}),m=(0,s.O)({typed:t}),d=(0,a.p)({typed:t,equalScalar:n}),g=(0,o.n)({typed:t,equalScalar:n}),y=(0,u.R)({typed:t,DenseMatrix:p}),v=(0,l.x)({typed:t}),x=(0,c.X)({typed:t});return t("mod",{"number, number":h.nz,"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return m(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return v(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return g(e,t,this,!1)},"DenseMatrix, any":function(e,t){return x(e,t,this,!1)},"any, SparseMatrix":function(e,t){return y(t,e,this,!0)},"any, DenseMatrix":function(e,t){return x(t,e,this,!0)},"Array, any":function(e,t){return x(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return x(r(t),e,this,!0).valueOf()}})}))},673:(e,t,r)=>{"use strict";r.d(t,{o:()=>l});var n=r(2893),i=r(4080),s=r(6713),a=r(8684),o=r(7598),u=r(4384),l=(0,n.d5)("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(function(e){var t=e.typed,r=e.matrix,n=e.addScalar,l=e.multiplyScalar,c=e.equalScalar,h=e.dot,p=(0,o.n)({typed:t,equalScalar:c}),f=(0,u.X)({typed:t});function m(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function d(e,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,r){var i,s=e._data,a=e._size,o=e._datatype,u=r._data,c=r._size,h=r._datatype,p=a[0],f=c[1],m=n,d=l;o&&h&&o===h&&"string"==typeof o&&(i=o,m=t.find(n,[i,i]),d=t.find(l,[i,i]));for(var g=[],y=0;y<f;y++){for(var v=d(s[0],u[0][y]),x=1;x<p;x++)v=m(v,d(s[x],u[x][y]));g[y]=v}return e.createDenseMatrix({data:g,size:[f],datatype:i})}(e,r)}var g=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,r){var i,s=e._data,a=e._size,o=e._datatype,u=r._data,c=r._datatype,h=a[0],p=a[1],f=n,m=l;o&&c&&o===c&&"string"==typeof o&&(i=o,f=t.find(n,[i,i]),m=t.find(l,[i,i]));for(var d=[],g=0;g<h;g++){for(var y=s[g],v=m(y[0],u[0]),x=1;x<p;x++)v=f(v,m(y[x],u[x]));d[g]=v}return e.createDenseMatrix({data:d,size:[h],datatype:i})},"SparseMatrix, any":function(e,r){var i=e._values,s=e._index,a=e._ptr,o=e._datatype;if(!i)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,h=r._data,p=r._datatype,f=e._size[0],m=r._size[0],d=[],g=[],y=[],v=n,x=l,b=c,w=0;o&&p&&o===p&&"string"==typeof o&&(u=o,v=t.find(n,[u,u]),x=t.find(l,[u,u]),b=t.find(c,[u,u]),w=t.convert(0,u));var S=[],E=[];y[0]=0;for(var A=0;A<m;A++){var T=h[A];if(!b(T,w))for(var M=a[A],_=a[A+1],N=M;N<_;N++){var I=s[N];E[I]?S[I]=v(S[I],x(T,i[N])):(E[I]=!0,g.push(I),S[I]=x(T,i[N]))}}for(var C=g.length,O=0;O<C;O++){var k=g[O];d[O]=S[k]}return y[1]=g.length,e.createSparseMatrix({values:d,index:g,ptr:y,size:[f,1],datatype:u})}}),y=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,r){var i,s=e._data,a=e._size,o=e._datatype,u=r._data,c=r._size,h=r._datatype,p=a[0],f=a[1],m=c[1],d=n,g=l;o&&h&&o===h&&"string"==typeof o&&(i=o,d=t.find(n,[i,i]),g=t.find(l,[i,i]));for(var y=[],v=0;v<p;v++){var x=s[v];y[v]=[];for(var b=0;b<m;b++){for(var w=g(x[0],u[0][b]),S=1;S<f;S++)w=d(w,g(x[S],u[S][b]));y[v][b]=w}}return e.createDenseMatrix({data:y,size:[p,m],datatype:i})},"DenseMatrix, SparseMatrix":function(e,r){var i=e._data,s=e._size,a=e._datatype,o=r._values,u=r._index,h=r._ptr,p=r._size,f=r._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m,d=s[0],g=p[1],y=n,v=l,x=c,b=0;a&&f&&a===f&&"string"==typeof a&&(m=a,y=t.find(n,[m,m]),v=t.find(l,[m,m]),x=t.find(c,[m,m]),b=t.convert(0,m));for(var w=[],S=[],E=[],A=r.createSparseMatrix({values:w,index:S,ptr:E,size:[d,g],datatype:m}),T=0;T<g;T++){E[T]=S.length;var M=h[T],_=h[T+1];if(_>M)for(var N=0,I=0;I<d;I++){for(var C=I+1,O=void 0,k=M;k<_;k++){var D=u[k];N!==C?(O=v(i[I][D],o[k]),N=C):O=y(O,v(i[I][D],o[k]))}N!==C||x(O,b)||(S.push(I),w.push(O))}}return E[g]=S.length,A},"SparseMatrix, DenseMatrix":function(e,r){var i=e._values,s=e._index,a=e._ptr,o=e._datatype;if(!i)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,h=r._data,p=r._datatype,f=e._size[0],m=r._size[0],d=r._size[1],g=n,y=l,v=c,x=0;o&&p&&o===p&&"string"==typeof o&&(u=o,g=t.find(n,[u,u]),y=t.find(l,[u,u]),v=t.find(c,[u,u]),x=t.convert(0,u));for(var b=[],w=[],S=[],E=e.createSparseMatrix({values:b,index:w,ptr:S,size:[f,d],datatype:u}),A=[],T=[],M=0;M<d;M++){S[M]=w.length;for(var _=M+1,N=0;N<m;N++){var I=h[N][M];if(!v(I,x))for(var C=a[N],O=a[N+1],k=C;k<O;k++){var D=s[k];T[D]!==_?(T[D]=_,w.push(D),A[D]=y(I,i[k])):A[D]=g(A[D],y(I,i[k]))}}for(var R=S[M],L=w.length,F=R;F<L;F++){var U=w[F];b[F]=A[U]}}return S[d]=w.length,E},"SparseMatrix, SparseMatrix":function(e,r){var i,s=e._values,a=e._index,o=e._ptr,u=e._datatype,c=r._values,h=r._index,p=r._ptr,f=r._datatype,m=e._size[0],d=r._size[1],g=s&&c,y=n,v=l;u&&f&&u===f&&"string"==typeof u&&(i=u,y=t.find(n,[i,i]),v=t.find(l,[i,i]));for(var x,b,w,S,E,A,T,M,_=g?[]:void 0,N=[],I=[],C=e.createSparseMatrix({values:_,index:N,ptr:I,size:[m,d],datatype:i}),O=g?[]:void 0,k=[],D=0;D<d;D++){I[D]=N.length;var R=D+1;for(E=p[D],A=p[D+1],S=E;S<A;S++)if(M=h[S],g)for(b=o[M],w=o[M+1],x=b;x<w;x++)k[T=a[x]]!==R?(k[T]=R,N.push(T),O[T]=v(c[S],s[x])):O[T]=y(O[T],v(c[S],s[x]));else for(b=o[M],w=o[M+1],x=b;x<w;x++)k[T=a[x]]!==R&&(k[T]=R,N.push(T));if(g)for(var L=I[D],F=N.length,U=L;U<F;U++){var z=N[U];_[U]=O[z]}}return I[d]=N.length,C}});return t("multiply",(0,s.l7)({"Array, Array":function(e,t){m((0,a.aJ)(e),(0,a.aJ)(t));var n=this(r(e),r(t));return(0,i.SW)(n)?n.valueOf():n},"Matrix, Matrix":function(e,t){var r=e.size(),n=t.size();return m(r,n),1===r.length?1===n.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return h(e,t)}(e,t,r[0]):d(e,t):1===n.length?g(e,t):y(e,t)},"Matrix, Array":function(e,t){return this(e,r(t))},"Array, Matrix":function(e,t){return this(r(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return p(e,t,l,!1)},"DenseMatrix, any":function(e,t){return f(e,t,l,!1)},"any, SparseMatrix":function(e,t){return p(t,e,l,!0)},"any, DenseMatrix":function(e,t){return f(t,e,l,!0)},"Array, any":function(e,t){return f(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return f(r(t),e,l,!0).valueOf()},"any, any":l,"any, any, ...any":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}},l.signatures))}))},4229:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(2893),i=r(5403),s=(0,n.d5)("multiplyScalar",["typed"],(function(e){return(0,e.typed)("multiplyScalar",{"number, number":i.G6,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, Unit":function(e,t){return e.multiply(t)}})}))},9629:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var n=(0,r(2893).d5)("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix"],(function(e){var t=e.typed,r=e.abs,n=e.add,i=e.pow,s=e.conj,a=e.sqrt,o=e.multiply,u=e.equalScalar,l=e.larger,c=e.smaller,h=e.matrix;return t("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return p(h(e),2)},Matrix:function(e){return p(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return this(e)},"Array, number | BigNumber | string":function(e,t){return p(h(e),t)},"Matrix, number | BigNumber | string":function(e,t){return p(e,t)}});function p(e,t){var h=e.size();if(1===h.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var f=0;return e.forEach((function(e){var t=r(e);l(t,f)&&(f=t)}),!0),f}var m;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return e.forEach((function(e){var t=r(e);m&&!c(t,m)||(m=t)}),!0),m||0;if("fro"===t)return p(e,2);if("number"==typeof t&&!isNaN(t)){if(!u(t,0)){var d=0;return e.forEach((function(e){d=n(i(r(e),t),d)}),!0),i(d,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===h.length){if(1===t){var g=[],y=0;return e.forEach((function(e,t){var i=t[1],s=n(g[i]||0,r(e));l(s,y)&&(y=s),g[i]=s}),!0),y}if(t===Number.POSITIVE_INFINITY||"inf"===t){var v=[],x=0;return e.forEach((function(e,t){var i=t[0],s=n(v[i]||0,r(e));l(s,x)&&(x=s),v[i]=s}),!0),x}if("fro"===t){var b=0;return e.forEach((function(e,t){b=n(b,o(e,s(e)))})),r(a(b))}if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}}))},3223:(e,t,r)=>{"use strict";r.d(t,{l:()=>p});var n=r(2893),i=r(2523),s=r(5612),a=r(5435),o=r(7598),u=r(8690),l=r(4384),c=r(5403),h="nthRoot",p=(0,n.d5)(h,["typed","matrix","equalScalar","BigNumber"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,p=e.BigNumber,f=(0,i.A)({typed:t}),m=(0,s.h)({typed:t,equalScalar:n}),d=(0,a.Q)({typed:t,equalScalar:n}),g=(0,o.n)({typed:t,equalScalar:n}),y=(0,u.x)({typed:t}),v=(0,l.X)({typed:t}),x="Complex number not supported in function nthRoot. Use nthRoots instead.";return t(h,{number:function(e){return(0,c.YS)(e,2)},"number, number":c.YS,BigNumber:function(e){return b(e,new p(2))},Complex:function(e){throw new Error(x)},"Complex, number":function(e,t){throw new Error(x)},"BigNumber, BigNumber":b,"Array | Matrix":function(e){return this(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return d(e,t,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return m(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return f(e,t,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return y(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return g(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return v(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return g(t,e,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return v(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}});function b(e,t){var r=p.precision,n=p.clone({precision:r+2}),i=new p(0),s=new n(1),a=t.isNegative();if(a&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return a?new n(1/0):0;if(!e.isFinite())return a?i:e;var o=e.abs().pow(s.div(t));return o=e.isNeg()?o.neg():o,new p((a?s.div(o):o).toPrecision(r))}}))},6457:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n=(0,r(2893).d5)("nthRoots",["config","typed","divideScalar","Complex"],(function(e){var t=e.typed,r=(e.config,e.divideScalar,e.Complex),n=[function(e){return new r(e,0)},function(e){return new r(0,e)},function(e){return new r(-e,0)},function(e){return new r(0,-e)}];function i(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new r(0,0)];var i,s="number"==typeof e;(s||0===e.re||0===e.im)&&(i=s?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var a=e.arg(),o=e.abs(),u=[],l=Math.pow(o,1/t),c=0;c<t;c++){var h=(i+4*c)/t;h!==Math.round(h)?u.push(new r({r:l,phi:(a+2*Math.PI*c)/t})):u.push(n[h%4](l))}return u}return t("nthRoots",{Complex:function(e){return i(e,2)},"Complex, number":i})}))},6561:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(2893),i=r(4008),s=r(8684),a=r(5403),o=(0,n.d5)("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(function(e){var t=e.typed,r=e.config,n=e.identity,o=e.multiply,u=e.matrix,l=e.number,c=e.fraction,h=e.Complex;return t("pow",{"number, number":p,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||r.predictable?e.pow(t):new h(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){if(1!==t.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return p(e.valueOf(),t.valueOf())}return e.pow(t)},"Array, number":f,"Array, BigNumber":function(e,t){return f(e,t.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(e,t){return m(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function p(e,t){if(r.predictable&&!(0,i.U)(t)&&e<0)try{var n=c(t),s=l(n);if((t===s||Math.abs((t-s)/t)<1e-14)&&n.d%2==1)return(n.n%2==0?1:-1)*Math.pow(-e,t)}catch(e){}return r.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:(0,i.U)(t)||e>=0||r.predictable?(0,a.Ue)(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new h(e,0).pow(t,0)}function f(e,t){if(!(0,i.U)(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var r=(0,s.aJ)(e);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var a=n(r[0]).valueOf(),u=e;t>=1;)1==(1&t)&&(a=o(u,a)),t>>=1,u=o(u,u);return a}function m(e,t){return u(f(e.valueOf(),t))}}))},470:(e,t,r)=>{"use strict";r.d(t,{V:()=>m});var n=r(2893),i=r(8664),s=r(4008),a=r(7598),o=r(2629),u=r(4384),l=r(5403);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f="Number of decimals in function round must be an integer",m=(0,n.d5)("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,s=e.zeros,l=e.BigNumber,c=e.DenseMatrix,p=(0,a.n)({typed:t,equalScalar:n}),m=(0,o.R)({typed:t,DenseMatrix:c}),g=(0,u.X)({typed:t});return t("round",h(h({},d),{},{Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(f);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(f);var r=t.toNumber();return e.round(r)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(f);return new l(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(f);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(f);return e.round(t)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},"SparseMatrix, number | BigNumber":function(e,t){return p(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return g(e,t,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return n(e,0)?s(t.size(),t.storage()):m(t,e,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return n(e,0)?s(t.size(),t.storage()):g(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return g(r(e),t,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return g(r(t),e,this,!0).valueOf()}}))})),d={number:l.QV,"number, number":function(e,t){if(!(0,s.U)(t))throw new TypeError(f);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return(0,l.QV)(e,t)}}},6976:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("sign",["typed","BigNumber","Fraction","complex"],(function(e){var t=e.typed,r=e.BigNumber,n=e.complex,a=e.Fraction;return t("sign",{number:s.$y,Complex:function(e){return 0===e.im?n((0,s.$y)(e.re)):e.sign()},BigNumber:function(e){return new r(e.cmp(0))},Fraction:function(e){return new a(e.s,1)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return this(e.value)}})}))},5632:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("sqrt",["config","typed","Complex"],(function(e){var t=e.config,r=e.typed,n=e.Complex;return r("sqrt",{number:s,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():s(e.toNumber())},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.pow(.5)}});function s(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt()}}))},8551:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("square",["typed"],(function(e){return(0,e.typed)("square",{number:s._$,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.pow(2)}})}))},9118:(e,t,r)=>{"use strict";r.d(t,{p:()=>h});var n=r(2893),i=r(620),s=r(2523),a=r(4365),o=r(95),u=r(9e3),l=r(8690),c=r(4384),h=(0,n.d5)("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,i=e.addScalar,h=e.unaryMinus,f=e.DenseMatrix,m=(0,s.A)({typed:t}),d=(0,a.O)({typed:t}),g=(0,o.p)({typed:t,equalScalar:n}),y=(0,u.q)({typed:t,DenseMatrix:f}),v=(0,l.x)({typed:t}),x=(0,c.X)({typed:t});return t("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(e,t){return p(e,t),g(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return p(e,t),d(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t),m(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t),v(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return y(e,h(t),i)},"DenseMatrix, any":function(e,t){return x(e,t,this)},"any, SparseMatrix":function(e,t){return y(t,e,this,!0)},"any, DenseMatrix":function(e,t){return x(t,e,this,!0)},"Array, any":function(e,t){return x(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return x(r(t),e,this,!0).valueOf()}})}));function p(e,t){var r=e.size(),n=t.size();if(r.length!==n.length)throw new i.m(r.length,n.length)}},7952:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("unaryMinus",["typed"],(function(e){return(0,e.typed)("unaryMinus",{number:s.GC,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},4118:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var n=r(2893),i=r(8664),s=r(5403),a=(0,n.d5)("unaryPlus",["typed","config","BigNumber"],(function(e){var t=e.typed,r=e.config,n=e.BigNumber;return t("unaryPlus",{number:s.iU,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},"boolean | string":function(e){return"BigNumber"===r.number?new n(+e):+e}})}))},3413:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(2893),i=r(5403),s=(0,n.d5)("xgcd",["typed","config","matrix","BigNumber"],(function(e){var t=e.typed,r=e.config,n=e.matrix,s=e.BigNumber;return t("xgcd",{"number, number":function(e,t){var s=(0,i.y9)(e,t);return"Array"===r.matrix?s:n(s)},"BigNumber, BigNumber":function(e,t){var i,a,o,u,l=new s(0),c=new s(1),h=l,p=c,f=c,m=l;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)a=e.div(t).floor(),o=e.mod(t),i=h,h=p.minus(a.times(h)),p=i,i=f,f=m.minus(a.times(f)),m=i,e=t,t=o;return u=e.lt(l)?[e.neg(),p.neg(),m.neg()]:[e,e.isZero()?0:p,m],"Array"===r.matrix?u:n(u)}})}))},4211:(e,t,r)=>{"use strict";r.d(t,{i:()=>h});var n=r(359),i=r(5612),s=r(7598),a=r(8690),o=r(4384),u=r(5435),l=r(2893),c=r(8489),h=(0,l.d5)("bitAnd",["typed","matrix","equalScalar"],(function(e){var t=e.typed,r=e.matrix,l=e.equalScalar,h=(0,i.h)({typed:t,equalScalar:l}),p=(0,u.Q)({typed:t,equalScalar:l}),f=(0,s.n)({typed:t,equalScalar:l}),m=(0,a.x)({typed:t}),d=(0,o.X)({typed:t});return t("bitAnd",{"number, number":c.qC,"BigNumber, BigNumber":n.hi,"SparseMatrix, SparseMatrix":function(e,t){return p(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return h(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return h(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return f(e,t,this,!1)},"DenseMatrix, any":function(e,t){return d(e,t,this,!1)},"any, SparseMatrix":function(e,t){return f(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(r(t),e,this,!0).valueOf()}})}))},7302:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var n=r(359),i=r(8664),s=r(2893),a=r(8489),o=(0,s.d5)("bitNot",["typed"],(function(e){return(0,e.typed)("bitNot",{number:a.NA,BigNumber:n.Xc,"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},4955:(e,t,r)=>{"use strict";r.d(t,{j:()=>h});var n=r(359),i=r(2893),s=r(4384),a=r(8690),o=r(9e3),u=r(5542),l=r(2523),c=r(8489),h=(0,i.d5)("bitOr",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,i=e.equalScalar,h=e.DenseMatrix,p=(0,l.A)({typed:t}),f=(0,u.H)({typed:t,equalScalar:i}),m=(0,o.q)({typed:t,DenseMatrix:h}),d=(0,a.x)({typed:t}),g=(0,s.X)({typed:t});return t("bitOr",{"number, number":c.LE,"BigNumber, BigNumber":n.Vq,"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return g(e,t,this,!1)},"any, SparseMatrix":function(e,t){return m(t,e,this,!0)},"any, DenseMatrix":function(e,t){return g(t,e,this,!0)},"Array, any":function(e,t){return g(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return g(r(t),e,this,!0).valueOf()}})}))},1623:(e,t,r)=>{"use strict";r.d(t,{g:()=>h});var n=r(359),i=r(4365),s=r(3922),a=r(2629),o=r(8690),u=r(4384),l=r(2893),c=r(8489),h=(0,l.d5)("bitXor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,l=e.DenseMatrix,h=(0,i.O)({typed:t}),p=(0,s.r)({typed:t,DenseMatrix:l}),f=(0,a.R)({typed:t,DenseMatrix:l}),m=(0,o.x)({typed:t}),d=(0,u.X)({typed:t});return t("bitXor",{"number, number":c.xS,"BigNumber, BigNumber":n.nN,"SparseMatrix, SparseMatrix":function(e,t){return p(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return h(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return h(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return f(e,t,this,!1)},"DenseMatrix, any":function(e,t){return d(e,t,this,!1)},"any, SparseMatrix":function(e,t){return f(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(r(t),e,this,!0).valueOf()}})}))},6452:(e,t,r)=>{"use strict";r.d(t,{U:()=>f});var n=r(5612),i=r(7598),s=r(8690),a=r(4384),o=r(2523),u=r(9e3),l=r(1908),c=r(2893),h=r(8489),p=r(359),f=(0,c.d5)("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,c=e.equalScalar,f=e.zeros,m=e.DenseMatrix,d=(0,o.A)({typed:t}),g=(0,n.h)({typed:t,equalScalar:c}),y=(0,l.C)({typed:t,equalScalar:c}),v=(0,u.q)({typed:t,DenseMatrix:m}),x=(0,i.n)({typed:t,equalScalar:c}),b=(0,s.x)({typed:t}),w=(0,a.X)({typed:t});return t("leftShift",{"number, number":h.ZG,"BigNumber, BigNumber":p.Mw,"SparseMatrix, SparseMatrix":function(e,t){return y(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return g(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return d(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return b(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():x(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():w(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):v(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):w(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},8863:(e,t,r)=>{"use strict";r.d(t,{o:()=>m});var n=r(359),i=r(5612),s=r(7598),a=r(8690),o=r(4384),u=r(2523),l=r(9e3),c=r(1908),h=r(2893),p=r(8489),f="rightArithShift",m=(0,h.d5)(f,["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,h=e.equalScalar,m=e.zeros,d=e.DenseMatrix,g=(0,u.A)({typed:t}),y=(0,i.h)({typed:t,equalScalar:h}),v=(0,c.C)({typed:t,equalScalar:h}),x=(0,l.q)({typed:t,DenseMatrix:d}),b=(0,s.n)({typed:t,equalScalar:h}),w=(0,a.x)({typed:t}),S=(0,o.X)({typed:t});return t(f,{"number, number":p.Lz,"BigNumber, BigNumber":n.ti,"SparseMatrix, SparseMatrix":function(e,t){return v(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return y(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return g(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return w(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return h(t,0)?e.clone():b(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return h(t,0)?e.clone():S(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return h(e,0)?m(t.size(),t.storage()):x(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return h(e,0)?m(t.size(),t.storage()):S(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},6947:(e,t,r)=>{"use strict";r.d(t,{M:()=>f});var n=r(5612),i=r(7598),s=r(8690),a=r(4384),o=r(2523),u=r(9e3),l=r(1908),c=r(2893),h=r(8489),p="rightLogShift",f=(0,c.d5)(p,["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,c=e.equalScalar,f=e.zeros,m=e.DenseMatrix,d=(0,o.A)({typed:t}),g=(0,n.h)({typed:t,equalScalar:c}),y=(0,l.C)({typed:t,equalScalar:c}),v=(0,u.q)({typed:t,DenseMatrix:m}),x=(0,i.n)({typed:t,equalScalar:c}),b=(0,s.x)({typed:t}),w=(0,a.X)({typed:t});return t(p,{"number, number":h.ji,"SparseMatrix, SparseMatrix":function(e,t){return y(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return g(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return d(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return b(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():x(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():w(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):v(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):w(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},5753:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var n=(0,r(2893).d5)("bellNumbers",["typed","addScalar","isNegative","isInteger","stirlingS2"],(function(e){var t=e.typed,r=e.addScalar,n=e.isNegative,i=e.isInteger,s=e.stirlingS2;return t("bellNumbers",{"number | BigNumber":function(e){if(!i(e)||n(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,a=0;a<=e;a++)t=r(t,s(e,a));return t}})}))},9843:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var n=(0,r(2893).d5)("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],(function(e){var t=e.typed,r=e.addScalar,n=e.divideScalar,i=e.multiplyScalar,s=e.combinations,a=e.isNegative,o=e.isInteger;return t("catalan",{"number | BigNumber":function(e){if(!o(e)||a(e))throw new TypeError("Non-negative integer value expected in function catalan");return n(s(i(e,2),e),r(e,1))}})}))},6645:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n=(0,r(2893).d5)("composition",["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],(function(e){var t=e.typed,r=e.addScalar,n=e.combinations,i=e.isPositive,s=(e.isNegative,e.isInteger),a=e.larger;return t("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(s(e)&&i(e)&&s(t)&&i(t)))throw new TypeError("Positive integer value expected in function composition");if(a(t,e))throw new TypeError("k must be less than or equal to n in function composition");return n(r(e,-1),r(t,-1))}})}))},1887:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});var n=(0,r(2893).d5)("stirlingS2",["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],(function(e){var t=e.typed,r=e.addScalar,n=e.subtract,i=e.multiplyScalar,s=e.divideScalar,a=e.pow,o=e.factorial,u=e.combinations,l=e.isNegative,c=e.isInteger,h=e.larger;return t("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!c(e)||l(e)||!c(t)||l(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var p=o(t),f=0,m=0;m<=t;m++){var d=a(-1,n(t,m)),g=u(t,m),y=a(m,e);f=r(f,i(i(g,y),d))}return s(f,p)}})}))},9208:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("arg",["typed"],(function(e){return(0,e.typed)("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},8277:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("conj",["typed"],(function(e){return(0,e.typed)("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},9418:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("im",["typed"],(function(e){return(0,e.typed)("im",{number:function(e){return 0},BigNumber:function(e){return e.mul(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},425:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("re",["typed"],(function(e){return(0,e.typed)("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},1912:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r(4080),i=(0,r(2893).d5)("distance",["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],(function(e){var t=e.typed,r=e.addScalar,i=e.subtract,s=e.multiplyScalar,a=e.divideScalar,o=e.unaryMinus,u=e.sqrt,l=e.abs;return t("distance",{"Array, Array, Array":function(e,t,r){if(2===e.length&&2===t.length&&2===r.length){if(!h(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!h(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var n=a(i(r[1],r[0]),i(t[1],t[0])),u=s(s(n,n),t[0]),l=o(s(n,t[0])),c=e[1];return g(e[0],e[1],u,l,c)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,r){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(r).length){if(!h(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!h(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in r&&"lineTwoPtY"in r){var n=a(i(r.lineTwoPtY,r.lineTwoPtX),i(t.lineOnePtY,t.lineOnePtX)),u=s(s(n,n),t.lineOnePtX),l=o(s(n,t.lineOnePtX)),c=e.pointX;return g(e.pointX,e.pointY,u,l,c)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!h(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!p(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!f(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return v(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return g(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return y(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return v([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return v([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&c(e[0][0])&&c(e[0][1])){if(e.some((function(e){return 2!==e.length||!c(e[0])||!c(e[1])})))return!1}else{if(!(3===e[0].length&&c(e[0][0])&&c(e[0][1])&&c(e[0][2])))return!1;if(e.some((function(e){return 3!==e.length||!c(e[0])||!c(e[1])||!c(e[2])})))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],r=[],n=[],i=0;i<e.length-1;i++)for(var s=i+1;s<e.length;s++)2===e[0].length?(r=[e[i][0],e[i][1]],n=[e[s][0],e[s][1]]):3===e[0].length&&(r=[e[i][0],e[i][1],e[i][2]],n=[e[s][0],e[s][1],e[s][2]]),t.push(v(r,n));return t}(e)}});function c(e){return"number"==typeof e||(0,n.l9)(e)}function h(e){return e.constructor!==Array&&(e=d(e)),c(e[0])&&c(e[1])}function p(e){return e.constructor!==Array&&(e=d(e)),c(e[0])&&c(e[1])&&c(e[2])}function f(e){return Array.isArray(e)||(e=d(e)),e.every(c)}function m(e){return e.constructor!==Array&&(e=d(e)),c(e[0])&&c(e[1])&&c(e[2])&&c(e[3])&&c(e[4])&&c(e[5])}function d(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}function g(e,t,n,i,o){var c=l(r(r(s(n,e),s(i,t)),o)),h=u(r(s(n,n),s(i,i)));return a(c,h)}function y(e,t,n,o,l,c,h,p,f){var m=[i(s(i(l,t),f),s(i(c,n),p)),i(s(i(c,n),h),s(i(o,e),f)),i(s(i(o,e),p),s(i(l,t),h))];m=u(r(r(s(m[0],m[0]),s(m[1],m[1])),s(m[2],m[2])));var d=u(r(r(s(h,h),s(p,p)),s(f,f)));return a(m,d)}function v(e,t){for(var n=e.length,a=0,o=0,l=0;l<n;l++)o=i(e[l],t[l]),a=r(s(o,o),a);return u(a)}}))},6864:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(4080),i=(0,r(2893).d5)("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],(function(e){var t=e.typed,r=e.config,i=e.abs,s=e.add,a=e.addScalar,o=e.matrix,u=e.multiply,l=e.multiplyScalar,c=e.divideScalar,h=e.subtract,p=e.smaller,f=e.equalScalar;return t("intersect",{"Array, Array, Array":function(e,t,r){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&m(e[0])&&m(e[1])&&m(e[2])&&m(e[3])}(r))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,r,n,i,s,o,u,p,f){var m=l(e,o),d=l(n,o),g=l(t,u),y=l(i,u),v=l(r,p),x=l(s,p),b=c(h(h(h(f,m),g),v),h(h(h(a(a(d,y),x),m),g),v));return[a(e,l(b,h(n,e))),a(t,l(b,h(i,t))),a(r,l(b,h(s,r)))]}(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2],r[3])},"Array, Array, Array, Array":function(e,t,n,o){if(2===e.length){if(!d(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!d(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!d(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,n,o){var f=e,m=n,d=h(f,t),g=h(m,o),y=h(l(d[0],g[1]),l(g[0],d[1]));if(p(i(y),r.epsilon))return null;var v=l(g[0],f[1]),x=l(g[1],f[0]),b=l(g[0],m[1]),w=l(g[1],m[0]),S=c(a(h(h(v,x),b),w),y);return s(u(d,S),f)}(e,t,n,o)}if(3===e.length){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!g(n))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!g(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return m=e[0],v=e[1],x=e[2],b=t[0],w=t[1],S=t[2],E=n[0],A=n[1],T=n[2],I=y(m,E,M=o[0],E,v,A,_=o[1],A,x,T,N=o[2],T),C=y(M,E,b,m,_,A,w,v,N,T,S,x),O=y(m,E,b,m,v,A,w,v,x,T,S,x),k=y(M,E,M,E,_,A,_,A,N,T,N,T),D=y(b,m,b,m,w,v,w,v,S,x,S,x),R=c(h(l(I,C),l(O,k)),h(l(D,k),l(C,C))),L=c(a(I,l(R,C)),k),F=a(m,l(R,h(b,m))),U=a(v,l(R,h(w,v))),z=a(x,l(R,h(S,x))),P=a(E,l(L,h(M,E))),B=a(A,l(L,h(_,A))),V=a(T,l(L,h(N,T))),f(F,P)&&f(U,B)&&f(z,V)?[F,U,z]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var m,v,x,b,w,S,E,A,T,M,_,N,I,C,O,k,D,R,L,F,U,z,P,B,V},"Matrix, Matrix, Matrix":function(e,t,r){return o(this(e.valueOf(),t.valueOf(),r.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,r,n){return o(this(e.valueOf(),t.valueOf(),r.valueOf(),n.valueOf()))}});function m(e){return"number"==typeof e||(0,n.l9)(e)}function d(e){return 2===e.length&&m(e[0])&&m(e[1])}function g(e){return 3===e.length&&m(e[0])&&m(e[1])&&m(e[2])}function y(e,t,r,n,i,s,o,u,c,p,f,m){var d=l(h(e,t),h(r,n)),g=l(h(i,s),h(o,u)),y=l(h(c,p),h(f,m));return a(a(d,g),y)}}))},4797:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(5612),i=r(7598),s=r(8690),a=r(4384),o=r(5435),u=r(2893),l=r(234),c=(0,u.d5)("and",["typed","matrix","equalScalar","zeros","not"],(function(e){var t=e.typed,r=e.matrix,u=e.equalScalar,c=e.zeros,h=e.not,p=(0,n.h)({typed:t,equalScalar:u}),f=(0,o.Q)({typed:t,equalScalar:u}),m=(0,i.n)({typed:t,equalScalar:u}),d=(0,s.x)({typed:t}),g=(0,a.X)({typed:t});return t("and",{"number, number":l.FO,"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return h(t)?c(e.size(),e.storage()):m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return h(t)?c(e.size(),e.storage()):g(e,t,this,!1)},"any, SparseMatrix":function(e,t){return h(e)?c(e.size(),e.storage()):m(t,e,this,!0)},"any, DenseMatrix":function(e,t){return h(e)?c(e.size(),e.storage()):g(t,e,this,!0)},"Array, any":function(e,t){return this(r(e),t).valueOf()},"any, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},6501:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var n=r(8664),i=r(2893),s=r(234),a=(0,i.d5)("not",["typed"],(function(e){return(0,e.typed)("not",{number:s.xY,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},986:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(4365),i=r(2629),s=r(8690),a=r(4384),o=r(95),u=r(2893),l=r(234),c=(0,u.d5)("or",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,u=e.equalScalar,c=e.DenseMatrix,h=(0,n.O)({typed:t}),p=(0,o.p)({typed:t,equalScalar:u}),f=(0,i.R)({typed:t,DenseMatrix:c}),m=(0,s.x)({typed:t}),d=(0,a.X)({typed:t});return t("or",{"number, number":l.RY,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return p(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return h(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return h(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return f(e,t,this,!1)},"DenseMatrix, any":function(e,t){return d(e,t,this,!1)},"any, SparseMatrix":function(e,t){return f(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(r(t),e,this,!0).valueOf()}})}))},2621:(e,t,r)=>{"use strict";r.d(t,{O:()=>c});var n=r(4365),i=r(3922),s=r(2629),a=r(8690),o=r(4384),u=r(2893),l=r(234),c=(0,u.d5)("xor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,u=e.DenseMatrix,c=(0,n.O)({typed:t}),h=(0,i.r)({typed:t,DenseMatrix:u}),p=(0,s.R)({typed:t,DenseMatrix:u}),f=(0,a.x)({typed:t}),m=(0,o.X)({typed:t});return t("xor",{"number, number":l.kl,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return p(e,t,this,!1)},"DenseMatrix, any":function(e,t){return m(e,t,this,!1)},"any, SparseMatrix":function(e,t){return p(t,e,this,!0)},"any, DenseMatrix":function(e,t){return m(t,e,this,!0)},"Array, any":function(e,t){return m(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return m(r(t),e,this,!0).valueOf()}})}))},5046:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var n=r(2893),i=r(8684),s=r(4080),a=r(4714),o=(0,n.d5)("apply",["typed","isInteger"],(function(e){var t=e.typed,r=e.isInteger;return t("apply",{"Array | Matrix, number | BigNumber, function":function(e,t,n){if(!r(t))throw new TypeError("Integer number expected for dimension");var o=Array.isArray(e)?(0,i.aJ)(e):e.size();if(t<0||t>=o.length)throw new a.c(t,o.length);return(0,s.SW)(e)?e.create(u(e.valueOf(),t,n)):u(e,t,n)}})}));function u(e,t,r){var n,i,s;if(t<=0){if(Array.isArray(e[0])){for(s=function(e){var t,r,n=e.length,i=e[0].length,s=[];for(r=0;r<i;r++){var a=[];for(t=0;t<n;t++)a.push(e[t][r]);s.push(a)}return s}(e),i=[],n=0;n<s.length;n++)i[n]=u(s[n],t-1,r);return i}return r(e)}for(i=[],n=0;n<e.length;n++)i[n]=u(e[n],t-1,r);return i}},405:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(2893),i=r(6713),s=r(8684),a=(0,n.d5)("column",["typed","Index","matrix","range"],(function(e){var t=e.typed,r=e.Index,n=e.matrix,a=e.range;return t("column",{"Matrix, number":o,"Array, number":function(e,t){return o(n((0,i.d9)(e)),t).valueOf()}});function o(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");(0,s.Ls)(t,e.size()[1]);var n=a(0,e.size()[0]),i=new r(n,t);return e.subset(i)}}))},4544:(e,t,r)=>{"use strict";r.d(t,{k:()=>u});var n=r(4080),i=r(6713),s=r(8684),a=r(4714),o=r(620),u=(0,r(2893).d5)("concat",["typed","matrix","isInteger"],(function(e){var t=e.typed,r=e.matrix,u=e.isInteger;return t("concat",{"...Array | Matrix | number | BigNumber":function(e){var t,c,h=e.length,p=-1,f=!1,m=[];for(t=0;t<h;t++){var d=e[t];if((0,n.SW)(d)&&(f=!0),(0,n.hj)(d)||(0,n.l9)(d)){if(t!==h-1)throw new Error("Dimension must be specified as last argument");if(c=p,p=d.valueOf(),!u(p))throw new TypeError("Integer number expected for dimension");if(p<0||t>0&&p>c)throw new a.c(p,c+1)}else{var g=(0,i.d9)(d).valueOf(),y=(0,s.aJ)(g);if(m[t]=g,c=p,p=y.length-1,t>0&&p!==c)throw new o.m(c+1,p+1)}}if(0===m.length)throw new SyntaxError("At least one matrix expected");for(var v=m.shift();m.length;)v=l(v,m.shift(),p,0);return f?r(v):v},"...string":function(e){return e.join("")}})}));function l(e,t,r,n){if(n<r){if(e.length!==t.length)throw new o.m(e.length,t.length);for(var i=[],s=0;s<e.length;s++)i[s]=l(e[s],t[s],r,n+1);return i}return e.concat(t)}},7299:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var n=r(8684),i=(0,r(2893).d5)("cross",["typed","matrix","subtract","multiply"],(function(e){var t=e.typed,r=e.matrix,i=e.subtract,s=e.multiply;return t("cross",{"Matrix, Matrix":function(e,t){return r(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return r(a(e.toArray(),t))},"Array, Matrix":function(e,t){return r(a(e,t.toArray()))},"Array, Array":a});function a(e,t){var r=Math.max((0,n.aJ)(e).length,(0,n.aJ)(t).length);e=(0,n.L9)(e),t=(0,n.L9)(t);var a=(0,n.aJ)(e),o=(0,n.aJ)(t);if(1!==a.length||1!==o.length||3!==a[0]||3!==o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+a.join(", ")+"], B = ["+o.join(", ")+"])");var u=[i(s(e[1],t[2]),s(e[2],t[1])),i(s(e[2],t[0]),s(e[0],t[2])),i(s(e[0],t[1]),s(e[1],t[0]))];return r>1?[u]:u}}))},6683:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var n=(0,r(2893).d5)("ctranspose",["typed","transpose","conj"],(function(e){var t=e.typed,r=e.transpose,n=e.conj;return t("ctranspose",{any:function(e){return n(r(e))}})}))},3508:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});var n=r(4080),i=r(6713),s=r(5116),a=(0,r(2893).d5)("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(function(e){var t=e.typed,r=e.matrix,a=e.subtract,o=e.multiply,u=e.unaryMinus,l=e.lup;return t("det",{any:function(e){return(0,i.d9)(e)},"Array | Matrix":function(e){var t;switch((t=(0,n.SW)(e)?e.size():Array.isArray(e)?(e=r(e)).size():[]).length){case 0:return(0,i.d9)(e);case 1:if(1===t[0])return(0,i.d9)(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+(0,s.WU)(t)+")");case 2:var c=t[0];if(c===t[1])return function(e,t,r){if(1===t)return(0,i.d9)(e[0][0]);if(2===t)return a(o(e[0][0],e[1][1]),o(e[1][0],e[0][1]));for(var n=l(e),s=n.U[0][0],c=1;c<t;c++)s=o(s,n.U[c][c]);for(var h=0,p=0,f=[];;){for(;f[p];)p++;if(p>=t)break;for(var m=p,d=0;!f[n.p[m]];)f[n.p[m]]=!0,m=n.p[m],d++;d%2==0&&h++}return h%2==0?s:u(s)}(e.clone().valueOf(),c);throw new RangeError("Matrix must be square (size: "+(0,s.WU)(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,s.WU)(t)+")")}}})}))},3816:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(4080),i=r(8684),s=r(4008),a=(0,r(2893).d5)("diag",["typed","matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,r=e.matrix,a=e.DenseMatrix,o=e.SparseMatrix;return t("diag",{Array:function(e){return u(e,0,(0,i.aJ)(e),null)},"Array, number":function(e,t){return u(e,t,(0,i.aJ)(e),null)},"Array, BigNumber":function(e,t){return u(e,t.toNumber(),(0,i.aJ)(e),null)},"Array, string":function(e,t){return u(e,0,(0,i.aJ)(e),t)},"Array, number, string":function(e,t,r){return u(e,t,(0,i.aJ)(e),r)},"Array, BigNumber, string":function(e,t,r){return u(e,t.toNumber(),(0,i.aJ)(e),r)},Matrix:function(e){return u(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return u(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return u(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return u(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return u(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return u(e,t.toNumber(),e.size(),r)}});function u(e,t,i,u){if(!(0,s.U)(t))throw new TypeError("Second parameter in function diag must be an integer");var l=t>0?t:0,c=t<0?-t:0;switch(i.length){case 1:return function(e,t,r,n,i,s){var u=[n+i,n+s];if(r&&"sparse"!==r&&"dense"!==r)throw new TypeError("Unknown matrix type ".concat(r,'"'));var l="sparse"===r?o.diagonal(u,e,t):a.diagonal(u,e,t);return null!==r?l:l.valueOf()}(e,t,u,i[0],c,l);case 2:return function(e,t,i,s,a,o){if((0,n.SW)(e)){var u=e.diagonal(t);return null!==i?i!==u.storage()?r(u,i):u:u.valueOf()}for(var l=Math.min(s[0]-a,s[1]-o),c=[],h=0;h<l;h++)c[h]=e[h+a][h+o];return null!==i?r(c):c}(e,t,u,i,c,l)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}))},1617:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});var n=r(2893),i=r(4080),s=(0,n.d5)("dot",["typed","addScalar","multiplyScalar","conj","size"],(function(e){var t=e.typed,r=e.addScalar,n=e.multiplyScalar,s=e.conj,a=e.size;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var l=o(e,a),c=(0,i.SW)(e)?e._data:e,h=(0,i.SW)(e)?e._datatype:void 0,p=(0,i.SW)(a)?a._data:a,f=(0,i.SW)(a)?a._datatype:void 0,m=2===u(e).length,d=2===u(a).length,g=r,y=n;if(h&&f&&h===f&&"string"==typeof h){var v=h;g=t.find(r,[v,v]),y=t.find(n,[v,v])}if(!m&&!d){for(var x=y(s(c[0]),p[0]),b=1;b<l;b++)x=g(x,y(s(c[b]),p[b]));return x}if(!m&&d){for(var w=y(s(c[0]),p[0][0]),S=1;S<l;S++)w=g(w,y(s(c[S]),p[S][0]));return w}if(m&&!d){for(var E=y(s(c[0][0]),p[0]),A=1;A<l;A++)E=g(E,y(s(c[A][0]),p[A]));return E}if(m&&d){for(var T=y(s(c[0][0]),p[0][0]),M=1;M<l;M++)T=g(T,y(s(c[M][0]),p[M][0]));return T}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);for(var i=e._index,s=e._values,a=t._index,u=t._values,l=0,c=r,h=n,p=0,f=0;p<i.length&&f<a.length;){var m=i[p],d=a[f];m<d?p++:m>d?f++:m===d&&(l=c(l,h(s[p],u[f])),p++,f++)}return l}});function o(e,t){var r,n,i=u(e),s=u(t);if(1===i.length)r=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0]}if(1===s.length)n=s[0];else{if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");n=s[0]}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function u(e){return(0,i.SW)(e)?e.size():a(e)}}))},6218:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(6713),i=r(2893),s=r(5116),a=(0,i.d5)("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],(function(e){var t=e.config,r=e.typed,i=e.matrix,a=e.addScalar,o=e.subtract,u=e.equal,l=e.abs,c=e.atan,h=e.cos,p=e.sin,f=e.multiplyScalar,m=e.inv,d=e.bignumber,g=e.multiply,y=e.add;return r("eigs",{Array:function(e){var t=i(e),r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+(0,s.WU)(r)+")");var n=v(t,r[0]);return{values:n[0],vectors:n[1]}},Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+(0,s.WU)(t)+")");var r=v(e,t[0]);return{values:i(r[0]),vectors:i(r[1])}}});function v(e,r){var i=e.datatype();if(void 0===i&&(i=e.getDataType()),"number"!==i&&"BigNumber"!==i&&"Fraction"!==i)throw"mixed"===i?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+i+")");if(function(e,t){for(var r=0;r<t;r++)for(var n=r;n<t;n++)if(!u(e[r][n],e[n][r]))throw new TypeError("Input matrix is not symmetric")}(e.toArray(),r),"number"===i)return x(e.toArray());if("Fraction"===i){for(var s=e.toArray(),a=0;a<r;a++)for(var o=a;o<r;o++)s[a][o]=s[a][o].valueOf(),s[o][a]=s[a][o];return x(e.toArray())}return"BigNumber"===i?function(e){for(var r,i=e.length,s=l(t.epsilon/i),a=new Array(i),o=0;o<i;o++)a[o]=I(i,0),a[o][o]=1;for(var u=_(e);l(u[1])>=l(s);){var c=u[0][0],h=u[0][1];e=A(e,r=w(e[c][c],e[h][h],e[c][h]),c,h),a=E(a,r,c,h),u=_(e)}for(var p=I(i,0),f=0;f<i;f++)p[f]=e[f][f];return N((0,n.d9)(p),(0,n.d9)(a))}(e.toArray()):void 0}function x(e){for(var r,i=e.length,s=Math.abs(t.epsilon/i),a=new Array(i),o=0;o<i;o++)a[o]=I(i,0),a[o][o]=1;for(var u=M(e);Math.abs(u[1])>=Math.abs(s);){var l=u[0][0],c=u[0][1];e=T(e,r=b(e[l][l],e[c][c],e[l][c]),l,c),a=S(a,r,l,c),u=M(e)}for(var h=I(i,0),p=0;p<i;p++)h[p]=e[p][p];return N((0,n.d9)(h),(0,n.d9)(a))}function b(e,r,n){var i=r-e;return Math.abs(i)<=t.epsilon?Math.PI/4:.5*Math.atan(2*n/(r-e))}function w(e,r,n){var i=o(r,e);return l(i)<=t.epsilon?d(-1).acos().div(4):f(.5,c(g(2,n,m(i))))}function S(e,t,r,n){for(var i=e.length,s=Math.cos(t),a=Math.sin(t),o=I(i,0),u=I(i,0),l=0;l<i;l++)o[l]=s*e[l][r]-a*e[l][n],u[l]=a*e[l][r]+s*e[l][n];for(var c=0;c<i;c++)e[c][r]=o[c],e[c][n]=u[c];return e}function E(e,t,r,n){for(var i=e.length,s=h(t),u=p(t),l=I(i,d(0)),c=I(i,d(0)),m=0;m<i;m++)l[m]=o(f(s,e[m][r]),f(u,e[m][n])),c[m]=a(f(u,e[m][r]),f(s,e[m][n]));for(var g=0;g<i;g++)e[g][r]=l[g],e[g][n]=c[g];return e}function A(e,t,r,n){for(var i=e.length,s=d(h(t)),u=d(p(t)),l=f(s,s),c=f(u,u),m=I(i,d(0)),v=I(i,d(0)),x=g(d(2),s,u,e[r][n]),b=a(o(f(l,e[r][r]),x),f(c,e[n][n])),w=y(f(c,e[r][r]),x,f(l,e[n][n])),S=0;S<i;S++)m[S]=o(f(s,e[r][S]),f(u,e[n][S])),v[S]=a(f(u,e[r][S]),f(s,e[n][S]));e[r][r]=b,e[n][n]=w,e[r][n]=d(0),e[n][r]=d(0);for(var E=0;E<i;E++)E!==r&&E!==n&&(e[r][E]=m[E],e[E][r]=m[E],e[n][E]=v[E],e[E][n]=v[E]);return e}function T(e,t,r,n){for(var i=e.length,s=Math.cos(t),a=Math.sin(t),o=s*s,u=a*a,l=I(i,0),c=I(i,0),h=o*e[r][r]-2*s*a*e[r][n]+u*e[n][n],p=u*e[r][r]+2*s*a*e[r][n]+o*e[n][n],f=0;f<i;f++)l[f]=s*e[r][f]-a*e[n][f],c[f]=a*e[r][f]+s*e[n][f];e[r][r]=h,e[n][n]=p,e[r][n]=0,e[n][r]=0;for(var m=0;m<i;m++)m!==r&&m!==n&&(e[r][m]=l[m],e[m][r]=l[m],e[n][m]=c[m],e[m][n]=c[m]);return e}function M(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++)for(var s=i+1;s<t;s++)Math.abs(r)<Math.abs(e[i][s])&&(r=Math.abs(e[i][s]),n=[i,s]);return[n,r]}function _(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++)for(var s=i+1;s<t;s++)l(r)<l(e[i][s])&&(r=l(e[i][s]),n=[i,s]);return[n,r]}function N(e,t){for(var r=e.length,i=Array(r),s=Array(r),a=0;a<r;a++)s[a]=Array(r);for(var o=0;o<r;o++){for(var u=0,l=e[0],c=0;c<e.length;c++)e[c]<l&&(l=e[u=c]);i[o]=e.splice(u,1)[0];for(var h=0;h<r;h++)s[h][o]=t[h][u],t[h].splice(u,1)}return[(0,n.d9)(i),(0,n.d9)(s)]}function I(e,t){for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r}}))},2036:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(4080),i=r(5116),s=(0,r(2893).d5)("expm",["typed","abs","add","identity","inv","multiply"],(function(e){var t=e.typed,r=e.abs,s=e.add,a=e.identity,o=e.inv,u=e.multiply;return t("expm",{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");for(var c=t[0],h=function(e,t){for(var r=0;r<30;r++)for(var n=0;n<=r;n++){var i=r-n;if(l(e,n,i)<1e-15)return{q:n,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var t=e.size()[0],n=0,i=0;i<t;i++){for(var s=0,a=0;a<t;a++)s+=r(e.get([i,a]));n=Math.max(s,n)}return n}(e)),p=h.q,f=h.j,m=u(e,Math.pow(2,-f)),d=a(c),g=a(c),y=1,v=m,x=-1,b=1;b<=p;b++)b>1&&(v=u(v,m),x=-x),d=s(d,u(y=y*(p-b+1)/((2*p-b+1)*b),v)),g=s(g,u(y*x,v));for(var w=u(o(g),d),S=0;S<f;S++)w=u(w,w);return(0,n.sA)(e)?e.createSparseMatrix(w):w}});function l(e,t,r){for(var n=1,i=2;i<=t;i++)n*=i;for(var s=n,a=t+1;a<=2*t;a++)s*=a;var o=s*(2*t+1);return 8*Math.pow(e/Math.pow(2,r),2*t)*n*n/(s*o)}}))},3749:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(8684),i=r(6477),s=(0,r(2893).d5)("filter",["typed"],(function(e){return(0,e.typed)("filter",{"Array, function":a,"Matrix, function":function(e,t){return e.create(a(e.toArray(),t))},"Array, RegExp":n.U_,"Matrix, RegExp":function(e,t){return e.create((0,n.U_)(e.toArray(),t))}})}));function a(e,t){var r=(0,i.oV)(t);return(0,n.hX)(e,(function(e,n,i){return 1===r?t(e):2===r?t(e,[n]):t(e,[n],i)}))}},835:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(6713),i=r(8684),s=(0,r(2893).d5)("flatten",["typed","matrix"],(function(e){var t=e.typed,r=e.matrix;return t("flatten",{Array:function(e){return(0,i.xH)((0,n.d9)(e))},Matrix:function(e){var t=(0,i.xH)((0,n.d9)(e.toArray()));return r(t)}})}))},984:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var n=r(6477),i=r(8684),s=(0,r(2893).d5)("forEach",["typed"],(function(e){return(0,e.typed)("forEach",{"Array, function":a,"Matrix, function":function(e,t){return e.forEach(t)}})}));function a(e,t){var r=(0,n.oV)(t);!function n(s,a){Array.isArray(s)?(0,i.Ed)(s,(function(e,t){n(e,a.concat(t))})):1===r?t(s):2===r?t(s,a):t(s,a,e)}(e,[])}},9266:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var n=r(2893),i=r(8684),s=r(4080),a="getMatrixDataType",o=(0,n.d5)(a,["typed"],(function(e){return(0,e.typed)(a,{Array:function(e){return(0,i.$q)(e,s.kM)},Matrix:function(e){return e.getDataType()}})}))},5604:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(4080),i=r(8684),s=r(4008),a=(0,r(2893).d5)("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,r=e.config,a=e.matrix,o=e.BigNumber,u=e.DenseMatrix,l=e.SparseMatrix;return t("identity",{"":function(){return"Matrix"===r.matrix?a([]):[]},string:function(e){return a(e)},"number | BigNumber":function(e){return h(e,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return h(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return h(e,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return h(e,t,r)},Array:function(e){return c(e)},"Array, string":function(e,t){return c(e,t)},Matrix:function(e){return c(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return c(e.valueOf(),t)}});function c(e,t){switch(e.length){case 0:return t?a(t):[];case 1:return h(e[0],e[0],t);case 2:return h(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function h(e,t,r){var a=(0,n.l9)(e)||(0,n.l9)(t)?o:null;if((0,n.l9)(e)&&(e=e.toNumber()),(0,n.l9)(t)&&(t=t.toNumber()),!(0,s.U)(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!(0,s.U)(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var c=a?new o(1):1,h=a?new a(0):0,p=[e,t];if(r){if("sparse"===r)return l.diagonal(p,c,0,h);if("dense"===r)return u.diagonal(p,c,0,h);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var f=(0,i.SI)([],p,h),m=e<t?e:t,d=0;d<m;d++)f[d][d]=c;return f}}))},6932:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(4080),i=r(8684),s=r(2893),a=r(5116),o=(0,s.d5)("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(function(e){var t=e.typed,r=e.matrix,s=e.divideScalar,o=e.addScalar,u=e.multiply,l=e.unaryMinus,c=e.det,h=e.identity,p=e.abs;return t("inv",{"Array | Matrix":function(e){var t=(0,n.SW)(e)?e.size():(0,i.aJ)(e);switch(t.length){case 1:if(1===t[0])return(0,n.SW)(e)?r([s(1,e.valueOf()[0])]):[s(1,e[0])];throw new RangeError("Matrix must be square (size: "+(0,a.WU)(t)+")");case 2:var o=t[0],u=t[1];if(o===u)return(0,n.SW)(e)?r(f(e.valueOf(),o,u),e.storage()):f(e,o,u);throw new RangeError("Matrix must be square (size: "+(0,a.WU)(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,a.WU)(t)+")")}},any:function(e){return s(1,e)}});function f(e,t,r){var n,i,a,f,m;if(1===t){if(0===(f=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[s(1,f)]]}if(2===t){var d=c(e);if(0===d)throw Error("Cannot calculate inverse, determinant is zero");return[[s(e[1][1],d),s(l(e[0][1]),d)],[s(l(e[1][0]),d),s(e[0][0],d)]]}var g=e.concat();for(n=0;n<t;n++)g[n]=g[n].concat();for(var y=h(t).valueOf(),v=0;v<r;v++){var x=p(g[v][v]),b=v;for(n=v+1;n<t;)p(g[n][v])>x&&(x=p(g[n][v]),b=n),n++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(n=b)!==v&&(m=g[v],g[v]=g[n],g[n]=m,m=y[v],y[v]=y[n],y[n]=m);var w=g[v],S=y[v];for(n=0;n<t;n++){var E=g[n],A=y[n];if(n!==v){if(0!==E[v]){for(a=s(l(E[v]),w[v]),i=v;i<r;i++)E[i]=o(E[i],u(a,w[i]));for(i=0;i<r;i++)A[i]=o(A[i],u(a,S[i]))}}else{for(a=w[v],i=v;i<r;i++)E[i]=s(E[i],a);for(i=0;i<r;i++)A[i]=s(A[i],a)}}}return y}}))},7093:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(8684),i=(0,r(2893).d5)("kron",["typed","matrix","multiplyScalar"],(function(e){var t=e.typed,r=e.matrix,i=e.multiplyScalar;return t("kron",{"Matrix, Matrix":function(e,t){return r(s(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return r(s(e.toArray(),t))},"Array, Matrix":function(e,t){return r(s(e,t.toArray()))},"Array, Array":s});function s(e,t){if(1===(0,n.aJ)(e).length&&(e=[e]),1===(0,n.aJ)(t).length&&(t=[t]),(0,n.aJ)(e).length>2||(0,n.aJ)(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],s=[];return e.map((function(e){return t.map((function(t){return s=[],r.push(s),e.map((function(e){return t.map((function(t){return s.push(i(e,t))}))}))}))}))&&r}}))},4149:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(6477),i=(0,r(2893).d5)("map",["typed"],(function(e){return(0,e.typed)("map",{"Array, function":s,"Matrix, function":function(e,t){return e.map(t)}})}));function s(e,t){var r=(0,n.oV)(t);return function n(i,s){return Array.isArray(i)?i.map((function(e,t){return n(e,s.concat(t))})):1===r?t(i):2===r?t(i,s):t(i,s,e)}(e,[])}},9649:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(4080),i=r(4008),s=r(8684),a=(0,r(2893).d5)("ones",["typed","config","matrix","BigNumber"],(function(e){var t=e.typed,r=e.config,a=e.matrix,o=e.BigNumber;return t("ones",{"":function(){return"Array"===r.matrix?u([]):u([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return u(e,t)}return"Array"===r.matrix?u(e):u(e,"default")},Array:u,Matrix:function(e){var t=e.storage();return u(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return u(e.valueOf(),t)}});function u(e,t){var r=function(e){var t=!1;return e.forEach((function(e,r,i){(0,n.l9)(e)&&(t=!0,i[r]=e.toNumber())})),t}(e)?new o(1):1;if(function(e){e.forEach((function(e){if("number"!=typeof e||!(0,i.U)(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}))}(e),t){var u=a(t);return e.length>0?u.resize(e,r):u}var l=[];return e.length>0?(0,s.SI)(l,e,r):l}}))},1659:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(4080),i=r(4008),s=r(2893),a="partitionSelect",o=(0,s.d5)(a,["typed","isNumeric","isNaN","compare"],(function(e){var t=e.typed,r=e.isNumeric,s=e.isNaN,o=e.compare,u=o,l=function(e,t){return-o(e,t)};return t(a,{"Array | Matrix, number":function(e,t){return c(e,t,u)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return c(e,t,u);if("desc"===r)return c(e,t,l);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":c});function c(e,t,r){if(!(0,i.U)(t)||t<0)throw new Error("k must be a non-negative integer");if((0,n.SW)(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return h(e.valueOf(),t,r)}if(Array.isArray(e))return h(e,t,r)}function h(e,t,n){if(t>=e.length)throw new Error("k out of bounds");for(var i=0;i<e.length;i++)if(r(e[i])&&s(e[i]))return e[i];for(var a=0,o=e.length-1;a<o;){for(var u=a,l=o,c=e[Math.floor(Math.random()*(o-a+1))+a];u<l;)if(n(e[u],c)>=0){var h=e[l];e[l]=e[u],e[u]=h,--l}else++u;n(e[u],c)>0&&--u,t<=u?o=u:a=u+1}return e[t]}}))},5443:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(2893),i=r(826),s=(0,n.d5)("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.typed,r=e.config,n=e.matrix,s=e.bignumber,a=e.smaller,o=e.smallerEq,u=e.larger,l=e.largerEq;return t("range",{string:h,"string, boolean":h,"number, number":function(e,t){return c(p(e,t,1))},"number, number, number":function(e,t,r){return c(p(e,t,r))},"number, number, boolean":function(e,t,r){return c(r?f(e,t,1):p(e,t,1))},"number, number, number, boolean":function(e,t,r,n){return c(n?f(e,t,r):p(e,t,r))},"BigNumber, BigNumber":function(e,t){return c(m(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return c(m(e,t,r))},"BigNumber, BigNumber, boolean":function(e,t,r){var n=e.constructor;return c(r?d(e,t,new n(1)):m(e,t,new n(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return c(n?d(e,t,r):m(e,t,r))}});function c(e){return"Matrix"===r.matrix?n?n(e):(0,i.kX)():e}function h(e,t){var n=function(e){var t=e.split(":").map((function(e){return Number(e)}));if(t.some((function(e){return isNaN(e)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!n)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===r.number?(void 0===s&&(0,i.R3)(),c((t?d:m)(s(n.start),s(n.end),s(n.step)))):c((t?f:p)(n.start,n.end,n.step))}function p(e,t,r){var n=[],i=e;if(r>0)for(;a(i,t);)n.push(i),i+=r;else if(r<0)for(;u(i,t);)n.push(i),i+=r;return n}function f(e,t,r){var n=[],i=e;if(r>0)for(;o(i,t);)n.push(i),i+=r;else if(r<0)for(;l(i,t);)n.push(i),i+=r;return n}function m(e,t,r){var n=s(0),i=[],o=e;if(r.gt(n))for(;a(o,t);)i.push(o),o=o.plus(r);else if(r.lt(n))for(;u(o,t);)i.push(o),o=o.plus(r);return i}function d(e,t,r){var n=s(0),i=[],a=e;if(r.gt(n))for(;o(a,t);)i.push(a),a=a.plus(r);else if(r.lt(n))for(;l(a,t);)i.push(a),a=a.plus(r);return i}}))},7233:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(8684),i=(0,r(2893).d5)("reshape",["typed","isInteger","matrix"],(function(e){var t=e.typed,r=e.isInteger,i=e.matrix;return t("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):i((0,n.XL)(e.valueOf(),t))},"Array, Array":function(e,t){return t.forEach((function(e){if(!r(e))throw new TypeError("Invalid size for dimension: "+e)})),(0,n.XL)(e,t)}})}))},1987:(e,t,r)=>{"use strict";r.d(t,{y:()=>c});var n=r(4080),i=r(620);function s(e,t,r,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}s.prototype=new Error,s.prototype.constructor=Error,s.prototype.name="ArgumentsError",s.prototype.isArgumentsError=!0;var a=r(4008),o=r(5116),u=r(6713),l=r(8684),c=(0,r(2893).d5)("resize",["config","matrix"],(function(e){var t=e.config,r=e.matrix;return function(e,i,a){if(2!==arguments.length&&3!==arguments.length)throw new s("resize",arguments.length,2,3);if((0,n.SW)(i)&&(i=i.valueOf()),(0,n.l9)(i[0])&&(i=i.map((function(e){return(0,n.l9)(e)?e.toNumber():e}))),(0,n.SW)(e))return e.resize(i,a,!0);if("string"==typeof e)return c(e,i,a);var o=!Array.isArray(e)&&"Array"!==t.matrix;if(0===i.length){for(;Array.isArray(e);)e=e[0];return(0,u.d9)(e)}Array.isArray(e)||(e=[e]),e=(0,u.d9)(e);var h=(0,l.SI)(e,i,a);return o?r(h):h};function c(e,t,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";if(1!==t.length)throw new i.m(t.length,1);var n=t[0];if("number"!=typeof n||!(0,a.U)(n))throw new TypeError("Invalid size, must contain positive integers (size: "+(0,o.WU)(t)+")");if(e.length>n)return e.substring(0,n);if(e.length<n){for(var s=e,u=0,l=n-e.length;u<l;u++)s+=r;return s}return e}}))},5495:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(2893),i=r(6713),s=r(8684),a=(0,n.d5)("row",["typed","Index","matrix","range"],(function(e){var t=e.typed,r=e.Index,n=e.matrix,a=e.range;return t("row",{"Matrix, number":o,"Array, number":function(e,t){return o(n((0,i.d9)(e)),t).valueOf()}});function o(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");(0,s.Ls)(t,e.size()[0]);var n=a(0,e.size()[1]),i=new r(t,n);return e.subset(i)}}))},6129:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(8684),i=r(2893),s=r(826),a=(0,i.d5)("size",["typed","config","?matrix"],(function(e){var t=e.typed,r=e.config,i=e.matrix;return t("size",{Matrix:function(e){return e.create(e.size())},Array:n.aJ,string:function(e){return"Array"===r.matrix?[e.length]:i([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===r.matrix?[]:i?i([]):(0,s.kX)()}})}))},8363:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(8684),i=(0,r(2893).d5)("sort",["typed","matrix","compare","compareNatural"],(function(e){var t=e.typed,r=e.matrix,i=e.compare,s=e.compareNatural,a=i,o=function(e,t){return-i(e,t)};return t("sort",{Array:function(e){return l(e),e.sort(a)},Matrix:function(e){return c(e),r(e.toArray().sort(a),e.storage())},"Array, function":function(e,t){return l(e),e.sort(t)},"Matrix, function":function(e,t){return c(e),r(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return l(e),e.sort(u(t))},"Matrix, string":function(e,t){return c(e),r(e.toArray().sort(u(t)),e.storage())}});function u(e){if("asc"===e)return a;if("desc"===e)return o;if("natural"===e)return s;throw new Error('String "asc", "desc", or "natural" expected')}function l(e){if(1!==(0,n.aJ)(e).length)throw new Error("One dimensional array expected")}function c(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}}))},5834:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(4080),i=r(5116),s=r(8684),a=(0,r(2893).d5)("sqrtm",["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],(function(e){var t=e.typed,r=e.abs,a=e.add,o=e.multiply,u=e.sqrt,l=e.subtract,c=e.inv,h=e.size,p=e.max,f=e.identity;return t("sqrtm",{"Array | Matrix":function(e){var t=(0,n.SW)(e)?e.size():(0,s.aJ)(e);switch(t.length){case 1:if(1===t[0])return u(e);throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");case 2:if(t[0]===t[1])return function(e){var t,n=0,i=e,s=f(h(e));do{var u=i;if(i=o(.5,a(u,c(s))),s=o(.5,a(s,c(u))),(t=p(r(l(i,u))))>1e-6&&++n>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>1e-6);return i}(e);throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")")}}})}))},5155:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(6713),i=r(8684),s=(0,r(2893).d5)("squeeze",["typed","matrix"],(function(e){var t=e.typed,r=e.matrix;return t("squeeze",{Array:function(e){return(0,i.L9)((0,n.d9)(e))},Matrix:function(e){var t=(0,i.L9)(e.toArray());return Array.isArray(t)?r(t):t},any:function(e){return(0,n.d9)(e)}})}))},2769:(e,t,r)=>{"use strict";r.d(t,{q:()=>u});var n=r(4080),i=r(6713),s=r(8684),a=r(9913),o=r(620),u=(0,r(2893).d5)("subset",["typed","matrix"],(function(e){var t=e.typed,r=e.matrix;return t("subset",{"Array, Index":function(e,t){var n=r(e).subset(t);return t.isScalar()?n:n.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":h,"string, Index":l,"Array, Index, any":function(e,t,n){return r((0,i.d9)(e)).subset(t,n,void 0).valueOf()},"Array, Index, any, any":function(e,t,n,s){return r((0,i.d9)(e)).subset(t,n,s).valueOf()},"Matrix, Index, any":function(e,t,r){return e.clone().subset(t,r)},"Matrix, Index, any, any":function(e,t,r,n){return e.clone().subset(t,r,n)},"string, Index, string":c,"string, Index, string, string":c,"Object, Index, any":p})}));function l(e,t){if(!(0,n.dh)(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new o.m(t.size().length,1);var r=e.length;(0,s.Ls)(t.min()[0],r),(0,s.Ls)(t.max()[0],r);var i=t.dimension(0),a="";return i.forEach((function(t){a+=e.charAt(t)})),a}function c(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new o.m(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new o.m(i.size()[0],r.length);var a=e.length;(0,s.Ls)(t.min()[0]),(0,s.Ls)(t.max()[0]);for(var u=[],l=0;l<a;l++)u[l]=e.charAt(l);if(i.forEach((function(e,t){u[e]=r.charAt(t[0])})),u.length>a)for(var c=a-1,h=u.length;c<h;c++)u[c]||(u[c]=n);return u.join("")}function h(e,t){if(1!==t.size().length)throw new o.m(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return(0,a.YF)(e,r)}function p(e,t,r){if(1!==t.size().length)throw new o.m(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var s=(0,i.d9)(e);return(0,a.nI)(s,n,r),s}},1845:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(6713),i=r(5116),s=(0,r(2893).d5)("trace",["typed","matrix","add"],(function(e){var t=e.typed,r=e.matrix,s=e.add;return t("trace",{Array:function(e){return a(r(e))},SparseMatrix:function(e){var t=e._values,r=e._index,n=e._ptr,a=e._size,o=a[0],u=a[1];if(o===u){var l=0;if(t.length>0)for(var c=0;c<u;c++)for(var h=n[c],p=n[c+1],f=h;f<p;f++){var m=r[f];if(m===c){l=s(l,t[f]);break}if(m>c)break}return l}throw new RangeError("Matrix must be square (size: "+(0,i.WU)(a)+")")},DenseMatrix:a,any:n.d9});function a(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return(0,n.d9)(r[0]);throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");case 2:var a=t[0];if(a===t[1]){for(var o=0,u=0;u<a;u++)o=s(o,r[u][u]);return o}throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,i.WU)(t)+")")}}}))},9126:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var n=r(6713),i=r(5116),s=(0,r(2893).d5)("transpose",["typed","matrix"],(function(e){var t=e.typed,r=e.matrix;return t("transpose",{Array:function(e){return this(r(e)).valueOf()},Matrix:function(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var s=r[0],a=r[1];if(0===a)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+(0,i.WU)(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var i,s=e._data,a=[],o=0;o<r;o++){i=a[o]=[];for(var u=0;u<t;u++)i[u]=(0,n.d9)(s[u][o])}return e.createDenseMatrix({data:a,size:[r,t],datatype:e._datatype})}(e,s,a);break;case"sparse":t=function(e,t,r){for(var i,s,a,o=e._values,u=e._index,l=e._ptr,c=o?[]:void 0,h=[],p=[],f=[],m=0;m<t;m++)f[m]=0;for(i=0,s=u.length;i<s;i++)f[u[i]]++;for(var d=0,g=0;g<t;g++)p.push(d),d+=f[g],f[g]=p[g];for(p.push(d),a=0;a<r;a++)for(var y=l[a],v=l[a+1],x=y;x<v;x++){var b=f[u[x]]++;h[b]=a,o&&(c[b]=(0,n.d9)(o[x]))}return e.createSparseMatrix({values:c,index:h,ptr:p,size:[r,t],datatype:e._datatype})}(e,s,a)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+(0,i.WU)(this._size)+")")}return t},any:function(e){return(0,n.d9)(e)}})}))},2644:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var n=r(4080),i=r(4008),s=r(8684),a=(0,r(2893).d5)("zeros",["typed","config","matrix","BigNumber"],(function(e){var t=e.typed,r=e.config,a=e.matrix,o=e.BigNumber;return t("zeros",{"":function(){return"Array"===r.matrix?u([]):u([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return u(e,t)}return"Array"===r.matrix?u(e):u(e,"default")},Array:u,Matrix:function(e){var t=e.storage();return u(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return u(e.valueOf(),t)}});function u(e,t){var r=function(e){var t=!1;return e.forEach((function(e,r,i){(0,n.l9)(e)&&(t=!0,i[r]=e.toNumber())})),t}(e)?new o(0):0;if(function(e){e.forEach((function(e){if("number"!=typeof e||!(0,i.U)(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}(e),t){var u=a(t);return e.length>0?u.resize(e,r):u}var l=[];return e.length>0?(0,s.SI)(l,e,r):l}}))},7414:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(2893),i=r(4008),s=r(2424);function a(e,t){if(!(0,i.U)(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!(0,i.U)(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var r=e-t;return t<r?(0,s.O)(r+1,e)/(0,s.O)(1,t):(0,s.O)(t+1,e)/(0,s.O)(1,r)}a.signature="number, number";var o=(0,n.d5)("combinations",["typed"],(function(e){return(0,e.typed)("combinations",{"number, number":a,"BigNumber, BigNumber":function(e,t){var r,n,i=e.constructor,s=e.minus(t),a=new i(1);if(!u(e)||!u(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(r=a,t.lt(s))for(n=a;n.lte(s);n=n.plus(a))r=r.times(t.plus(n)).dividedBy(n);else for(n=a;n.lte(t);n=n.plus(a))r=r.times(s.plus(n)).dividedBy(n);return r}})}));function u(e){return e.isInteger()&&e.gte(0)}},5433:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var n=r(2893),i=r(4008),s=r(2424),a="combinationsWithRep",o=(0,n.d5)(a,["typed"],(function(e){return(0,e.typed)(a,{"number, number":function(e,t){if(!(0,i.U)(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!(0,i.U)(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?(0,s.O)(e,e+t-1)/(0,s.O)(1,t):(0,s.O)(t+1,e+t-1)/(0,s.O)(1,e-1)},"BigNumber, BigNumber":function(e,t){var r,n,i=new(0,e.constructor)(1),s=e.minus(i);if(!u(e)||!u(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(r=i,t.lt(s))for(n=i;n.lte(s);n=n.plus(i))r=r.times(t.plus(n)).dividedBy(n);else for(n=i;n.lte(t);n=n.plus(i))r=r.times(s.plus(n)).dividedBy(n);return r}})}));function u(e){return e.isInteger()&&e.gte(0)}},4627:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(8664),i=(0,r(2893).d5)("factorial",["typed","gamma"],(function(e){var t=e.typed,r=e.gamma;return t("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return r(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return r(e.plus(1))},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},6750:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(8664),i=r(2893),s=r(4008),a=r(2424);function o(e){var t;if((0,s.U)(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:(0,a.O)(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*o(1-e));if(e>=171.35)return 1/0;if(e>85){var r=e*e,n=r*e,i=n*e,c=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*c)+5246819/(75246796800*c*e))}--e,t=l[0];for(var h=1;h<l.length;++h)t+=l[h]/(e+h);var p=e+u+.5;return Math.sqrt(2*Math.PI)*Math.pow(p,e+.5)*Math.exp(-p)*t}o.signature="number";var u=4.7421875,l=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],c=(0,i.d5)("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],(function(e){var t=e.typed,r=e.config,i=e.multiplyScalar,s=e.pow,a=e.BigNumber,c=e.Complex;return t("gamma",{number:o,Complex:function(e){if(0===e.im)return this(e.re);e=new c(e.re-1,e.im);for(var t=new c(l[0],0),r=1;r<l.length;++r){var n=e.re+r,a=n*n+e.im*e.im;0!==a?(t.re+=l[r]*n/a,t.im+=-l[r]*e.im/a):t.re=l[r]<0?-1/0:1/0}var o=new c(e.re+u+.5,e.im),h=Math.sqrt(2*Math.PI);e.re+=.5;var p=s(o,e);0===p.im?p.re*=h:(0===p.re||(p.re*=h),p.im*=h);var f=Math.exp(-o.re);return o.re=f*Math.cos(-o.im),o.im=f*Math.sin(-o.im),i(i(p,o),t)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new a(1/0):function e(t){if(t<8)return new a([1,1,2,6,24,120,720,5040][t]);var n=r.precision+(0|Math.log(t.toNumber())),i=a.clone({precision:n});if(t%2==1)return t.times(e(new a(t-1)));for(var s=t,o=new i(t),u=t.toNumber();s>2;)u+=s-=2,o=o.times(u);return new a(o.toPrecision(a.precision))}(e.minus(1));if(!e.isFinite())return new a(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},3395:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n=(0,r(2893).d5)("kldivergence",["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],(function(e){var t=e.typed,r=e.matrix,n=e.divide,i=e.sum,s=e.multiply,a=e.dotDivide,o=e.log,u=e.isNumeric;return t("kldivergence",{"Array, Array":function(e,t){return l(r(e),r(t))},"Matrix, Array":function(e,t){return l(e,r(t))},"Array, Matrix":function(e,t){return l(r(e),t)},"Matrix, Matrix":function(e,t){return l(e,t)}});function l(e,t){var r=t.size().length,l=e.size().length;if(r>1)throw new Error("first object must be one dimensional");if(l>1)throw new Error("second object must be one dimensional");if(r!==l)throw new Error("Length of two vectors must be equal");if(0===i(e))throw new Error("Sum of elements in first object must be non zero");if(0===i(t))throw new Error("Sum of elements in second object must be non zero");var c=n(e,i(e)),h=n(t,i(t)),p=i(s(c,o(a(c,h))));return u(p)?p:Number.NaN}}))},7798:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(8664),i=(0,r(2893).d5)("multinomial",["typed","add","divide","multiply","factorial","isInteger","isPositive"],(function(e){var t=e.typed,r=e.add,i=e.divide,s=e.multiply,a=e.factorial,o=e.isInteger,u=e.isPositive;return t("multinomial",{"Array | Matrix":function(e){var t=0,l=1;return(0,n.Et)(e,(function(e){if(!o(e)||!u(e))throw new TypeError("Positive integer value expected in function multinomial");t=r(t,e),l=s(l,a(e))})),i(a(t),l)}})}))},4618:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(4008),i=r(2424),s=(0,r(2893).d5)("permutations",["typed","factorial"],(function(e){return(0,e.typed)("permutations",{"number | BigNumber":e.factorial,"number, number":function(e,t){if(!(0,n.U)(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!(0,n.U)(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return(0,i.O)(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var r,n;if(!a(e)||!a(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=e.mul(0).add(1),n=e.minus(t).plus(1);n.lte(e);n=n.plus(1))r=r.times(n);return r}})}));function a(e){return e.isInteger()&&e.gte(0)}},2498:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(2893),i=r(4080),s=r(8684),a=r(7487),o=(0,n.d5)("pickRandom",["typed","config","?on"],(function(e){var t=e.typed,r=e.config,n=e.on,o=(0,a.l)(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(o=(0,a.l)(e.randomSeed))})),t({"Array | Matrix":function(e){return u(e)},"Array | Matrix, number":function(e,t){return u(e,t,void 0)},"Array | Matrix, Array":function(e,t){return u(e,void 0,t)},"Array | Matrix, Array | Matrix, number":function(e,t,r){return u(e,r,t)},"Array | Matrix, number, Array | Matrix":function(e,t,r){return u(e,t,r)}});function u(e,t,r){var n=void 0===t;if(n&&(t=1),e=e.valueOf(),r&&(r=r.valueOf()),(0,s.aJ)(e).length>1)throw new Error("Only one dimensional vectors supported");var a=0;if(void 0!==r){if(r.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var u=0,l=r.length;u<l;u++){if(!(0,i.hj)(r[u])||r[u]<0)throw new Error("Weights must be an array of positive numbers");a+=r[u]}}var c=e.length;if(0===c)return[];if(t>=c)return t>1?e:e[0];for(var h,p=[];p.length<t;){if(void 0===r)h=e[Math.floor(o()*c)];else for(var f=o()*a,m=0,d=e.length;m<d;m++)if((f-=r[m])<0){h=e[m];break}-1===p.indexOf(h)&&p.push(h)}return n?p[0]:p}}))},9710:(e,t,r)=>{"use strict";r.d(t,{o:()=>u});var n=r(2893),i=r(4080),s=r(7487),a=r(3393),o="random",u=(0,n.d5)(o,["typed","config","?on"],(function(e){var t=e.typed,r=e.config,n=e.on,u=(0,s.l)(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(u=(0,s.l)(e.randomSeed))})),t(o,{"":function(){return c(0,1)},number:function(e){return c(0,e)},"number, number":function(e,t){return c(e,t)},"Array | Matrix":function(e){return l(e,0,1)},"Array | Matrix, number":function(e,t){return l(e,0,t)},"Array | Matrix, number, number":function(e,t,r){return l(e,t,r)}});function l(e,t,r){var n=(0,a.A)(e.valueOf(),(function(){return c(t,r)}));return(0,i.SW)(e)?e.create(n):n}function c(e,t){return e+u()*(t-e)}}))},3113:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(2893),i=r(3393),s=r(7487),a=r(4080),o=(0,n.d5)("randomInt",["typed","config","?on"],(function(e){var t=e.typed,r=e.config,n=e.on,o=(0,s.l)(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(o=(0,s.l)(e.randomSeed))})),t("randomInt",{"":function(){return l(0,1)},number:function(e){return l(0,e)},"number, number":function(e,t){return l(e,t)},"Array | Matrix":function(e){return u(e,0,1)},"Array | Matrix, number":function(e,t){return u(e,0,t)},"Array | Matrix, number, number":function(e,t,r){return u(e,t,r)}});function u(e,t,r){var n=(0,i.A)(e.valueOf(),(function(){return l(t,r)}));return(0,a.SW)(e)?e.create(n):n}function l(e,t){return Math.floor(e+o()*(t-e))}}))},3393:(e,t,r)=>{"use strict";function n(e,t){var r=[];if((e=e.slice(0)).length>1)for(var i=0,s=e.shift();i<s;i++)r.push(n(e,t));else for(var a=0,o=e.shift();a<o;a++)r.push(t());return r}r.d(t,{A:()=>n})},7487:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(7905),i=r.n(n),s=i()();function a(e){var t,r;return t=null===(r=e)?s:i()(String(r)),function(){return t()}}},1220:(e,t,r)=>{"use strict";r.d(t,{z:()=>p});var n=r(1129),i=r(4008),s=r(2893),a=r(4365),o=r(2629),u=r(4384),l=r(8690),c=r(95),h="compare",p=(0,s.d5)(h,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],(function(e){var t=e.typed,r=e.config,s=e.equalScalar,p=e.matrix,f=e.BigNumber,m=e.Fraction,d=e.DenseMatrix,g=(0,a.O)({typed:t}),y=(0,c.p)({typed:t,equalScalar:s}),v=(0,o.R)({typed:t,DenseMatrix:d}),x=(0,l.x)({typed:t}),b=(0,u.X)({typed:t});return t(h,{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return(0,i.RI)(e,t,r.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return(0,n.R)(e,t,r.epsilon)?new f(0):new f(e.cmp(t))},"Fraction, Fraction":function(e,t){return new m(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return y(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return g(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return g(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return x(e,t,this)},"Array, Array":function(e,t){return this(p(e),p(t)).valueOf()},"Array, Matrix":function(e,t){return this(p(e),t)},"Matrix, Array":function(e,t){return this(e,p(t))},"SparseMatrix, any":function(e,t){return v(e,t,this,!1)},"DenseMatrix, any":function(e,t){return b(e,t,this,!1)},"any, SparseMatrix":function(e,t){return v(t,e,this,!0)},"any, DenseMatrix":function(e,t){return b(t,e,this,!0)},"Array, any":function(e,t){return b(p(e),t,this,!1).valueOf()},"any, Array":function(e,t){return b(p(t),e,this,!0).valueOf()}})}))},2512:(e,t,r)=>{"use strict";r.d(t,{M:()=>u});var n=r(3228),i=r.n(n),s=r(4080),a=r(2893),o="compareNatural",u=(0,a.d5)(o,["typed","compare"],(function(e){var t=e.typed,r=e.compare,n=r.signatures["boolean,boolean"];return t(o,{"any, any":function(e,t){var o,u=(0,s.kM)(e),l=(0,s.kM)(t);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==l&&"BigNumber"!==l&&"Fraction"!==l))return"0"!==(o=r(e,t)).toString()?o>0?1:-1:i()(u,l);if("Array"===u||"Matrix"===u||"Array"===l||"Matrix"===l)return 0!==(o=function e(t,r,n){return(0,s.sA)(r)&&(0,s.sA)(n)?a(t,r.toJSON().values,n.toJSON().values):(0,s.sA)(r)?e(t,r.toArray(),n):(0,s.sA)(n)?e(t,r,n.toArray()):(0,s.jH)(r)?e(t,r.toJSON().data,n):(0,s.jH)(n)?e(t,r,n.toJSON().data):Array.isArray(r)?Array.isArray(n)?a(t,r,n):e(t,r,[n]):e(t,[r],n)}(this,e,t))?o:i()(u,l);if(u!==l)return i()(u,l);if("Complex"===u)return function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}(e,t);if("Unit"===u)return e.equalBase(t)?this(e.value,t.value):a(this,e.formatUnits(),t.formatUnits());if("boolean"===u)return n(e,t);if("string"===u)return i()(e,t);if("Object"===u)return function(e,t,r){var n=Object.keys(t),s=Object.keys(r);n.sort(i()),s.sort(i());var o=a(e,n,s);if(0!==o)return o;for(var u=0;u<n.length;u++){var l=e(t[n[u]],r[s[u]]);if(0!==l)return l}return 0}(this,e,t);if("null"===u)return 0;if("undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function a(e,t,r){for(var n=0,i=Math.min(t.length,r.length);n<i;n++){var s=e(t[n],r[n]);if(0!==s)return s}return t.length>r.length?1:t.length<r.length?-1:0}}))},2898:(e,t,r)=>{"use strict";r.d(t,{f:()=>u});var n=r(5116),i=r(2893),s=r(4384),a=r(8690),o="compareText",u=(0,i.d5)(o,["typed","matrix"],(function(e){var t=e.typed,r=e.matrix,i=(0,a.x)({typed:t}),u=(0,s.X)({typed:t});return t(o,{"any, any":n.cd,"DenseMatrix, DenseMatrix":function(e,t){return i(e,t,n.cd)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"DenseMatrix, any":function(e,t){return u(e,t,n.cd,!1)},"any, DenseMatrix":function(e,t){return u(t,e,n.cd,!0)},"Array, any":function(e,t){return u(r(e),t,n.cd,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,n.cd,!0).valueOf()}})}))},8481:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n=(0,r(2893).d5)("deepEqual",["typed","equal"],(function(e){var t=e.typed,r=e.equal;return t("deepEqual",{"any, any":function(e,t){return function e(t,n){if(Array.isArray(t)){if(Array.isArray(n)){var i=t.length;if(i!==n.length)return!1;for(var s=0;s<i;s++)if(!e(t[s],n[s]))return!1;return!0}return!1}return!Array.isArray(n)&&r(t,n)}(e.valueOf(),t.valueOf())}})}))},7362:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(2893),i=r(4365),s=r(3922),a=r(2629),o=r(8690),u=r(4384),l=(0,n.d5)("equal",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,l=e.DenseMatrix,c=(0,i.O)({typed:t}),h=(0,s.r)({typed:t,DenseMatrix:l}),p=(0,a.R)({typed:t,DenseMatrix:l}),f=(0,o.x)({typed:t}),m=(0,u.X)({typed:t});return t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,n)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,n,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,n,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,n)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return p(e,t,n,!1)},"DenseMatrix, any":function(e,t){return m(e,t,n,!1)},"any, SparseMatrix":function(e,t){return p(t,e,n,!0)},"any, DenseMatrix":function(e,t){return m(t,e,n,!0)},"Array, any":function(e,t){return m(r(e),t,n,!1).valueOf()},"any, Array":function(e,t){return m(r(t),e,n,!0).valueOf()}})}));(0,n.d5)("equal",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)}})}))},1394:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var n=r(1129),i=r(4008),s=r(2893),a=(0,s.d5)("equalScalar",["typed","config"],(function(e){var t=e.typed,r=e.config;return t("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,r){return(0,i.RI)(e.re,t.re,r)&&(0,i.RI)(e.im,t.im,r)}(e,t,r.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})}));(0,s.d5)("equalScalar",["typed","config"],(function(e){var t=e.typed,r=e.config;return t("equalScalar",{"number, number":function(e,t){return(0,i.RI)(e,t,r.epsilon)}})}))},7336:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n=(0,r(2893).d5)("equalText",["typed","compareText","isZero"],(function(e){var t=e.typed,r=e.compareText,n=e.isZero;return t("equalText",{"any, any":function(e,t){return n(r(e,t))}})}))},6731:(e,t,r)=>{"use strict";r.d(t,{$:()=>p});var n=r(1129),i=r(4008),s=r(2893),a=r(4365),o=r(3922),u=r(2629),l=r(4384),c=r(8690),h="larger",p=(0,s.d5)(h,["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,r=e.config,s=e.matrix,p=e.DenseMatrix,f=(0,a.O)({typed:t}),m=(0,o.r)({typed:t,DenseMatrix:p}),d=(0,u.R)({typed:t,DenseMatrix:p}),g=(0,c.x)({typed:t}),y=(0,l.X)({typed:t});return t(h,{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return m(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return this(s(e),t)},"Matrix, Array":function(e,t){return this(e,s(t))},"SparseMatrix, any":function(e,t){return d(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(s(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(s(t),e,this,!0).valueOf()}})}))},6355:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(1129),i=r(4008),s=r(2893),a=r(4365),o=r(3922),u=r(2629),l=r(4384),c=r(8690),h="largerEq",p=(0,s.d5)(h,["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,r=e.config,s=e.matrix,p=e.DenseMatrix,f=(0,a.O)({typed:t}),m=(0,o.r)({typed:t,DenseMatrix:p}),d=(0,u.R)({typed:t,DenseMatrix:p}),g=(0,c.x)({typed:t}),y=(0,l.X)({typed:t});return t(h,{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,t){return e>=t||(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return m(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return this(s(e),t)},"Matrix, Array":function(e,t){return this(e,s(t))},"SparseMatrix, any":function(e,t){return d(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(s(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(s(t),e,this,!0).valueOf()}})}))},1504:(e,t,r)=>{"use strict";r.d(t,{r:()=>p});var n=r(1129),i=r(4008),s=r(2893),a=r(4365),o=r(3922),u=r(2629),l=r(4384),c=r(8690),h="smaller",p=(0,s.d5)(h,["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,r=e.config,s=e.matrix,p=e.DenseMatrix,f=(0,a.O)({typed:t}),m=(0,o.r)({typed:t,DenseMatrix:p}),d=(0,u.R)({typed:t,DenseMatrix:p}),g=(0,c.x)({typed:t}),y=(0,l.X)({typed:t});return t(h,{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return m(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return this(s(e),t)},"Matrix, Array":function(e,t){return this(e,s(t))},"SparseMatrix, any":function(e,t){return d(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(s(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(s(t),e,this,!0).valueOf()}})}))},2690:(e,t,r)=>{"use strict";r.d(t,{x:()=>p});var n=r(1129),i=r(4008),s=r(2893),a=r(4365),o=r(3922),u=r(2629),l=r(4384),c=r(8690),h="smallerEq",p=(0,s.d5)(h,["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,r=e.config,s=e.matrix,p=e.DenseMatrix,f=(0,a.O)({typed:t}),m=(0,o.r)({typed:t,DenseMatrix:p}),d=(0,u.R)({typed:t,DenseMatrix:p}),g=(0,c.x)({typed:t}),y=(0,l.X)({typed:t});return t(h,{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return m(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return this(s(e),t)},"Matrix, Array":function(e,t){return this(e,s(t))},"SparseMatrix, any":function(e,t){return d(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(s(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(s(t),e,this,!0).valueOf()}})}))},7049:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(2893),i=r(4365),s=r(3922),a=r(2629),o=r(4384),u=r(8690),l=(0,n.d5)("unequal",["typed","config","equalScalar","matrix","DenseMatrix"],(function(e){var t=e.typed,r=(e.config,e.equalScalar),n=e.matrix,l=e.DenseMatrix,c=(0,i.O)({typed:t}),h=(0,s.r)({typed:t,DenseMatrix:l}),p=(0,a.R)({typed:t,DenseMatrix:l}),f=(0,u.x)({typed:t}),m=(0,o.X)({typed:t});return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:d(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,d)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,d)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return p(e,t,d,!1)},"DenseMatrix, any":function(e,t){return m(e,t,d,!1)},"any, SparseMatrix":function(e,t){return p(t,e,d,!0)},"any, DenseMatrix":function(e,t){return m(t,e,d,!0)},"Array, any":function(e,t){return m(n(e),t,d,!1).valueOf()},"any, Array":function(e,t){return m(n(t),e,d,!0).valueOf()}});function d(e,t){return!r(e,t)}}));(0,n.d5)("unequal",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!r(e,t)}})}))},6215:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(8684),i=(0,r(2893).d5)("setCartesian",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,r=e.size,i=e.subset,s=e.compareNatural,a=e.Index,o=e.DenseMatrix;return t("setCartesian",{"Array | Matrix, Array | Matrix":function(e,t){var u=[];if(0!==i(r(e),new a(0))&&0!==i(r(t),new a(0))){var l=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(s),c=(0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(s);u=[];for(var h=0;h<l.length;h++)for(var p=0;p<c.length;p++)u.push([l[h],c[p]])}return Array.isArray(e)&&Array.isArray(t)?u:new o(u)}})}))},3295:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var n=r(8684),i=r(2893),s="setDifference",a=(0,i.d5)(s,["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,r=e.size,i=e.subset,a=e.compareNatural,o=e.Index,u=e.DenseMatrix;return t(s,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===i(r(e),new o(0)))s=[];else{if(0===i(r(t),new o(0)))return(0,n.xH)(e.toArray());var l,c=(0,n.yV)((0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(a)),h=(0,n.yV)((0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(a));s=[];for(var p=0;p<c.length;p++){l=!1;for(var f=0;f<h.length;f++)if(0===a(c[p].value,h[f].value)&&c[p].identifier===h[f].identifier){l=!0;break}l||s.push(c[p])}}return Array.isArray(e)&&Array.isArray(t)?(0,n.D$)(s):new u((0,n.D$)(s))}})}))},4615:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var n=r(8684),i=(0,r(2893).d5)("setDistinct",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,r=e.size,i=e.subset,s=e.compareNatural,a=e.Index,o=e.DenseMatrix;return t("setDistinct",{"Array | Matrix":function(e){var t;if(0===i(r(e),new a(0)))t=[];else{var u=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(s);(t=[]).push(u[0]);for(var l=1;l<u.length;l++)0!==s(u[l],u[l-1])&&t.push(u[l])}return Array.isArray(e)?t:new o(t)}})}))},4097:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(8684),i=(0,r(2893).d5)("setIntersect",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,r=e.size,i=e.subset,s=e.compareNatural,a=e.Index,o=e.DenseMatrix;return t("setIntersect",{"Array | Matrix, Array | Matrix":function(e,t){var u;if(0===i(r(e),new a(0))||0===i(r(t),new a(0)))u=[];else{var l=(0,n.yV)((0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(s)),c=(0,n.yV)((0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(s));u=[];for(var h=0;h<l.length;h++)for(var p=0;p<c.length;p++)if(0===s(l[h].value,c[p].value)&&l[h].identifier===c[p].identifier){u.push(l[h]);break}}return Array.isArray(e)&&Array.isArray(t)?(0,n.D$)(u):new o((0,n.D$)(u))}})}))},5535:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var n=r(8684),i=(0,r(2893).d5)("setIsSubset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.typed,r=e.size,i=e.subset,s=e.compareNatural,a=e.Index;return t("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(r(e),new a(0)))return!0;if(0===i(r(t),new a(0)))return!1;for(var o,u=(0,n.yV)((0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(s)),l=(0,n.yV)((0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(s)),c=0;c<u.length;c++){o=!1;for(var h=0;h<l.length;h++)if(0===s(u[c].value,l[h].value)&&u[c].identifier===l[h].identifier){o=!0;break}if(!1===o)return!1}return!0}})}))},1207:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(8684),i=r(2893),s="setMultiplicity",a=(0,i.d5)(s,["typed","size","subset","compareNatural","Index"],(function(e){var t=e.typed,r=e.size,i=e.subset,a=e.compareNatural,o=e.Index;return t(s,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===i(r(t),new o(0)))return 0;for(var s=(0,n.xH)(Array.isArray(t)?t:t.toArray()),u=0,l=0;l<s.length;l++)0===a(s[l],e)&&u++;return u}})}))},1271:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});var n=r(8684),i=(0,r(2893).d5)("setPowerset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.typed,r=e.size,i=e.subset,s=e.compareNatural,a=e.Index;return t("setPowerset",{"Array | Matrix":function(e){if(0===i(r(e),new a(0)))return[];for(var t=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(s),u=[],l=0;l.toString(2).length<=t.length;)u.push(o(t,l.toString(2).split("").reverse())),l++;return function(e){for(var t=[],r=e.length-1;r>0;r--)for(var n=0;n<r;n++)e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}(u)}});function o(e,t){for(var r=[],n=0;n<t.length;n++)"1"===t[n]&&r.push(e[n]);return r}}))},1727:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(8684),i=(0,r(2893).d5)("setSize",["typed","compareNatural"],(function(e){var t=e.typed,r=e.compareNatural;return t("setSize",{"Array | Matrix":function(e){return Array.isArray(e)?(0,n.xH)(e).length:(0,n.xH)(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?(0,n.xH)(e).length:(0,n.xH)(e.toArray()).length;for(var i=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(r),s=1,a=1;a<i.length;a++)0!==r(i[a],i[a-1])&&s++;return s}})}))},1045:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(8684),i=r(2893),s="setSymDifference",a=(0,i.d5)(s,["typed","size","concat","subset","setDifference","Index"],(function(e){var t=e.typed,r=e.size,i=e.concat,a=e.subset,o=e.setDifference,u=e.Index;return t(s,{"Array | Matrix, Array | Matrix":function(e,t){if(0===a(r(e),new u(0)))return(0,n.xH)(t);if(0===a(r(t),new u(0)))return(0,n.xH)(e);var s=(0,n.xH)(e),l=(0,n.xH)(t);return i(o(s,l),o(l,s))}})}))},1488:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(8684),i=(0,r(2893).d5)("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],(function(e){var t=e.typed,r=e.size,i=e.concat,s=e.subset,a=e.setIntersect,o=e.setSymDifference,u=e.Index;return t("setUnion",{"Array | Matrix, Array | Matrix":function(e,t){if(0===s(r(e),new u(0)))return(0,n.xH)(t);if(0===s(r(t),new u(0)))return(0,n.xH)(e);var l=(0,n.xH)(e),c=(0,n.xH)(t);return i(o(l,c),a(l,c))}})}))},5247:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(8664),i=r(4008),s=(0,r(2893).d5)("erf",["typed"],(function(e){return(0,e.typed)("name",{number:function(e){var t=Math.abs(e);return t>=c?(0,i.Xx)(e):t<=a?(0,i.Xx)(e)*function(e){var t,r=e*e,n=u[0][4]*r,i=r;for(t=0;t<3;t+=1)n=(n+u[0][t])*r,i=(i+l[0][t])*r;return e*(n+u[0][3])/(i+l[0][3])}(t):t<=4?(0,i.Xx)(e)*(1-function(e){var t,r=u[1][8]*e,n=e;for(t=0;t<7;t+=1)r=(r+u[1][t])*e,n=(n+l[1][t])*e;var i=(r+u[1][7])/(n+l[1][7]),s=parseInt(16*e)/16,a=(e-s)*(e+s);return Math.exp(-s*s)*Math.exp(-a)*i}(t)):(0,i.Xx)(e)*(1-function(e){var t,r=1/(e*e),n=u[2][5]*r,i=r;for(t=0;t<4;t+=1)n=(n+u[2][t])*r,i=(i+l[2][t])*r;var s=r*(n+u[2][4])/(i+l[2][4]);s=(o-s)/e;var a=(e-(r=parseInt(16*e)/16))*(e+r);return Math.exp(-r*r)*Math.exp(-a)*s}(t))},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})})),a=.46875,o=.5641895835477563,u=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],l=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],c=Math.pow(2,53)},6880:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(8684),i=r(2893),s=r(8954),a=(0,i.d5)("mad",["typed","abs","map","median","subtract"],(function(e){var t=e.typed,r=e.abs,i=e.map,a=e.median,o=e.subtract;return t("mad",{"Array | Matrix":u,"...":function(e){return u(e)}});function u(e){if(0===(e=(0,n.xH)(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=a(e);return a(i(e,(function(e){return r(o(e,t))})))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf("median")?new TypeError(e.message.replace("median","mad")):(0,s.x)(e,"mad")}}}))},107:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(8664),i=r(2893),s=r(8954),a=(0,i.d5)("max",["typed","config","numeric","larger"],(function(e){var t=e.typed,r=e.config,i=e.numeric,a=e.larger;return t("max",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return(0,n.u4)(e,t.valueOf(),o)},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function max");return u(e)}});function o(e,t){try{return a(e,t)?e:t}catch(e){throw(0,s.x)(e,"max",t)}}function u(e){var t;if((0,n.Et)(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(t){throw(0,s.x)(t,"max",e)}})),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"==typeof t&&(t=i(t,r.number)),t}}))},8446:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o});var n=r(8664),i=r(8684),s=r(2893),a=r(8954),o=(0,s.d5)("mean",["typed","add","divide"],(function(e){var t=e.typed,r=e.add,s=e.divide;return t("mean",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){try{var o=(0,n.u4)(e,t,r),u=Array.isArray(e)?(0,i.aJ)(e):e.size();return s(o,u[t])}catch(e){throw(0,a.x)(e,"mean")}},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function mean");return o(e)}});function o(e){var t,i=0;if((0,n.Et)(e,(function(e){try{t=void 0===t?e:r(t,e),i++}catch(t){throw(0,a.x)(t,"mean",e)}})),0===i)throw new Error("Cannot calculate the mean of an empty array");return s(t,i)}}))},3385:(e,t,r)=>{"use strict";r.d(t,{O:()=>o});var n=r(8664),i=r(8684),s=r(2893),a=r(8954),o=(0,s.d5)("median",["typed","add","divide","compare","partitionSelect"],(function(e){var t=e.typed,r=e.add,s=e.divide,o=e.compare,u=e.partitionSelect;function l(e){try{var t=(e=(0,i.xH)(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=u(e,r+1),s=e[r],l=0;l<r;++l)o(e[l],s)>0&&(s=e[l]);return h(s,n)}var p=u(e,(t-1)/2);return c(p)}catch(e){throw(0,a.x)(e,"median")}}var c=t({"number | BigNumber | Complex | Unit":function(e){return e}}),h=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return s(r(e,t),2)}});return t("median",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function median");return l(e)}})}))},5481:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(8664),i=r(2893),s=r(8954),a=(0,i.d5)("min",["typed","config","numeric","smaller"],(function(e){var t=e.typed,r=e.config,i=e.numeric,a=e.smaller;return t("min",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return(0,n.u4)(e,t.valueOf(),o)},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function min");return u(e)}});function o(e,t){try{return a(e,t)?e:t}catch(e){throw(0,s.x)(e,"min",t)}}function u(e){var t;if((0,n.Et)(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(t){throw(0,s.x)(t,"min",e)}})),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"==typeof t&&(t=i(t,r.number)),t}}))},7137:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(8684),i=(0,r(2893).d5)("mode",["typed","isNaN","isNumeric"],(function(e){var t=e.typed,r=e.isNaN,i=e.isNumeric;return t("mode",{"Array | Matrix":s,"...":function(e){return s(e)}});function s(e){if(0===(e=(0,n.xH)(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},s=[],a=0,o=0;o<e.length;o++){var u=e[o];if(i(u)&&r(u))throw new Error("Cannot calculate mode of an array containing NaN values");u in t||(t[u]=0),t[u]++,t[u]===a?s.push(u):t[u]>a&&(a=t[u],s=[u])}return s}}))},153:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(8664),i=r(2893),s=r(8954),a=(0,i.d5)("prod",["typed","config","multiplyScalar","numeric"],(function(e){var t=e.typed,r=e.config,i=e.multiplyScalar,a=e.numeric;return t("prod",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return o(e)}});function o(e){var t;if((0,n.Et)(e,(function(e){try{t=void 0===t?e:i(t,e)}catch(t){throw(0,s.x)(t,"prod",e)}})),"string"==typeof t&&(t=a(t,r.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}))},9265:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(4080),i=r(4008),s=r(8684),a=(0,r(2893).d5)("quantileSeq",["typed","add","multiply","partitionSelect","compare"],(function(e){var t=e.typed,r=e.add,a=e.multiply,o=e.partitionSelect,u=e.compare;function l(e,t,i){var l=(0,s.xH)(e),h=l.length;if(0===h)throw new Error("Cannot calculate quantile of an empty sequence");if((0,n.hj)(t)){var p=t*(h-1),f=p%1;if(0===f){var m=i?l[p]:o(l,p);return c(m),m}var d,g,y=Math.floor(p);if(i)d=l[y],g=l[y+1];else{g=o(l,y+1),d=l[y];for(var v=0;v<y;++v)u(l[v],d)>0&&(d=l[v])}return c(d),c(g),r(a(d,1-f),a(g,f))}var x=t.times(h-1);if(x.isInteger()){x=x.toNumber();var b=i?l[x]:o(l,x);return c(b),b}var w,S,E=x.floor(),A=x.minus(E),T=E.toNumber();if(i)w=l[T],S=l[T+1];else{S=o(l,T+1),w=l[T];for(var M=0;M<T;++M)u(l[M],w)>0&&(w=l[M])}c(w),c(S);var _=new A.constructor(1);return r(a(w,_.minus(A)),a(S,A))}var c=t({"number | BigNumber | Unit":function(e){return e}});return function(e,t,r){var s,a,o;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if((0,n.uZ)(e)){if("boolean"==typeof(r=r||!1)){if(a=e.valueOf(),(0,n.hj)(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return l(a,t,r);if(t>1){if(!(0,i.U)(t))throw new Error("N must be a positive integer");var u=t+1;s=new Array(t);for(var c=0;c<t;)s[c]=l(a,++c/u,r);return s}}if((0,n.l9)(t)){var h=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(o=new h(1),t.lte(o))return new h(l(a,t,r));if(t.gt(o)){if(!t.isInteger())throw new Error("N must be a positive integer");var p=t.toNumber();if(p>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var f=new h(p+1);s=new Array(p);for(var m=0;m<p;)s[m]=new h(l(a,new h(++m).div(f),r));return s}}if(Array.isArray(t)){s=new Array(t.length);for(var d=0;d<s.length;++d){var g=t[d];if((0,n.hj)(g)){if(g<0||g>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!(0,n.l9)(g))throw new TypeError("Unexpected type of argument in function quantileSeq");if(o=new g.constructor(1),g.isNegative()||g.gt(o))throw new Error("Probability must be between 0 and 1, inclusive")}s[d]=l(a,g,r)}return s}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}))},5529:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n=(0,r(2893).d5)("std",["typed","sqrt","variance"],(function(e){var t=e.typed,r=e.sqrt,n=e.variance;return t("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(e){return i(e)}});function i(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return r(n.apply(null,arguments))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf(" variance")?new TypeError(e.message.replace(" variance"," std")):e}}}))},2595:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(8664),i=r(2893),s=r(8954),a=(0,i.d5)("sum",["typed","config","add","numeric"],(function(e){var t=e.typed,r=e.config,i=e.add,a=e.numeric;return t("sum",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){try{return(0,n.u4)(e,t,i)}catch(e){throw(0,s.x)(e,"sum")}},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function sum");return o(e)}});function o(e){var t;return(0,n.Et)(e,(function(e){try{t=void 0===t?e:i(t,e)}catch(t){throw(0,s.x)(t,"sum",e)}})),void 0===t&&(t=a(0,r.number)),"string"==typeof t&&(t=a(t,r.number)),t}}))},8954:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(4080);function i(e,t,r){var i;return-1!==String(e).indexOf("Unexpected type")?(i=arguments.length>2?" (type: "+(0,n.kM)(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+i)):-1!==String(e).indexOf("complex numbers")?(i=arguments.length>2?" (type: "+(0,n.kM)(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+i)):e}},1786:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var n=r(8664),i=r(4080),s=r(2893),a=r(8954),o=(0,s.d5)("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,r=e.add,s=e.subtract,o=e.multiply,u=e.divide,l=e.apply,c=e.isNaN;return t("variance",{"Array | Matrix":function(e){return h(e,"unbiased")},"Array | Matrix, string":h,"Array | Matrix, number | BigNumber":function(e,t){return p(e,t,"unbiased")},"Array | Matrix, number | BigNumber, string":p,"...":function(e){return h(e,"unbiased")}});function h(e,t){var l=0,h=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if((0,n.Et)(e,(function(e){try{l=r(l,e),h++}catch(t){throw(0,a.x)(t,"variance",e)}})),0===h)throw new Error("Cannot calculate variance of an empty array");var p=u(l,h);if(l=0,(0,n.Et)(e,(function(e){var t=s(e,p);l=r(l,o(t,t))})),c(l))return l;switch(t){case"uncorrected":return u(l,h);case"biased":return u(l,h+1);case"unbiased":var f=(0,i.l9)(l)?l.mul(0):0;return 1===h?f:u(l,h-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function p(e,t,r){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return l(e,t,(function(e){return h(e,r)}))}catch(e){throw(0,a.x)(e,"variance")}}}))},4752:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(5116),i=(0,r(2893).d5)("format",["typed"],(function(e){return(0,e.typed)("format",{any:n.WU,"any, Object | function | number":n.WU})}))},4958:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(5116),i=r(4080),s=(0,r(2893).d5)("print",["typed"],(function(e){return(0,e.typed)("print",{"string, Object | Array":a,"string, Object | Array, number | Object":a})}));function a(e,t,r){return e.replace(/\$([\w.]+)/g,(function(e,s){for(var a=s.split("."),o=t[a.shift()];a.length&&void 0!==o;){var u=a.shift();o=u?o[u]:o+"."}return void 0!==o?(0,i.HD)(o)?o:(0,n.WU)(o,r):e}))}},3402:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("acos",["typed","config","Complex"],(function(e){var t=e.typed,r=e.config,n=e.Complex;return t("acos",{number:function(e){return e>=-1&&e<=1||r.predictable?Math.acos(e):new n(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},6488:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("acosh",["typed","config","Complex"],(function(e){var t=e.typed,r=e.config,n=e.Complex;return t("acosh",{number:function(e){return e>=1||r.predictable?(0,s.cw)(e):e<=-1?new n(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new n(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},3093:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("acot",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("acot",{number:s.y,Complex:function(e){return e.acot()},BigNumber:function(e){return new r(1).div(e).atan()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},7255:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("acoth",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t("acoth",{number:function(e){return e>=1||e<=-1||r.predictable?(0,s.LJ)(e):new n(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new a(1).div(e).atanh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},6837:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("acsc",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t("acsc",{number:function(e){return e<=-1||e>=1||r.predictable?(0,s.VL)(e):new n(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new a(1).div(e).asin()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},1269:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("acsch",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("acsch",{number:s.F4,Complex:function(e){return e.acsch()},BigNumber:function(e){return new r(1).div(e).asinh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},3329:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("asec",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t("asec",{number:function(e){return e<=-1||e>=1||r.predictable?(0,s.zq)(e):new n(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new a(1).div(e).acos()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},3568:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("asech",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t("asech",{number:function(e){if(e<=1&&e>=-1||r.predictable){var t=1/e;if(t>0||r.predictable)return(0,s.Pe)(e);var i=Math.sqrt(t*t-1);return new n(Math.log(i-t),Math.PI)}return new n(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new a(1).div(e).acosh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},3072:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("asin",["typed","config","Complex"],(function(e){var t=e.typed,r=e.config,n=e.Complex;return t("asin",{number:function(e){return e>=-1&&e<=1||r.predictable?Math.asin(e):new n(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},8046:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("asinh",["typed"],(function(e){return(0,e.typed)("asinh",{number:s.Rm,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},7879:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("atan",["typed"],(function(e){return(0,e.typed)("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},6188:(e,t,r)=>{"use strict";r.d(t,{U:()=>h});var n=r(2893),i=r(5612),s=r(4365),a=r(1628),o=r(7598),u=r(2629),l=r(8690),c=r(4384),h=(0,n.d5)("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,h=e.BigNumber,p=e.DenseMatrix,f=(0,i.h)({typed:t,equalScalar:n}),m=(0,s.O)({typed:t}),d=(0,a.e)({typed:t,equalScalar:n}),g=(0,o.n)({typed:t,equalScalar:n}),y=(0,u.R)({typed:t,DenseMatrix:p}),v=(0,l.x)({typed:t}),x=(0,c.X)({typed:t});return t("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return h.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return m(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return v(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return g(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return x(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return y(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return x(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return x(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return x(r(t),e,this,!0).valueOf()}})}))},9905:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("atanh",["typed","config","Complex"],(function(e){var t=e.typed,r=e.config,n=e.Complex;return t("atanh",{number:function(e){return e<=1&&e>=-1||r.predictable?(0,s.Sz)(e):new n(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},6970:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("cos",["typed"],(function(e){return(0,e.typed)("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},2575:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(2893),i=r(8664),s=r(4008),a=(0,n.d5)("cosh",["typed"],(function(e){return(0,e.typed)("cosh",{number:s.f9,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},9243:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("cot",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("cot",{number:s.Nw,Complex:function(e){return e.cot()},BigNumber:function(e){return new r(1).div(e.tan())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},124:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("coth",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("coth",{number:s.ws,Complex:function(e){return e.coth()},BigNumber:function(e){return new r(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},3691:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("csc",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("csc",{number:s.c$,Complex:function(e){return e.csc()},BigNumber:function(e){return new r(1).div(e.sin())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},5926:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("csch",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("csch",{number:s.zr,Complex:function(e){return e.csch()},BigNumber:function(e){return new r(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},2241:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("sec",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("sec",{number:s.wX,Complex:function(e){return e.sec()},BigNumber:function(e){return new r(1).div(e.cos())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},3727:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("sech",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("sech",{number:s.pL,Complex:function(e){return e.sech()},BigNumber:function(e){return new r(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},9852:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("sin",["typed"],(function(e){return(0,e.typed)("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},6693:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(2893),i=r(8664),s=r(333),a=(0,n.d5)("sinh",["typed"],(function(e){return(0,e.typed)("sinh",{number:s.T$,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},7674:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("tan",["typed"],(function(e){return(0,e.typed)("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},1241:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(2893),i=r(8664),s=r(4008),a=(0,n.d5)("tanh",["typed"],(function(e){return(0,e.typed)("tanh",{number:s.AE,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},5408:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(2893),i=r(8690),s=r(4384),a=(0,n.d5)("to",["typed","matrix"],(function(e){var t=e.typed,r=e.matrix,n=(0,i.x)({typed:t}),a=(0,s.X)({typed:t});return t("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return n(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"Matrix, any":function(e,t){return a(e,t,this,!1)},"any, Matrix":function(e,t){return a(t,e,this,!0)},"Array, any":function(e,t){return a(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return a(r(t),e,this,!0).valueOf()}})}))},5541:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r(6713),i=(0,r(2893).d5)("clone",["typed"],(function(e){return(0,e.typed)("clone",{any:n.d9})}))},6106:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(2893),i="hasNumericValue",s=(0,n.d5)(i,["typed","isNumeric"],(function(e){var t=e.typed,r=e.isNumeric;return t(i,{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return r(e)}})}))},6314:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(8664),i=r(4008),s=(0,r(2893).d5)("isInteger",["typed"],(function(e){return(0,e.typed)("isInteger",{number:i.U,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},3486:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n=r(8664),i=r(2893),s=r(6493),a=(0,i.d5)("isNaN",["typed"],(function(e){return(0,e.typed)("isNaN",{number:s.kU,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,Number.isNaN)}})}))},9412:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(8664),i=r(2893),s=r(6493),a=(0,i.d5)("isNegative",["typed"],(function(e){return(0,e.typed)("isNegative",{number:s.Tk,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},2700:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(8664),i=(0,r(2893).d5)("isNumeric",["typed"],(function(e){return(0,e.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},1736:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(8664),i=r(2893),s=r(6493),a=(0,i.d5)("isPositive",["typed"],(function(e){return(0,e.typed)("isPositive",{number:s.r,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},7486:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(8664),i=(0,r(2893).d5)("isPrime",["typed"],(function(e){return(0,e.typed)("isPrime",{number:function(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t==0||e%(t+2)==0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;for(var t=5;e.gte(t*t);t+=6)if(e.mod(t).eq(0)||e.mod(t+2).eq(0))return!1;return!0},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},7091:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(8664),i=r(2893),s=r(6493),a=(0,i.d5)("isZero",["typed"],(function(e){return(0,e.typed)("isZero",{number:s.hG,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},4043:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(4080),i=r(2893),s=r(826),a=(0,i.d5)("numeric",["number","?bignumber","?fraction"],(function(e){var t=e.number,r=e.bignumber,i=e.fraction,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(e){return t(e)},BigNumber:r?function(e){return r(e)}:s.R3,Fraction:i?function(e){return i(e)}:s.nG};return function(e,t){var r=(0,n.kM)(e);if(!(r in a))throw new TypeError("Cannot convert "+e+' of type "'+r+'"; valid input types are '+Object.keys(a).join(", "));if(!(t in o))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(o).join(", "));return t===r?e:o[t](e)}}))},5013:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(2893),i=r(4080),s=(0,n.d5)("typeOf",["typed"],(function(e){return(0,e.typed)("typeOf",{any:i.kM})}))},6080:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var n=(0,r(2893).d5)("replacer",[],(function(){return function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}}))},5403:(e,t,r)=>{"use strict";r.d(t,{Q1:()=>a,Ft:()=>o,G6:()=>u,GC:()=>l,iU:()=>c,ih:()=>h,xx:()=>p,Dv:()=>f,qX:()=>m,B:()=>d,Vk:()=>g,K4:()=>y,OS:()=>v,vU:()=>x,iO:()=>b,nz:()=>w,YS:()=>S,$y:()=>E,_$:()=>A,y9:()=>T,Ue:()=>M,QV:()=>_});var n=r(4008),i="number",s="number, number";function a(e){return Math.abs(e)}function o(e,t){return e+t}function u(e,t){return e*t}function l(e){return-e}function c(e){return e}function h(e){return(0,n.eK)(e)}function p(e){return Math.ceil(e)}function f(e){return e*e*e}function m(e){return Math.exp(e)}function d(e){return(0,n.t$)(e)}function g(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==t;)r=e%t,e=t,t=r;return e<0?-e:e}function y(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,i=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(i/e)}function v(e){return Math.log(e)}function x(e){return(0,n.mv)(e)}function b(e){return(0,n.k3)(e)}function w(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function S(e,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}function E(e){return(0,n.Xx)(e)}function A(e){return e*e}function T(e,t){var r,i,s,a=0,o=1,u=1,l=0;if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)s=e-(i=Math.floor(e/t))*t,r=a,a=o-i*a,o=r,r=u,u=l-i*u,l=r,e=t,t=s;return e<0?[-e,-o,-l]:[e,e?o:0,l]}function M(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat((0,n.FH)(e,t))}a.signature=i,o.signature=s,u.signature=s,l.signature=i,c.signature=i,h.signature=i,p.signature=i,f.signature=i,m.signature=i,d.signature=i,g.signature=s,y.signature=s,v.signature=i,x.signature=i,b.signature=i,w.signature=s,S.signature=s,E.signature=i,A.signature=i,T.signature=s,M.signature=s,_.signature=s},8489:(e,t,r)=>{"use strict";r.d(t,{qC:()=>s,NA:()=>a,LE:()=>o,xS:()=>u,ZG:()=>l,Lz:()=>c,ji:()=>h});var n=r(4008),i="number, number";function s(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function bitAnd");return e&t}function a(e){if(!(0,n.U)(e))throw new Error("Integer expected in function bitNot");return~e}function o(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function bitOr");return e|t}function u(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function bitXor");return e^t}function l(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function leftShift");return e<<t}function c(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function h(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}s.signature=i,a.signature="number",o.signature=i,u.signature=i,l.signature=i,c.signature=i,h.signature=i},234:(e,t,r)=>{"use strict";r.d(t,{xY:()=>i,RY:()=>s,kl:()=>a,FO:()=>o});var n="number, number";function i(e){return!e}function s(e,t){return!(!e&&!t)}function a(e,t){return!!e!=!!t}function o(e,t){return!(!e||!t)}i.signature="number",s.signature=n,a.signature=n,o.signature=n},333:(e,t,r)=>{"use strict";r.d(t,{cw:()=>s,y:()=>a,LJ:()=>o,VL:()=>u,F4:()=>l,zq:()=>c,Pe:()=>h,Rm:()=>p,Sz:()=>f,Nw:()=>m,ws:()=>d,c$:()=>g,zr:()=>y,wX:()=>v,pL:()=>x,T$:()=>b});var n=r(4008),i="number";function s(e){return(0,n.__)(e)}function a(e){return Math.atan(1/e)}function o(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function u(e){return Math.asin(1/e)}function l(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function c(e){return Math.acos(1/e)}function h(e){var t=1/e,r=Math.sqrt(t*t-1);return Math.log(r+t)}function p(e){return(0,n.Vf)(e)}function f(e){return(0,n.C8)(e)}function m(e){return 1/Math.tan(e)}function d(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function g(e){return 1/Math.sin(e)}function y(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*(0,n.Xx)(e)}function v(e){return 1/Math.cos(e)}function x(e){return 2/(Math.exp(e)+Math.exp(-e))}function b(e){return(0,n.R_)(e)}s.signature=i,a.signature=i,o.signature=i,u.signature=i,l.signature=i,c.signature=i,h.signature=i,p.signature=i,f.signature=i,m.signature=i,d.signature=i,g.signature=i,y.signature=i,v.signature=i,x.signature=i,b.signature=i},6493:(e,t,r)=>{"use strict";r.d(t,{Tk:()=>i,r:()=>s,hG:()=>a,kU:()=>o}),r(4008);var n="number";function i(e){return e<0}function s(e){return e>0}function a(e){return 0===e}function o(e){return Number.isNaN(e)}i.signature=n,s.signature=n,a.signature=n,o.signature=n},9421:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(3776),i=r.n(n),s=(0,r(2893).d5)("BigNumber",["?on","config"],(function(e){var t=e.on,r=e.config,n=i().clone({precision:r.precision});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(e){return new n(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&n.config({precision:e.precision})})),n}),{isClass:!0})},2359:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("bignumber",["typed","BigNumber"],(function(e){var t=e.typed,r=e.BigNumber;return t("bignumber",{"":function(){return new r(0)},number:function(e){return new r(e+"")},string:function(e){return new r(e)},BigNumber:function(e){return e},Fraction:function(e){return new r(e.n).div(e.d).times(e.s)},null:function(e){return new r(0)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},4943:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("boolean",["typed"],(function(e){return(0,e.typed)("boolean",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var r=Number(e);if(""!==e&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},1070:(e,t,r)=>{"use strict";r.d(t,{w:()=>u});var n=r(1977),i=r.n(n),s=r(4008),a=r(4080);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=(0,r(2893).d5)("Complex",[],(function(){return i().prototype.type="Complex",i().prototype.isComplex=!0,i().prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i().prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i().prototype.format=function(e){var t=this.im,r=this.re,n=(0,s.WU)(this.re,e),i=(0,s.WU)(this.im,e),o=(0,a.hj)(e)?e:e?e.precision:null;if(null!==o){var u=Math.pow(10,-o);Math.abs(r/t)<u&&(r=0),Math.abs(t/r)<u&&(t=0)}return 0===t?n:0===r?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?n+" - i":n+" - "+i.substring(1)+"i":1===t?n+" + i":n+" + "+i+"i"},i().fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===o(t))return i()(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if((0,a.hj)(r)){if((0,a.wr)(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),(0,a.hj)(n))return new(i())({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i().prototype.valueOf=i().prototype.toString,i().fromJSON=function(e){return new(i())(e)},i().compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},i()}),{isClass:!0})},7271:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("complex",["typed","Complex"],(function(e){var t=e.typed,r=e.Complex;return t("complex",{"":function(){return r.ZERO},number:function(e){return new r(e,0)},"number, number":function(e,t){return new r(e,t)},"BigNumber, BigNumber":function(e,t){return new r(e.toNumber(),t.toNumber())},Fraction:function(e){return new r(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return r(e)},null:function(e){return r(0)},Object:function(e){if("re"in e&&"im"in e)return new r(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new r(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},4497:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(5628),i=r.n(n),s=(0,r(2893).d5)("Fraction",[],(function(){return i().prototype.type="Fraction",i().prototype.isFraction=!0,i().prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i().fromJSON=function(e){return new(i())(e)},i()}),{isClass:!0})},2308:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("fraction",["typed","Fraction"],(function(e){var t=e.typed,r=e.Fraction;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new r(e)},string:function(e){return new r(e)},"number, number":function(e,t){return new r(e,t)},null:function(e){return new r(0)},BigNumber:function(e){return new r(e.toString())},Fraction:function(e){return e},Object:function(e){return new r(e)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},1718:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(4080),i=r(8684),s=r(5116),a=r(4008),o=r(6713),u=r(620),l=(0,r(2893).d5)("DenseMatrix",["Matrix"],(function(e){var t=e.Matrix;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!(0,n.HD)(t))throw new Error("Invalid datatype: "+t);if((0,n.SW)(e))"DenseMatrix"===e.type?(this._data=(0,o.d9)(e._data),this._size=(0,o.d9)(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&(0,n.kJ)(e.data)&&(0,n.kJ)(e.size))this._data=e.data,this._size=e.size,(0,i.Gu)(this._data,this._size),this._datatype=t||e.datatype;else if((0,n.kJ)(e))this._data=function e(t){for(var r=0,i=t.length;r<i;r++){var s=t[r];(0,n.kJ)(s)?t[r]=e(s):s&&!0===s.isMatrix&&(t[r]=e(s.valueOf()))}return t}(e),this._size=(0,i.aJ)(this._data),(0,i.Gu)(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+(0,n.kM)(e)+")");this._data=[],this._size=[0],this._datatype=t}}function l(e,t){if(!(0,n.dh)(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var s=t.size();if(s.length!==e._size.length)throw new u.m(s.length,e._size.length);for(var a=t.min(),o=t.max(),l=0,c=e._size.length;l<c;l++)(0,i.Ls)(a[l],e._size[l]),(0,i.Ls)(o[l],e._size[l]);return new r(function e(t,r,n,s){var a=s===n-1,o=r.dimension(s);return a?o.map((function(e){return(0,i.Ls)(e,t.length),t[e]})).valueOf():o.map((function(a){(0,i.Ls)(a,t.length);var o=t[a];return e(o,r,n,s+1)})).valueOf()}(e._data,t,s.length,0),e._datatype)}function c(e,t,r,s){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,l=t.size(),c=t.isScalar();if((0,n.SW)(r)?(a=r.size(),r=r.valueOf()):a=(0,i.aJ)(r),c){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),r,s)}else{if(l.length<e._size.length)throw new u.m(l.length,e._size.length,"<");if(a.length<l.length){for(var h=0,f=0;1===l[h]&&1===a[h];)h++;for(;1===l[h];)f++,h++;r=(0,i.f4)(r,l.length,f,a)}if(!(0,o.J5)(l,a))throw new u.m(l,a,">");p(e,t.max().map((function(e){return e+1})),s);var m=l.length;!function e(t,r,n,s,a){var o=a===s-1,u=r.dimension(a);o?u.forEach((function(e,r){(0,i.Ls)(e),t[e]=n[r[0]]})):u.forEach((function(o,u){(0,i.Ls)(o),e(t[o],r,n[u[0]],s,a+1)}))}(e._data,t,r,m,0)}return e}function h(e,t,r){if(0===t.length){for(var s=e._data;(0,n.kJ)(s);)s=s[0];return s}return e._size=t.slice(0),e._data=(0,i.SI)(e._data,e._size,r),e}function p(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var s=0,a=t.length;s<a;s++)t[s]>n[s]&&(n[s]=t[s],i=!0);i&&h(e,n,r)}return r.prototype=new t,r.prototype.createDenseMatrix=function(e,t){return new r(e,t)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return(0,i.$q)(this._data,n.kM)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return l(this,e);case 2:case 3:return c(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new u.m(e.length,this._size.length);for(var t=0;t<e.length;t++)(0,i.Ls)(e[t],this._size[t]);for(var r=this._data,s=0,a=e.length;s<a;s++){var o=e[s];(0,i.Ls)(o,r.length),r=r[o]}return r},r.prototype.set=function(e,t,r){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new u.m(e.length,this._size.length,"<");var s,a,o;p(this,e.map((function(e){return e+1})),r);var l=this._data;for(s=0,a=e.length-1;s<a;s++)o=e[s],(0,i.Ls)(o,l.length),l=l[o];return o=e[e.length-1],(0,i.Ls)(o,l.length),l[o]=t,this},r.prototype.resize=function(e,t,r){if(!(0,n.uZ)(e))throw new TypeError("Array or Matrix expected");var i=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));return h(r?this.clone():this,i,t)},r.prototype.reshape=function(e,t){var r=t?this.clone():this;return r._data=(0,i.XL)(r._data,e),r._size=e.slice(0),r},r.prototype.clone=function(){return new r({data:(0,o.d9)(this._data),size:(0,o.d9)(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(e){var t=this,s=function r(i,s){return(0,n.kJ)(i)?i.map((function(e,t){return r(e,s.concat(t))})):e(i,s,t)}(this._data,[]);return new r(s,void 0!==this._datatype?(0,i.$q)(s,n.kM):void 0)},r.prototype.forEach=function(e){var t=this;!function r(i,s){(0,n.kJ)(i)?i.forEach((function(e,t){r(e,s.concat(t))})):e(i,s,t)}(this._data,[])},r.prototype.toArray=function(){return(0,o.d9)(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return(0,s.WU)(this._data,e)},r.prototype.toString=function(){return(0,s.WU)(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,a.U)(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,i=e<0?-e:0,s=this._size[0],o=this._size[1],u=Math.min(s-i,o-t),l=[],c=0;c<u;c++)l[c]=this._data[c+i][c+t];return new r({data:l,size:[u],datatype:this._datatype})},r.diagonal=function(e,t,s,o){if(!(0,n.kJ)(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,a.U)(e)||e<1)throw new Error("Size values must be positive integers");return e})),s){if((0,n.l9)(s)&&(s=s.toNumber()),!(0,n.hj)(s)||!(0,a.U)(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u,l=s>0?s:0,c=s<0?-s:0,h=e[0],p=e[1],f=Math.min(h-c,p-l);if((0,n.kJ)(t)){if(t.length!==f)throw new Error("Invalid value array length");u=function(e){return t[e]}}else if((0,n.SW)(t)){var m=t.size();if(1!==m.length||m[0]!==f)throw new Error("Invalid matrix length");u=function(e){return t.get([e])}}else u=function(){return t};o||(o=(0,n.l9)(u(0))?u(0).mul(0):0);var d=[];if(e.length>0){d=(0,i.SI)(d,e,o);for(var g=0;g<f;g++)d[g+c][g+l]=u(g)}return new r({data:d,size:[h,p]})},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(e,t){if(!((0,n.hj)(e)&&(0,a.U)(e)&&(0,n.hj)(t)&&(0,a.U)(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,i.Ls)(e,this._size[0]),(0,i.Ls)(t,this._size[0]),r._swapRows(e,t,this._data),this},r._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},r}),{isClass:!0})},7544:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n=(0,r(2893).d5)("FibonacciHeap",["smaller","larger"],(function(e){var t=e.smaller,r=e.larger,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function s(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,r){var n={key:e,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,t(e,i.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,s=e.degree,o=e.child;s>0;){var u=o.right;o.left.right=o.right,o.right.left=o.left,o.left=i,o.right=i.right,i.right=o,o.right.left=o,o.parent=null,o=u,s--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var s,o=Math.floor(Math.log(i)*n)+1,u=new Array(o),l=0,c=e;if(c)for(l++,c=c.right;c!==e;)l++,c=c.right;for(;l>0;){for(var h=c.degree,p=c.right;s=u[h];){if(r(c.key,s.key)){var f=s;s=c,c=f}a(s,c),u[h]=null,h++}u[h]=c,c=p,l--}e=null;for(var m=0;m<o;m++)(s=u[m])&&(e?(s.left.right=s.right,s.right.left=s.left,s.left=e,s.right=e.right,e.right=s,s.right.left=s,t(s.key,e.key)&&(e=s)):e=s);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,r,n){r.key=-1;var i=r.parent;return i&&t(r.key,i.key)&&(s(e,r,i),function e(t,r){var n=r.parent;n&&(r.mark?(s(t,r,n),e(n)):r.mark=!0)}(e,i)),t(r.key,e.key)&&(e=r),e}(this._minimum,e),this.extractMinimum()};var a=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i}),{isClass:!0})},5899:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(4080),i=r(6713),s=(0,r(2893).d5)("ImmutableDenseMatrix",["smaller","DenseMatrix"],(function(e){var t=e.smaller,r=e.DenseMatrix;function s(e,t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!(0,n.HD)(t))throw new Error("Invalid datatype: "+t);if((0,n.SW)(e)||(0,n.kJ)(e)){var i=new r(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&(0,n.kJ)(e.data)&&(0,n.kJ)(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+(0,n.kM)(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return s.prototype=new r,s.prototype.type="ImmutableDenseMatrix",s.prototype.isImmutableDenseMatrix=!0,s.prototype.subset=function(e){switch(arguments.length){case 1:var t=r.prototype.subset.call(this,e);return(0,n.SW)(t)?new s({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},s.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},s.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},s.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},s.prototype.clone=function(){return new s({data:(0,i.d9)(this._data),size:(0,i.d9)(this._size),datatype:this._datatype})},s.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},s.fromJSON=function(e){return new s(e)},s.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},s.prototype.min=function(){if(null===this._min){var e=null;this.forEach((function(r){(null===e||t(r,e))&&(e=r)})),this._min=null!==e?e:void 0}return this._min},s.prototype.max=function(){if(null===this._max){var e=null;this.forEach((function(r){(null===e||t(e,r))&&(e=r)})),this._max=null!==e?e:void 0}return this._max},s}),{isClass:!0})},9504:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n=(0,r(2893).d5)("Matrix",[],(function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0})},3243:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(4080),i=r(6713),s=r(4008),a=(0,r(2893).d5)("Index",["ImmutableDenseMatrix"],(function(e){var t=e.ImmutableDenseMatrix;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var s=arguments[t];if((0,n.bR)(s))this._dimensions.push(s),this._isScalar=!1;else if(Array.isArray(s)||(0,n.SW)(s)){var o=a(s.valueOf());this._dimensions.push(o);var u=o.size();1===u.length&&1===u[0]||(this._isScalar=!1)}else if("number"==typeof s)this._dimensions.push(a([s]));else{if("string"!=typeof s)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(s)}}}function a(e){for(var r=0,n=e.length;r<n;r++)if("number"!=typeof e[r]||!(0,s.U)(e[r]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var e=new r;return e._dimensions=(0,i.d9)(this._dimensions),e._isScalar=this._isScalar,e},r.create=function(e){var t=new r;return r.apply(t,e),t},r.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},r.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},r.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},r.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},r.prototype.dimension=function(e){return this._dimensions[e]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(e){return r.create(e.dimensions)},r}),{isClass:!0})},4706:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(4080),i=r(4008),s=(0,r(2893).d5)("Range",[],(function(){function e(t,r,i){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var s=null!=t,a=null!=r,o=null!=i;if(s)if((0,n.l9)(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(a)if((0,n.l9)(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(o)if((0,n.l9)(i))i=i.toNumber();else if("number"!=typeof i)throw new TypeError("Parameter step must be a number");this.start=s?parseFloat(t):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(i):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var r=t.split(":").map((function(e){return parseFloat(e)}));if(r.some((function(e){return isNaN(e)})))return null;switch(r.length){case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[2],r[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end-t;return(0,i.Xx)(r)===(0,i.Xx)(n)?e=Math.ceil(n/r):0===n&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;t<n;)e(t,[i],this),t+=r,i++;else if(r<0)for(;t>n;)e(t,[i],this),t+=r,i++},e.prototype.map=function(e){var t=[];return this.forEach((function(r,n,i){t[n[0]]=e(r,n,i)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,r){e[r[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=(0,i.WU)(this.start,e);return 1!==this.step&&(t+=":"+(0,i.WU)(this.step,e)),t+":"+(0,i.WU)(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0})},4863:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var n=(0,r(2893).d5)("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(e){var t=e.addScalar,r=e.equalScalar,n=e.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,r){var n=this._values[e];n?n.value=t(n.value,r):(n=this._heap.insert(e,r),this._values[e]=n)},i.prototype.forEach=function(e,t,n){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=t;)o.key>=e&&(r(o.value,0)||n(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var l=a[u];s[(o=i.insert(l.key,l.value)).key]=o}},i.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},i}),{isClass:!0})},8154:(e,t,r)=>{"use strict";r.d(t,{C:()=>c});var n=r(4080),i=r(4008),s=r(5116),a=r(6713),o=r(8684),u=r(2893),l=r(620),c=(0,u.d5)("SparseMatrix",["typed","equalScalar","Matrix"],(function(e){var t=e.typed,r=e.equalScalar,u=e.Matrix;function c(e,t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!(0,n.HD)(t))throw new Error("Invalid datatype: "+t);if((0,n.SW)(e))!function(e,t,r){"SparseMatrix"===t.type?(e._values=t._values?(0,a.d9)(t._values):void 0,e._index=(0,a.d9)(t._index),e._ptr=(0,a.d9)(t._ptr),e._size=(0,a.d9)(t._size),e._datatype=r||t._datatype):h(e,t.valueOf(),r||t._datatype)}(this,e,t);else if(e&&(0,n.kJ)(e.index)&&(0,n.kJ)(e.ptr)&&(0,n.kJ)(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if((0,n.kJ)(e))h(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+(0,n.kM)(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function h(e,i,s){e._values=[],e._index=[],e._ptr=[],e._datatype=s;var a=i.length,o=0,u=r,l=0;if((0,n.HD)(s)&&(u=t.find(r,[s,s])||r,l=t.convert(0,s)),a>0){var c=0;do{e._ptr.push(e._index.length);for(var h=0;h<a;h++){var p=i[h];if((0,n.kJ)(p)){if(0===c&&o<p.length&&(o=p.length),c<p.length){var f=p[c];u(f,l)||(e._values.push(f),e._index.push(h))}}else 0===c&&o<1&&(o=1),u(p,l)||(e._values.push(p),e._index.push(h))}c++}while(c<o)}e._ptr.push(e._index.length),e._size=[a,o]}function p(e,t){if(!(0,n.dh)(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,i,s,a,u=t.size();if(u.length!==e._size.length)throw new l.m(u.length,e._size.length);var h=t.min(),p=t.max();for(r=0,i=e._size.length;r<i;r++)(0,o.Ls)(h[r],e._size[r]),(0,o.Ls)(p[r],e._size[r]);var f=e._values,m=e._index,d=e._ptr,g=t.dimension(0),y=t.dimension(1),v=[],x=[];g.forEach((function(e,t){x[e]=t[0],v[e]=!0}));var b=f?[]:void 0,w=[],S=[];return y.forEach((function(e){for(S.push(w.length),s=d[e],a=d[e+1];s<a;s++)r=m[s],!0===v[r]&&(w.push(x[r]),b&&b.push(f[s]))})),S.push(w.length),new c({values:b,index:w,ptr:S,size:u,datatype:e._datatype})}function f(e,t,r,i){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var s,u=t.size(),c=t.isScalar();if((0,n.SW)(r)?(s=r.size(),r=r.toArray()):s=(0,o.aJ)(r),c){if(0!==s.length)throw new TypeError("Scalar expected");e.set(t.min(),r,i)}else{if(1!==u.length&&2!==u.length)throw new l.m(u.length,e._size.length,"<");if(s.length<u.length){for(var h=0,p=0;1===u[h]&&1===s[h];)h++;for(;1===u[h];)p++,h++;r=(0,o.f4)(r,u.length,p,s)}if(!(0,a.J5)(u,s))throw new l.m(u,s,">");for(var f=t.min()[0],m=t.min()[1],d=s[0],g=s[1],y=0;y<d;y++)for(var v=0;v<g;v++){var x=r[y][v];e.set([y+f,v+m],x,i)}}return e}function m(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function d(e,t,r,n,i,s,a){i.splice(e,0,n),s.splice(e,0,t);for(var o=r+1;o<a.length;o++)a[o]++}function g(e,i,s,a){var o=a||0,u=r,l=0;(0,n.HD)(e._datatype)&&(u=t.find(r,[e._datatype,e._datatype])||r,l=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var c,h,p,f=!u(o,l),m=e._size[0],d=e._size[1];if(s>d){for(h=d;h<s;h++)if(e._ptr[h]=e._values.length,f)for(c=0;c<m;c++)e._values.push(o),e._index.push(c);e._ptr[s]=e._values.length}else s<d&&(e._ptr.splice(s+1,d-s),e._values.splice(e._ptr[s],e._values.length),e._index.splice(e._ptr[s],e._index.length));if(d=s,i>m){if(f){var g=0;for(h=0;h<d;h++){e._ptr[h]=e._ptr[h]+g,p=e._ptr[h+1]+g;var y=0;for(c=m;c<i;c++,y++)e._values.splice(p+y,0,o),e._index.splice(p+y,0,c),g++}e._ptr[d]=e._values.length}}else if(i<m){var v=0;for(h=0;h<d;h++){e._ptr[h]=e._ptr[h]-v;var x=e._ptr[h],b=e._ptr[h+1]-v;for(p=x;p<b;p++)(c=e._index[p])>i-1&&(e._values.splice(p,1),e._index.splice(p,1),v++)}e._ptr[h]=e._values.length}return e._size[0]=i,e._size[1]=s,e}function y(e,t,r,n,i){var s,o,u=n[0],l=n[1],c=[];for(s=0;s<u;s++)for(c[s]=[],o=0;o<l;o++)c[s][o]=0;for(o=0;o<l;o++)for(var h=r[o],p=r[o+1],f=h;f<p;f++)c[s=t[f]][o]=e?i?(0,a.d9)(e[f]):e[f]:1;return c}return c.prototype=new u,c.prototype.createSparseMatrix=function(e,t){return new c(e,t)},c.prototype.type="SparseMatrix",c.prototype.isSparseMatrix=!0,c.prototype.getDataType=function(){return(0,o.$q)(this._values,n.kM)},c.prototype.storage=function(){return"sparse"},c.prototype.datatype=function(){return this._datatype},c.prototype.create=function(e,t){return new c(e,t)},c.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},c.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,e);case 2:case 3:return f(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},c.prototype.get=function(e){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new l.m(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];(0,o.Ls)(t,this._size[0]),(0,o.Ls)(r,this._size[1]);var i=m(t,this._ptr[r],this._ptr[r+1],this._index);return i<this._ptr[r+1]&&this._index[i]===t?this._values[i]:0},c.prototype.set=function(e,i,s){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new l.m(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=e[0],u=e[1],c=this._size[0],h=this._size[1],p=r,f=0;(0,n.HD)(this._datatype)&&(p=t.find(r,[this._datatype,this._datatype])||r,f=t.convert(0,this._datatype)),(a>c-1||u>h-1)&&(g(this,Math.max(a+1,c),Math.max(u+1,h),s),c=this._size[0],h=this._size[1]),(0,o.Ls)(a,c),(0,o.Ls)(u,h);var y=m(a,this._ptr[u],this._ptr[u+1],this._index);return y<this._ptr[u+1]&&this._index[y]===a?p(i,f)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var s=t+1;s<i.length;s++)i[s]--}(y,u,this._values,this._index,this._ptr):this._values[y]=i:d(y,a,u,i,this._values,this._index,this._ptr),this},c.prototype.resize=function(e,t,r){if(!(0,n.uZ)(e))throw new TypeError("Array or Matrix expected");var a=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));if(2!==a.length)throw new Error("Only two dimensions matrix are supported");return a.forEach((function(e){if(!(0,n.hj)(e)||!(0,i.U)(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,s.WU)(a)+")")})),g(r?this.clone():this,a[0],a[1],t)},c.prototype.reshape=function(e,t){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach((function(t){if(!(0,n.hj)(t)||!(0,i.U)(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,s.WU)(e)+")")})),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var a=[],o=0;o<r._ptr.length;o++)for(var u=0;u<r._ptr[o+1]-r._ptr[o];u++)a.push(o);for(var l=r._values.slice(),c=r._index.slice(),h=0;h<r._index.length;h++){var p=c[h],f=a[h],g=p*r._size[1]+f;a[h]=g%e[1],c[h]=Math.floor(g/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var y=0;y<r._ptr.length;y++)r._ptr[y]=0;for(var v=0;v<l.length;v++){var x=c[v],b=a[v],w=l[v];d(m(x,r._ptr[b],r._ptr[b+1],r._index),x,b,w,r._values,r._index,r._ptr)}return r},c.prototype.clone=function(){return new c({values:this._values?(0,a.d9)(this._values):void 0,index:(0,a.d9)(this._index),ptr:(0,a.d9)(this._ptr),size:(0,a.d9)(this._size),datatype:this._datatype})},c.prototype.size=function(){return this._size.slice(0)},c.prototype.map=function(e,i){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(e,i,s,a,o,u,l){var h=[],p=[],f=[],m=r,d=0;(0,n.HD)(e._datatype)&&(m=t.find(r,[e._datatype,e._datatype])||r,d=t.convert(0,e._datatype));for(var g=function(e,t,r){e=u(e,t,r),m(e,d)||(h.push(e),p.push(t))},y=0;y<=o;y++){f.push(h.length);var v=e._ptr[y],x=e._ptr[y+1];if(l)for(var b=v;b<x;b++){var w=e._index[b];w>=0&&w<=s&&g(e._values[b],w-0,y-0)}else{for(var S={},E=v;E<x;E++){S[e._index[E]]=e._values[E]}for(var A=0;A<=s;A++){g(A in S?S[A]:0,A-0,y-0)}}}return f.push(h.length),new c({values:h,index:p,ptr:f,size:[s-0+1,o-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,r,n){return e(t,[r,n],s)}),i)},c.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var s=this._ptr[i],a=this._ptr[i+1];if(t)for(var o=s;o<a;o++){var u=this._index[o];e(this._values[o],[u,i],this)}else{for(var l={},c=s;c<a;c++)l[this._index[c]]=this._values[c];for(var h=0;h<r;h++)e(h in l?l[h]:0,[h,i],this)}}},c.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},c.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)},c.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+(0,s.WU)(t,e)+" x "+(0,s.WU)(r,e)+"] density: "+(0,s.WU)(n,e)+"\n",a=0;a<r;a++)for(var o=this._ptr[a],u=this._ptr[a+1],l=o;l<u;l++){var c=this._index[l];i+="\n    ("+(0,s.WU)(c,e)+", "+(0,s.WU)(a,e)+") ==> "+(this._values?(0,s.WU)(this._values[l],e):"X")}return i},c.prototype.toString=function(){return(0,s.WU)(this.toArray())},c.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},c.prototype.diagonal=function(e){if(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,i.U)(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,r=e<0?-e:0,s=this._size[0],a=this._size[1],o=Math.min(s-r,a-t),u=[],l=[],h=[];h[0]=0;for(var p=t;p<a&&u.length<o;p++)for(var f=this._ptr[p],m=this._ptr[p+1],d=f;d<m;d++){var g=this._index[d];if(g===p-t+r){u.push(this._values[d]),l[u.length-1]=g-r;break}}return h.push(u.length),new c({values:u,index:l,ptr:h,size:[o,1]})},c.fromJSON=function(e){return new c(e)},c.diagonal=function(e,s,a,o,u){if(!(0,n.kJ)(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,i.U)(e)||e<1)throw new Error("Size values must be positive integers");return e})),a){if((0,n.l9)(a)&&(a=a.toNumber()),!(0,n.hj)(a)||!(0,i.U)(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var l=r,h=0;(0,n.HD)(u)&&(l=t.find(r,[u,u])||r,h=t.convert(0,u));var p,f=a>0?a:0,m=a<0?-a:0,d=e[0],g=e[1],y=Math.min(d-m,g-f);if((0,n.kJ)(s)){if(s.length!==y)throw new Error("Invalid value array length");p=function(e){return s[e]}}else if((0,n.SW)(s)){var v=s.size();if(1!==v.length||v[0]!==y)throw new Error("Invalid matrix length");p=function(e){return s.get([e])}}else p=function(){return s};for(var x=[],b=[],w=[],S=0;S<g;S++){w.push(x.length);var E=S-f;if(E>=0&&E<y){var A=p(E);l(A,h)||(b.push(E+m),x.push(A))}}return w.push(x.length),new c({values:x,index:b,ptr:w,size:[d,g]})},c.prototype.swapRows=function(e,t){if(!((0,n.hj)(e)&&(0,i.U)(e)&&(0,n.hj)(t)&&(0,i.U)(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,o.Ls)(e,this._size[0]),(0,o.Ls)(t,this._size[0]),c._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},c._forEachRow=function(e,t,r,n,i){for(var s=n[e],a=n[e+1],o=s;o<a;o++)i(r[o],t[o])},c._swapRows=function(e,t,r,n,i,s){for(var a=0;a<r;a++){var o=s[a],u=s[a+1],l=m(e,o,u,i),c=m(t,o,u,i);if(l<u&&c<u&&i[l]===e&&i[c]===t){if(n){var h=n[l];n[l]=n[c],n[c]=h}}else if(l<u&&i[l]===e&&(c>=u||i[c]!==t)){var p=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,p),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1)}else if(c<u&&i[c]===t&&(l>=u||i[l]!==e)){var f=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,f),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1)}}},c}),{isClass:!0})},7866:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(2893),i=r(4080),s=(0,n.d5)("index",["typed","Index"],(function(e){var t=e.typed,r=e.Index;return t("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map((function(e){return(0,i.l9)(e)?e.toNumber():Array.isArray(e)||(0,i.SW)(e)?e.map((function(e){return(0,i.l9)(e)?e.toNumber():e})):e})),n=new r;return r.apply(n,t),n}})}))},8750:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n=(0,r(2893).d5)("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,r=(e.Matrix,e.DenseMatrix),n=e.SparseMatrix;return t("matrix",{"":function(){return i([])},string:function(e){return i([],e)},"string, string":function(e,t){return i([],e,t)},Array:function(e){return i(e)},Matrix:function(e){return i(e,e.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(e,t,i){if("dense"===t||"default"===t||void 0===t)return new r(e,i);if("sparse"===t)return new n(e,i);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}))},1431:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n=(0,r(2893).d5)("sparse",["typed","SparseMatrix"],(function(e){var t=e.typed,r=e.SparseMatrix;return t("sparse",{"":function(){return new r([])},string:function(e){return new r([],e)},"Array | Matrix":function(e){return new r(e)},"Array | Matrix, string":function(e,t){return new r(e,t)}})}))},2523:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm01",["typed"],(function(e){var t=e.typed;return function(e,r,n,s){var a=e._data,o=e._size,u=e._datatype,l=r._values,c=r._index,h=r._ptr,p=r._size,f=r._datatype;if(o.length!==p.length)throw new i.m(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,d,g=o[0],y=o[1],v="string"==typeof u&&u===f?u:void 0,x=v?t.find(n,[v,v]):n,b=[];for(m=0;m<g;m++)b[m]=[];var w=[],S=[];for(d=0;d<y;d++){for(var E=d+1,A=h[d],T=h[d+1],M=A;M<T;M++)w[m=c[M]]=s?x(l[M],a[m][d]):x(a[m][d],l[M]),S[m]=E;for(m=0;m<g;m++)S[m]===E?b[m][d]=w[m]:b[m][d]=a[m][d]}return e.createDenseMatrix({data:b,size:[g,y],datatype:v})}}))},5612:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm02",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,s,a){var o=e._data,u=e._size,l=e._datatype,c=n._values,h=n._index,p=n._ptr,f=n._size,m=n._datatype;if(u.length!==f.length)throw new i.m(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,g=u[0],y=u[1],v=r,x=0,b=s;"string"==typeof l&&l===m&&(d=l,v=t.find(r,[d,d]),x=t.convert(0,d),b=t.find(s,[d,d]));for(var w=[],S=[],E=[],A=0;A<y;A++){E[A]=S.length;for(var T=p[A],M=p[A+1],_=T;_<M;_++){var N=h[_],I=a?b(c[_],o[N][A]):b(o[N][A],c[_]);v(I,x)||(S.push(N),w.push(I))}}return E[y]=S.length,n.createSparseMatrix({values:w,index:S,ptr:E,size:[g,y],datatype:d})}}))},4365:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm03",["typed"],(function(e){var t=e.typed;return function(e,r,n,s){var a=e._data,o=e._size,u=e._datatype,l=r._values,c=r._index,h=r._ptr,p=r._size,f=r._datatype;if(o.length!==p.length)throw new i.m(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,d=o[0],g=o[1],y=0,v=n;"string"==typeof u&&u===f&&(m=u,y=t.convert(0,m),v=t.find(n,[m,m]));for(var x=[],b=0;b<d;b++)x[b]=[];for(var w=[],S=[],E=0;E<g;E++){for(var A=E+1,T=h[E],M=h[E+1],_=T;_<M;_++){var N=c[_];w[N]=s?v(l[_],a[N][E]):v(a[N][E],l[_]),S[N]=A}for(var I=0;I<d;I++)S[I]===A?x[I][E]=w[I]:x[I][E]=s?v(y,a[I][E]):v(a[I][E],y)}return e.createDenseMatrix({data:x,size:[d,g],datatype:m})}}))},5542:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm04",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,s){var a=e._values,o=e._index,u=e._ptr,l=e._size,c=e._datatype,h=n._values,p=n._index,f=n._ptr,m=n._size,d=n._datatype;if(l.length!==m.length)throw new i.m(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var g,y=l[0],v=l[1],x=r,b=0,w=s;"string"==typeof c&&c===d&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),w=t.find(s,[g,g]));var S,E,A,T,M,_=a&&h?[]:void 0,N=[],I=[],C=a&&h?[]:void 0,O=a&&h?[]:void 0,k=[],D=[];for(E=0;E<v;E++){I[E]=N.length;var R=E+1;for(T=u[E],M=u[E+1],A=T;A<M;A++)S=o[A],N.push(S),k[S]=R,C&&(C[S]=a[A]);for(T=f[E],M=f[E+1],A=T;A<M;A++)if(k[S=p[A]]===R){if(C){var L=w(C[S],h[A]);x(L,b)?k[S]=null:C[S]=L}}else N.push(S),D[S]=R,O&&(O[S]=h[A]);if(C&&O)for(A=I[E];A<N.length;)k[S=N[A]]===R?(_[A]=C[S],A++):D[S]===R?(_[A]=O[S],A++):N.splice(A,1)}return I[v]=N.length,e.createSparseMatrix({values:_,index:N,ptr:I,size:[y,v],datatype:g})}}))},95:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm05",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,s){var a=e._values,o=e._index,u=e._ptr,l=e._size,c=e._datatype,h=n._values,p=n._index,f=n._ptr,m=n._size,d=n._datatype;if(l.length!==m.length)throw new i.m(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var g,y=l[0],v=l[1],x=r,b=0,w=s;"string"==typeof c&&c===d&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),w=t.find(s,[g,g]));var S,E,A,T,M=a&&h?[]:void 0,_=[],N=[],I=M?[]:void 0,C=M?[]:void 0,O=[],k=[];for(E=0;E<v;E++){N[E]=_.length;var D=E+1;for(A=u[E],T=u[E+1];A<T;A++)S=o[A],_.push(S),O[S]=D,I&&(I[S]=a[A]);for(A=f[E],T=f[E+1];A<T;A++)O[S=p[A]]!==D&&_.push(S),k[S]=D,C&&(C[S]=h[A]);if(M)for(A=N[E];A<_.length;){var R=O[S=_[A]],L=k[S];if(R===D||L===D){var F=w(R===D?I[S]:b,L===D?C[S]:b);x(F,b)?_.splice(A,1):(M.push(F),A++)}}}return N[v]=_.length,e.createSparseMatrix({values:M,index:_,ptr:N,size:[y,v],datatype:g})}}))},5435:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(2893),i=r(620),s=r(8664),a=(0,n.d5)("algorithm06",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a){var o=e._values,u=e._size,l=e._datatype,c=n._values,h=n._size,p=n._datatype;if(u.length!==h.length)throw new i.m(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");var f,m=u[0],d=u[1],g=r,y=0,v=a;"string"==typeof l&&l===p&&(f=l,g=t.find(r,[f,f]),y=t.convert(0,f),v=t.find(a,[f,f]));for(var x=o&&c?[]:void 0,b=[],w=[],S=x?[]:void 0,E=[],A=[],T=0;T<d;T++){w[T]=b.length;var M=T+1;if((0,s.U6)(e,T,E,S,A,M,b,v),(0,s.U6)(n,T,E,S,A,M,b,v),S)for(var _=w[T];_<b.length;){var N=b[_];if(A[N]===M){var I=S[N];g(I,y)?b.splice(_,1):(x.push(I),_++)}else b.splice(_,1)}else for(var C=w[T];C<b.length;)A[b[C]]!==M?b.splice(C,1):C++}return w[d]=b.length,e.createSparseMatrix({values:x,index:b,ptr:w,size:[m,d],datatype:f})}}))},3922:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm07",["typed","DenseMatrix"],(function(e){var t=e.typed,r=e.DenseMatrix;return function(e,s,a){var o=e._size,u=e._datatype,l=s._size,c=s._datatype;if(o.length!==l.length)throw new i.m(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var h,p,f,m=o[0],d=o[1],g=0,y=a;"string"==typeof u&&u===c&&(h=u,g=t.convert(0,h),y=t.find(a,[h,h]));var v=[];for(p=0;p<m;p++)v[p]=[];var x=[],b=[],w=[],S=[];for(f=0;f<d;f++){var E=f+1;for(n(e,f,w,x,E),n(s,f,S,b,E),p=0;p<m;p++){var A=w[p]===E?x[p]:g,T=S[p]===E?b[p]:g;v[p][f]=y(A,T)}}return new r({data:v,size:[m,d],datatype:h})};function n(e,t,r,n,i){for(var s=e._values,a=e._index,o=e._ptr,u=o[t],l=o[t+1];u<l;u++){var c=a[u];r[c]=i,n[c]=s[u]}}}))},1908:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm08",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,s){var a=e._values,o=e._index,u=e._ptr,l=e._size,c=e._datatype,h=n._values,p=n._index,f=n._ptr,m=n._size,d=n._datatype;if(l.length!==m.length)throw new i.m(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!a||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var g,y=l[0],v=l[1],x=r,b=0,w=s;"string"==typeof c&&c===d&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),w=t.find(s,[g,g]));for(var S,E,A,T,M=[],_=[],N=[],I=[],C=[],O=0;O<v;O++){N[O]=_.length;var k=O+1;for(E=u[O],A=u[O+1],S=E;S<A;S++)C[T=o[S]]=k,I[T]=a[S],_.push(T);for(E=f[O],A=f[O+1],S=E;S<A;S++)C[T=p[S]]===k&&(I[T]=w(I[T],h[S]));for(S=N[O];S<_.length;){var D=I[T=_[S]];x(D,b)?_.splice(S,1):(M.push(D),S++)}}return N[v]=_.length,e.createSparseMatrix({values:M,index:_,ptr:N,size:[y,v],datatype:g})}}))},1628:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm09",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,s){var a=e._values,o=e._index,u=e._ptr,l=e._size,c=e._datatype,h=n._values,p=n._index,f=n._ptr,m=n._size,d=n._datatype;if(l.length!==m.length)throw new i.m(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var g,y=l[0],v=l[1],x=r,b=0,w=s;"string"==typeof c&&c===d&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),w=t.find(s,[g,g]));var S,E,A,T,M,_=a&&h?[]:void 0,N=[],I=[],C=_?[]:void 0,O=[];for(E=0;E<v;E++){I[E]=N.length;var k=E+1;if(C)for(T=f[E],M=f[E+1],A=T;A<M;A++)O[S=p[A]]=k,C[S]=h[A];for(T=u[E],M=u[E+1],A=T;A<M;A++)if(S=o[A],C){var D=O[S]===k?C[S]:b,R=w(a[A],D);x(R,b)||(N.push(S),_.push(R))}else N.push(S)}return I[v]=N.length,e.createSparseMatrix({values:_,index:N,ptr:I,size:[y,v],datatype:g})}}))},9e3:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var n=(0,r(2893).d5)("algorithm10",["typed","DenseMatrix"],(function(e){var t=e.typed,r=e.DenseMatrix;return function(e,n,i,s){var a=e._values,o=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=l[0],f=l[1],m=i;"string"==typeof c&&(h=c,n=t.convert(n,h),m=t.find(i,[h,h]));for(var d=[],g=[],y=[],v=0;v<f;v++){for(var x=v+1,b=u[v],w=u[v+1],S=b;S<w;S++){var E=o[S];g[E]=a[S],y[E]=x}for(var A=0;A<p;A++)0===v&&(d[A]=[]),y[A]===x?d[A][v]=s?m(n,g[A]):m(g[A],n):d[A][v]=n}return new r({data:d,size:[p,f],datatype:h})}}))},7598:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n=(0,r(2893).d5)("algorithm11",["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,i,s){var a=e._values,o=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=l[0],f=l[1],m=r,d=0,g=i;"string"==typeof c&&(h=c,m=t.find(r,[h,h]),d=t.convert(0,h),n=t.convert(n,h),g=t.find(i,[h,h]));for(var y=[],v=[],x=[],b=0;b<f;b++){x[b]=v.length;for(var w=u[b],S=u[b+1],E=w;E<S;E++){var A=o[E],T=s?g(n,a[E]):g(a[E],n);m(T,d)||(v.push(A),y.push(T))}}return x[f]=v.length,e.createSparseMatrix({values:y,index:v,ptr:x,size:[p,f],datatype:h})}}))},2629:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n=(0,r(2893).d5)("algorithm12",["typed","DenseMatrix"],(function(e){var t=e.typed,r=e.DenseMatrix;return function(e,n,i,s){var a=e._values,o=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=l[0],f=l[1],m=i;"string"==typeof c&&(h=c,n=t.convert(n,h),m=t.find(i,[h,h]));for(var d=[],g=[],y=[],v=0;v<f;v++){for(var x=v+1,b=u[v],w=u[v+1],S=b;S<w;S++){var E=o[S];g[E]=a[S],y[E]=x}for(var A=0;A<p;A++)0===v&&(d[A]=[]),y[A]===x?d[A][v]=s?m(n,g[A]):m(g[A],n):d[A][v]=s?m(n,0):m(0,n)}return new r({data:d,size:[p,f],datatype:h})}}))},8690:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(2893),i=r(620),s=(0,n.d5)("algorithm13",["typed"],(function(e){var t=e.typed;return function(e,r,n){var s,a=e._data,o=e._size,u=e._datatype,l=r._data,c=r._size,h=r._datatype,p=[];if(o.length!==c.length)throw new i.m(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[f]=o[f]}var m=n;"string"==typeof u&&u===h&&(s=u,m=t.find(n,[s,s]));var d=p.length>0?function e(t,r,n,i,s,a){var o=[];if(r===n.length-1)for(var u=0;u<i;u++)o[u]=t(s[u],a[u]);else for(var l=0;l<i;l++)o[l]=e(t,r+1,n,n[r+1],s[l],a[l]);return o}(m,0,p,p[0],a,l):[];return e.createDenseMatrix({data:d,size:p,datatype:s})}}))},4384:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(2893),i=r(6713),s=(0,n.d5)("algorithm14",["typed"],(function(e){var t=e.typed;return function(e,r,n,s){var a,o=e._data,u=e._size,l=e._datatype,c=n;"string"==typeof l&&(a=l,r=t.convert(r,a),c=t.find(n,[a,a]));var h=u.length>0?function e(t,r,n,i,s,a,o){var u=[];if(r===n.length-1)for(var l=0;l<i;l++)u[l]=o?t(a,s[l]):t(s[l],a);else for(var c=0;c<i;c++)u[c]=e(t,r+1,n,n[r+1],s[c],a,o);return u}(c,0,u,u[0],o,r,s):[];return e.createDenseMatrix({data:h,size:(0,i.d9)(u),datatype:a})}}))},8465:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("number",["typed"],(function(e){var t=(0,e.typed)("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}});return t.fromJSON=function(e){return parseFloat(e.value)},t}))},9659:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n=(0,r(2893).d5)("ResultSet",[],(function(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0})},5697:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(2893),i=r(8664),s=r(4008),a=(0,n.d5)("string",["typed"],(function(e){return(0,e.typed)("string",{"":function(){return""},number:s.WU,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return(0,i.Fh)(e,this)},any:function(e){return String(e)}})}))},6795:(e,t,r)=>{"use strict";r.d(t,{w:()=>f});var n=r(4080),i=r(2893),s=r(5116),a=r(6713),o=r(6294);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(0,i.d5)("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(function(e){var t,r,i,c=e.on,p=e.config,f=e.addScalar,m=e.subtract,d=e.multiplyScalar,g=e.divideScalar,y=e.pow,v=e.abs,x=e.fix,b=e.round,w=e.equal,S=e.isNumeric,E=e.format,A=e.number,T=e.Complex,M=e.BigNumber,_=e.Fraction,N=A;function I(e,t){if(!(this instanceof I))throw new Error("Constructor must be called with the new operator");if(null!=e&&!S(e)&&!(0,n.Mc)(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var r=I.parse(t);this.units=r.units,this.dimensions=r.dimensions}else{this.units=[{unit:$,prefix:P.NONE,power:0}],this.dimensions=[];for(var i=0;i<B.length;i++)this.dimensions[i]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function C(){for(;" "===i||"\t"===i;)k()}function O(e){return e>="0"&&e<="9"}function k(){r++,i=t.charAt(r)}function D(e){r=e,i=t.charAt(r)}function R(){var e="",t=r;if("+"===i?k():"-"===i&&(e+=i,k()),!function(e){return e>="0"&&e<="9"||"."===e}(i))return D(t),null;if("."===i){if(e+=i,k(),!O(i))return D(t),null}else{for(;O(i);)e+=i,k();"."===i&&(e+=i,k())}for(;O(i);)e+=i,k();if("E"===i||"e"===i){var n="",s=r;if(n+=i,k(),"+"!==i&&"-"!==i||(n+=i,k()),!O(i))return D(s),e;for(e+=n;O(i);)e+=i,k()}return e}function L(){for(var e="",n=t.charCodeAt(r);n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122;)e+=i,k(),n=t.charCodeAt(r);return((n=e.charCodeAt(0))>=65&&n<=90||n>=97&&n<=122)&&e||null}function F(e){return i===e?(k(),e):null}function U(e){if((0,a.nr)(G,e)){var t=G[e];return{unit:t,prefix:t.prefixes[""]}}for(var r in G)if((0,a.nr)(G,r)&&(0,s.pn)(e,r)){var n=G[r],i=e.length-r.length,o=e.substring(0,i),u=(0,a.nr)(n.prefixes,o)?n.prefixes[o]:void 0;if(void 0!==u)return{unit:n,prefix:u}}return null}function z(e){return e.equalBase(V.NONE)&&null!==e.value&&!p.predictable?e.value:e}I.prototype.type="Unit",I.prototype.isUnit=!0,I.parse=function(e,n){if(n=n||{},r=-1,i="","string"!=typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var s=new I;s.units=[];var a=1,o=!1;k(),C();var u=R(),l=null;if(u){if("BigNumber"===p.number)l=new M(u);else if("Fraction"===p.number)try{l=new _(u)}catch(e){l=parseFloat(u)}else l=parseFloat(u);C(),F("*")?(a=1,o=!0):F("/")&&(a=-1,o=!0)}for(var c=[],h=1;;){for(C();"("===i;)c.push(a),h*=a,a=1,k(),C();var f;if(!i)break;var m=i;if(null===(f=L()))throw new SyntaxError('Unexpected "'+m+'" in "'+t+'" at index '+r.toString());var d=U(f);if(null===d)throw new SyntaxError('Unit "'+f+'" not found.');var g=a*h;if(C(),F("^")){C();var y=R();if(null===y)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=y}s.units.push({unit:d.unit,prefix:d.prefix,power:g});for(var v=0;v<B.length;v++)s.dimensions[v]+=(d.unit.dimensions[v]||0)*g;for(C();")"===i;){if(0===c.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+r.toString());h/=c.pop(),k(),C()}if(o=!1,F("*")?(a=1,o=!0):F("/")?(a=-1,o=!0):a=1,d.unit.base){var x=d.unit.base.key;H.auto[x]={unit:d.unit,prefix:d.prefix}}}if(C(),i)throw new SyntaxError('Could not parse: "'+e+'"');if(o)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==c.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===s.units.length&&!n.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return s.value=void 0!==l?s._normalize(l):null,s},I.prototype.clone=function(){var e=new I;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=(0,a.d9)(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])(0,a.nr)(this.units[t],r)&&(e.units[t][r]=this.units[t][r]);return e},I.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},I.prototype._normalize=function(e){var t,r,i,s,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){var o=e;a=I._getNumberConverter((0,n.kM)(e));for(var u=0;u<this.units.length;u++)t=a(this.units[u].unit.value),s=a(this.units[u].prefix.value),i=a(this.units[u].power),o=d(o,y(d(t,s),i));return o}return t=(a=I._getNumberConverter((0,n.kM)(e)))(this.units[0].unit.value),r=a(this.units[0].unit.offset),s=a(this.units[0].prefix.value),d(f(e,r),d(t,s))},I.prototype._denormalize=function(e,t){var r,i,s,a,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var u=e;o=I._getNumberConverter((0,n.kM)(e));for(var l=0;l<this.units.length;l++)r=o(this.units[l].unit.value),a=o(this.units[l].prefix.value),s=o(this.units[l].power),u=g(u,y(d(r,a),s));return u}return r=(o=I._getNumberConverter((0,n.kM)(e)))(this.units[0].unit.value),a=o(this.units[0].prefix.value),i=o(this.units[0].unit.offset),m(g(g(e,r),null==t?a:t),i)},I.isValuelessUnit=function(e){return null!==U(e)},I.prototype.hasBase=function(e){if("string"==typeof e&&(e=V[e]),!e)return!1;for(var t=0;t<B.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},I.prototype.equalBase=function(e){for(var t=0;t<B.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},I.prototype.equals=function(e){return this.equalBase(e)&&w(this.value,e.value)},I.prototype.multiply=function(e){for(var t=this.clone(),r=0;r<B.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i=h({},e.units[n]);t.units.push(i)}if(null!==this.value||null!==e.value){var s=null===this.value?this._normalize(1):this.value,a=null===e.value?e._normalize(1):e.value;t.value=d(s,a)}else t.value=null;return t.skipAutomaticSimplification=!1,z(t)},I.prototype.divide=function(e){for(var t=this.clone(),r=0;r<B.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i=h(h({},e.units[n]),{},{power:-e.units[n].power});t.units.push(i)}if(null!==this.value||null!==e.value){var s=null===this.value?this._normalize(1):this.value,a=null===e.value?e._normalize(1):e.value;t.value=g(s,a)}else t.value=null;return t.skipAutomaticSimplification=!1,z(t)},I.prototype.pow=function(e){for(var t=this.clone(),r=0;r<B.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!==t.value?t.value=y(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,z(t)},I.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?v(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=G.W);return e},I.prototype.to=function(e){var t,r=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=I.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=(0,a.d9)(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}if((0,n.wr)(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=(0,a.d9)(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}throw new Error("String or Unit expected as parameter")},I.prototype.toNumber=function(e){return N(this.toNumeric(e))},I.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},I.prototype.toString=function(){return this.format()},I.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},I.fromJSON=function(e){var t=new I(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},I.prototype.valueOf=I.prototype.toString,I.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var i in W)if((0,a.nr)(W,i)&&r.hasBase(V[i])){e=i;break}if("NONE"===e)r.units=[];else if(e&&(0,a.nr)(W,e)&&(t=W[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var s=!1,o=0;o<B.length;o++){var u=B[o];Math.abs(r.dimensions[o]||0)>1e-12&&((0,a.nr)(W,u)?n.push({unit:W[u].unit,prefix:W[u].prefix,power:r.dimensions[o]||0}):s=!0)}n.length<r.units.length&&!s&&(r.units=n)}return r},I.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<B.length;r++){var n=B[r];if(Math.abs(e.dimensions[r]||0)>1e-12){if(!(0,a.nr)(H.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:H.si[n].unit,prefix:H.si[n].prefix,power:e.dimensions[r]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},I.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(r>0?(t+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(t+="^"+-this.units[s].power)):(t+=" "+this.units[s].prefix.name+this.units[s].unit.name,t+="^"+this.units[s].power));e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var a=e;return r>0&&n>0&&(a+=" / "),a+t},I.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var i in void 0!==t.value&&null!==t.value&&(0,n.Mc)(t.value)&&(r=Math.abs(t.value.re)<1e-14),t.units)(0,a.nr)(t.units,i)&&t.units[i].unit&&("VA"===t.units[i].unit.name&&r?t.units[i].unit=G.VAR:"VAR"!==t.units[i].unit.name||r||(t.units[i].unit=G.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var s=t._denormalize(t.value),o=null!==t.value?E(s,e||{}):"",u=t.formatUnits();return t.value&&(0,n.Mc)(t.value)&&(o="("+o+")"),u.length>0&&o.length>0&&(o+=" "),o+u},I.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?v(this.value):0,t=v(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var o in s)if((0,a.nr)(s,o)){var u=s[o];if(u.scientific){var l=Math.abs(Math.log(e/Math.pow(u.value*t,n))/Math.LN10-1.2);(l<i||l===i&&u.name.length<r.name.length)&&(r=u,i=l)}}return r},I.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),s=b(i),a=new I(w(s,i)?s:x(t.toNumeric()),e[n].toString());r.push(a),t=m(t,a)}for(var o=0,u=0;u<r.length;u++)o=f(o,r[u].value);return w(o,this.value)&&(t.value=0),r.push(t),r};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=l({},P.SHORT,P.LONG),P.BINARY_SHORT=l({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=l({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var B=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],V={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var q in V)(0,a.nr)(V,q)&&(V[q].key=q);var $={name:"",base:{},value:1,offset:0,dimensions:B.map((function(e){return 0}))},G={meter:{name:"meter",base:V.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:V.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:V.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:V.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:V.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:V.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:V.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:V.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:V.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:V.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:V.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:V.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:V.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:V.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:V.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:V.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:V.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:V.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:V.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:V.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:V.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:V.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:V.SURFACE,prefixes:P.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:V.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:V.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:V.SURFACE,prefixes:P.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:V.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:V.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:V.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:V.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:V.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:V.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:V.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:V.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:V.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:V.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:V.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:V.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:V.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:V.VOLUME,prefixes:P.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:V.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:V.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:V.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:V.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:V.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:V.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:V.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:V.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:V.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:V.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:V.VOLUME,prefixes:P.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:V.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:V.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:V.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:V.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:V.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:V.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:V.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:V.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},obl:{name:"obl",base:V.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},g:{name:"g",base:V.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:V.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:V.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:V.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:V.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:V.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:V.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:V.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:V.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:V.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:V.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:V.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:V.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:V.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:V.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:V.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:V.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:V.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:V.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:V.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:V.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:V.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:V.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:V.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:V.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:V.TIME,prefixes:P.NONE,value:604800,offset:0},month:{name:"month",base:V.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:V.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:V.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:V.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:V.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:V.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:V.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:V.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:V.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:V.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:V.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:V.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:V.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:V.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:V.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:V.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:V.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:V.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:V.TEMPERATURE,prefixes:P.NONE,value:1,offset:0},degC:{name:"degC",base:V.TEMPERATURE,prefixes:P.NONE,value:1,offset:273.15},degF:{name:"degF",base:V.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:V.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:V.TEMPERATURE,prefixes:P.NONE,value:1,offset:0},celsius:{name:"celsius",base:V.TEMPERATURE,prefixes:P.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:V.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:V.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:V.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:V.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:V.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:V.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:V.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:V.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:V.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:V.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:V.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:V.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:V.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},J:{name:"J",base:V.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:V.ENERGY,prefixes:P.SHORT,value:1,offset:0},erg:{name:"erg",base:V.ENERGY,prefixes:P.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:V.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:V.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:V.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:V.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:V.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:V.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:V.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:V.POWER,prefixes:P.SHORT,value:T.I,offset:0},VA:{name:"VA",base:V.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:V.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:V.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:V.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:V.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:V.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:V.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:V.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:V.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:V.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:V.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:V.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:V.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:V.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:V.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:V.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:V.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:V.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:V.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:V.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:V.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:V.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:V.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:V.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:V.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:V.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:V.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:V.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},K={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function j(e){if("BigNumber"===e.number){var t=(0,o.wY)(M);G.rad.value=new M(1),G.deg.value=t.div(180),G.grad.value=t.div(200),G.cycle.value=t.times(2),G.arcsec.value=t.div(648e3),G.arcmin.value=t.div(10800)}else G.rad.value=1,G.deg.value=Math.PI/180,G.grad.value=Math.PI/200,G.cycle.value=2*Math.PI,G.arcsec.value=Math.PI/648e3,G.arcmin.value=Math.PI/10800;G.radian.value=G.rad.value,G.degree.value=G.deg.value,G.gradian.value=G.grad.value}j(p),c&&c("config",(function(e,t){e.number!==t.number&&j(e)}));var H={si:{NONE:{unit:$,prefix:P.NONE[""]},LENGTH:{unit:G.m,prefix:P.SHORT[""]},MASS:{unit:G.g,prefix:P.SHORT.k},TIME:{unit:G.s,prefix:P.SHORT[""]},CURRENT:{unit:G.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:G.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:G.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:G.mol,prefix:P.SHORT[""]},ANGLE:{unit:G.rad,prefix:P.SHORT[""]},BIT:{unit:G.bits,prefix:P.SHORT[""]},FORCE:{unit:G.N,prefix:P.SHORT[""]},ENERGY:{unit:G.J,prefix:P.SHORT[""]},POWER:{unit:G.W,prefix:P.SHORT[""]},PRESSURE:{unit:G.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:G.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:G.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:G.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:G.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:G.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:G.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:G.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:G.T,prefix:P.SHORT[""]},FREQUENCY:{unit:G.Hz,prefix:P.SHORT[""]}}};H.cgs=JSON.parse(JSON.stringify(H.si)),H.cgs.LENGTH={unit:G.m,prefix:P.SHORT.c},H.cgs.MASS={unit:G.g,prefix:P.SHORT[""]},H.cgs.FORCE={unit:G.dyn,prefix:P.SHORT[""]},H.cgs.ENERGY={unit:G.erg,prefix:P.NONE[""]},H.us=JSON.parse(JSON.stringify(H.si)),H.us.LENGTH={unit:G.ft,prefix:P.NONE[""]},H.us.MASS={unit:G.lbm,prefix:P.NONE[""]},H.us.TEMPERATURE={unit:G.degF,prefix:P.NONE[""]},H.us.FORCE={unit:G.lbf,prefix:P.NONE[""]},H.us.ENERGY={unit:G.BTU,prefix:P.BTU[""]},H.us.POWER={unit:G.hp,prefix:P.NONE[""]},H.us.PRESSURE={unit:G.psi,prefix:P.NONE[""]},H.auto=JSON.parse(JSON.stringify(H.si));var W=H.auto;for(var X in I.setUnitSystem=function(e){if(!(0,a.nr)(H,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(H).join(", "));W=H[e]},I.getUnitSystem=function(){for(var e in H)if((0,a.nr)(H,e)&&H[e]===W)return e},I.typeConverters={BigNumber:function(e){return new M(e+"")},Fraction:function(e){return new _(e)},Complex:function(e){return e},number:function(e){return e}},I._getNumberConverter=function(e){if(!I.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return I.typeConverters[e]},G)if((0,a.nr)(G,X)){var Y=G[X];Y.dimensions=Y.base.dimensions}for(var Z in K)if((0,a.nr)(K,Z)){var J=G[K[Z]],Q={};for(var ee in J)(0,a.nr)(J,ee)&&(Q[ee]=J[ee]);Q.name=Z,G[Z]=Q}return I.createUnit=function(e,t){if("object"!==u(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var r in e)if((0,a.nr)(e,r)&&I.deleteUnit(r),e[r].aliases)for(var n=0;n<e[r].aliases.length;n++)I.deleteUnit(e[r].aliases[n]);var i;for(var s in e)(0,a.nr)(e,s)&&(i=I.createUnitSingle(s,e[s]));return i},I.createUnitSingle=function(e,t,r){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if((0,a.nr)(G,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),n=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!n(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!n(r)&&!function(e){return e>="0"&&e<="9"}(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var n,i,s,o=null,l=[],c=0;if(t&&"Unit"===t.type)o=t.clone();else if("string"==typeof t)""!==t&&(n=t);else{if("object"!==u(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');n=t.definition,i=t.prefixes,c=t.offset,s=t.baseName,t.aliases&&(l=t.aliases.valueOf())}if(l)for(var h=0;h<l.length;h++)if((0,a.nr)(G,l[h]))throw new Error('Cannot create alias "'+l[h]+'": a unit with that name already exists');if(n&&"string"==typeof n&&!o)try{o=I.parse(n,{allowNoUnits:!0})}catch(t){throw t.message='Could not create unit "'+e+'" from "'+n+'": '+t.message,t}else n&&"Unit"===n.type&&(o=n.clone());l=l||[],c=c||0,i=i&&i.toUpperCase&&P[i.toUpperCase()]||P.NONE;var p={};if(o){p={name:e,value:o.value,dimensions:o.dimensions.slice(0),prefixes:i,offset:c};var f=!1;for(var m in V)if((0,a.nr)(V,m)){for(var d=!0,g=0;g<B.length;g++)if(Math.abs((p.dimensions[g]||0)-(V[m].dimensions[g]||0))>1e-12){d=!1;break}if(d){f=!0,p.base=V[m];break}}if(!f){s=s||e+"_STUFF";var y={dimensions:o.dimensions.slice(0)};y.key=s,V[s]=y,W[s]={unit:p,prefix:P.NONE[""]},p.base=V[s]}}else{if(s=s||e+"_STUFF",B.indexOf(s)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var v in B.push(s),V)(0,a.nr)(V,v)&&(V[v].dimensions[B.length-1]=0);for(var x={dimensions:[]},b=0;b<B.length;b++)x.dimensions[b]=0;x.dimensions[B.length-1]=1,x.key=s,V[s]=x,p={name:e,value:1,dimensions:V[s].dimensions.slice(0),prefixes:i,offset:c,base:V[s]},W[s]={unit:p,prefix:P.NONE[""]}}I.UNITS[e]=p;for(var w=0;w<l.length;w++){var S=l[w],E={};for(var A in p)(0,a.nr)(p,A)&&(E[A]=p[A]);E.name=S,I.UNITS[S]=E}return new I(null,e)},I.deleteUnit=function(e){delete I.UNITS[e]},I.PREFIXES=P,I.BASE_DIMENSIONS=B,I.BASE_UNITS=V,I.UNIT_SYSTEMS=H,I.UNITS=G,I}),{isClass:!0})},5804:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var n=(0,r(2893).d5)("createUnit",["typed","Unit"],(function(e){var t=e.typed,r=e.Unit;return t("createUnit",{"Object, Object":function(e,t){return r.createUnit(e,t)},Object:function(e){return r.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,n){var i={};return i[e]=t,r.createUnit(i,n)},"string, Unit | string | Object":function(e,t){var n={};return n[e]=t,r.createUnit(n,{})},string:function(e){var t={};return t[e]={},r.createUnit(t,{})}})}))},1238:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n=(0,r(2893).d5)("splitUnit",["typed"],(function(e){return(0,e.typed)("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})}))},5326:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(2893),i=r(8664),s=(0,n.d5)("unit",["typed","Unit"],(function(e){var t=e.typed,r=e.Unit;return t("unit",{Unit:function(e){return e.clone()},string:function(e){return r.isValuelessUnit(e)?new r(null,e):r.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,t){return new r(e,t)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},1167:(e,t,r)=>{"use strict";r.d(t,{ss:()=>i,nH:()=>s,$M:()=>a,Yv:()=>o,ax:()=>u,JS:()=>l,xx:()=>c,ir:()=>h,IW:()=>p,ri:()=>f,u1:()=>m,Km:()=>d,RZ:()=>g,d:()=>y,VL:()=>v,pz:()=>x,jp:()=>b,o8:()=>w,Zu:()=>S,Rw:()=>E,c0:()=>A,BL:()=>T,zP:()=>M,j5:()=>_,kL:()=>N,A0:()=>I,V9:()=>C,Dg:()=>O,sW:()=>k,_C:()=>D,rK:()=>R,Gw:()=>L,Go:()=>F,Uu:()=>U,sD:()=>z,Vv:()=>P,cn:()=>B,lR:()=>V,lr:()=>q,GI:()=>$,zt:()=>G,W5:()=>K,xt:()=>j,Qr:()=>H,CQ:()=>W,Ps:()=>X,v0:()=>Y,of:()=>Z,B7:()=>J,Oz:()=>Q});var n=r(2893),i=ee("speedOfLight","299792458","m s^-1"),s=ee("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),a=ee("planckConstant","6.62607015e-34","J s"),o=ee("reducedPlanckConstant","1.0545718176461565e-34","J s"),u=ee("magneticConstant","1.25663706212e-6","N A^-2"),l=ee("electricConstant","8.8541878128e-12","F m^-1"),c=ee("vacuumImpedance","376.730313667","ohm"),h=ee("coulomb","8.987551792261171e9","N m^2 C^-2"),p=ee("elementaryCharge","1.602176634e-19","C"),f=ee("bohrMagneton","9.2740100783e-24","J T^-1"),m=ee("conductanceQuantum","7.748091729863649e-5","S"),d=ee("inverseConductanceQuantum","12906.403729652257","ohm"),g=ee("magneticFluxQuantum","2.0678338484619295e-15","Wb"),y=ee("nuclearMagneton","5.0507837461e-27","J T^-1"),v=ee("klitzing","25812.807459304513","ohm"),x=ee("bohrRadius","5.29177210903e-11","m"),b=ee("classicalElectronRadius","2.8179403262e-15","m"),w=ee("electronMass","9.1093837015e-31","kg"),S=ee("fermiCoupling","1.1663787e-5","GeV^-2"),E=te("fineStructure",.0072973525693),A=ee("hartreeEnergy","4.3597447222071e-18","J"),T=ee("protonMass","1.67262192369e-27","kg"),M=ee("deuteronMass","3.3435830926e-27","kg"),_=ee("neutronMass","1.6749271613e-27","kg"),N=ee("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),I=ee("rydberg","10973731.568160","m^-1"),C=ee("thomsonCrossSection","6.6524587321e-29","m^2"),O=te("weakMixingAngle",.2229),k=te("efimovFactor",22.7),D=ee("atomicMass","1.66053906660e-27","kg"),R=ee("avogadro","6.02214076e23","mol^-1"),L=ee("boltzmann","1.380649e-23","J K^-1"),F=ee("faraday","96485.33212331001","C mol^-1"),U=ee("firstRadiation","3.7417718521927573e-16","W m^2"),z=ee("loschmidt","2.686780111798444e25","m^-3"),P=ee("gasConstant","8.31446261815324","J K^-1 mol^-1"),B=ee("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),V=ee("molarVolume","0.022413969545014137","m^3 mol^-1"),q=te("sackurTetrode",-1.16487052358),$=ee("secondRadiation","0.014387768775039337","m K"),G=ee("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),K=ee("wienDisplacement","2.897771955e-3","m K"),j=ee("molarMass","0.99999999965e-3","kg mol^-1"),H=ee("molarMassC12","11.9999999958e-3","kg mol^-1"),W=ee("gravity","9.80665","m s^-2"),X=ee("planckLength","1.616255e-35","m"),Y=ee("planckMass","2.176435e-8","kg"),Z=ee("planckTime","5.391245e-44","s"),J=ee("planckCharge","1.87554603778e-18","C"),Q=ee("planckTemperature","1.416785e+32","K");function ee(e,t,r){return(0,n.d5)(e,["config","Unit","BigNumber"],(function(e){var n=e.config,i=e.Unit,s=e.BigNumber,a=new i("BigNumber"===n.number?new s(t):parseFloat(t),r);return a.fixPrefix=!0,a}))}function te(e,t){return(0,n.d5)(e,["config","BigNumber"],(function(e){var r=e.config,n=e.BigNumber;return"BigNumber"===r.number?new n(t):t}))}},8684:(e,t,r)=>{"use strict";r.d(t,{aJ:()=>u,Gu:()=>l,Ls:()=>c,SI:()=>h,XL:()=>p,L9:()=>f,f4:()=>m,xH:()=>d,Ed:()=>g,hX:()=>y,U_:()=>v,yV:()=>x,D$:()=>b,$q:()=>w});var n=r(4008),i=r(4080),s=r(5116),a=r(620),o=r(4714);function u(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function l(e,t){if(0===t.length){if(Array.isArray(e))throw new a.m(e.length,0)}else!function e(t,r,n){var i,s=t.length;if(s!==r[n])throw new a.m(s,r[n]);if(n<r.length-1){var o=n+1;for(i=0;i<s;i++){var u=t[i];if(!Array.isArray(u))throw new a.m(r.length-1,r.length,"<");e(t[i],r,o)}}else for(i=0;i<s;i++)if(Array.isArray(t[i]))throw new a.m(r.length+1,r.length,">")}(e,t,0)}function c(e,t){if(!(0,i.hj)(e)||!(0,n.U)(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new o.c(e,t)}function h(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!(0,i.hj)(e)||!(0,n.U)(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,s.WU)(t)+")")})),function e(t,r,n,i){var s,a,o=t.length,u=r[n],l=Math.min(o,u);if(t.length=u,n<r.length-1){var c=n+1;for(s=0;s<l;s++)a=t[s],Array.isArray(a)||(a=[a],t[s]=a),e(a,r,c,i);for(s=l;s<u;s++)a=[],t[s]=a,e(a,r,c,i)}else{for(s=0;s<l;s++)for(;Array.isArray(t[s]);)t[s]=t[s][0];for(s=l;s<u;s++)t[s]=i}}(e,t,0,void 0!==r?r:0),e}function p(e,t){var r,n=d(e);function i(e){return e.reduce((function(e,t){return e*t}))}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new a.m(0,i(u(e)),"!=");for(var s=1,o=0;o<t.length;o++)s*=t[o];if(n.length!==s)throw new a.m(i(t),i(u(e)),"!=");try{r=function(e,t){for(var r,n=e,i=t.length-1;i>0;i--){var s=t[i];r=[];for(var a=n.length/s,o=0;o<a;o++)r.push(n.slice(o*s,(o+1)*s));n=r}return n}(n,t)}catch(r){if(r instanceof a.m)throw new a.m(i(t),i(u(e)),"!=");throw r}return r}function f(e,t){for(var r=t||u(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=function e(t,r,n){var i,s;if(n<r){var a=n+1;for(i=0,s=t.length;i<s;i++)t[i]=e(t[i],r,a)}else for(;Array.isArray(t);)t=t[0];return t}(e,n,0),r.length=n),e}function m(e,t,r,n){var i=n||u(e);if(r)for(var s=0;s<r;s++)e=[e],i.unshift(1);for(e=function e(t,r,n){var i,s;if(Array.isArray(t)){var a=n+1;for(i=0,s=t.length;i<s;i++)t[i]=e(t[i],r,a)}else for(var o=n;o<r;o++)t=[t];return t}(e,t,0);i.length<t;)i.push(1);return e}function d(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(r){Array.isArray(r)?r.forEach(e):t.push(r)})),t}function g(e,t){Array.prototype.forEach.call(e,t)}function y(e,t){if(1!==u(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function v(e,t){if(1!==u(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(function(e){return t.test(e)}))}function x(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t}function b(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t}function w(e,t){for(var r,n=0,i=0;i<e.length;i++){var s=e[i],a=Array.isArray(s);if(0===i&&a&&(n=s.length),a&&s.length!==n)return;var o=a?w(s,t):t(s);if(void 0===r)r=o;else if(r!==o)return"mixed"}return r}},359:(e,t,r)=>{"use strict";function n(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return a(e,t,(function(e,t){return e&t}))}function i(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}function s(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?a(e,t,(function(e,t){return e|t})):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function a(e,t,r){var n,s,a,u,l,c=e.constructor,h=+(e.s<0),p=+(t.s<0);if(h){n=o(i(e));for(var f=0;f<n.length;++f)n[f]^=1}else n=o(e);if(p){s=o(i(t));for(var m=0;m<s.length;++m)s[m]^=1}else s=o(t);n.length<=s.length?(a=n,u=s,l=h):(a=s,u=n,l=p);var d=a.length,g=u.length,y=1^r(h,p),v=new c(1^y),x=new c(1),b=new c(2),w=c.precision;for(c.config({precision:1e9});d>0;)r(a[--d],u[--g])===y&&(v=v.plus(x)),x=x.times(b);for(;g>0;)r(l,u[--g])===y&&(v=v.plus(x)),x=x.times(b);return c.config({precision:w}),0===y&&(v.s=-v.s),v}function o(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",s=7-i.length;s--;)i="0"+i;r+=i}for(var a=r.length;"0"===r.charAt(a);)a--;var o=e.e,u=r.slice(0,a+1||1),l=u.length;if(o>0)if(++o>l)for(o-=l;o--;)u+="0";else o<l&&(u=u.slice(0,o)+"."+u.slice(o));for(var c=[0],h=0;h<u.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(u.charAt(h++));for(var f=0;f<c.length;++f)c[f]>1&&(null!==c[f+1]&&void 0!==c[f+1]||(c[f+1]=0),c[f+1]+=c[f]>>1,c[f]&=1)}return c.reverse()}function u(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?i(t):t.eq(n)?i(e):e.isFinite()&&t.isFinite()?a(e,t,(function(e,t){return e^t})):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n}function l(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}function c(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)}r.d(t,{hi:()=>n,Xc:()=>i,Vq:()=>s,nN:()=>u,Mw:()=>l,ti:()=>c})},6294:(e,t,r)=>{"use strict";r.d(t,{vu:()=>i,zm:()=>s,wY:()=>a,j_:()=>o});var n=r(6477),i=(0,n.HP)((function(e){return new e(1).exp()}),u),s=(0,n.HP)((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),u),a=(0,n.HP)((function(e){return e.acos(-1)}),u),o=(0,n.HP)((function(e){return a(e).times(2)}),u);function u(e){return e[0].precision}},1129:(e,t,r)=>{"use strict";function n(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r))}return!1}r.d(t,{R:()=>n})},8664:(e,t,r)=>{"use strict";r.d(t,{CQ:()=>a,Et:()=>o,Fh:()=>u,u4:()=>l,U6:()=>h});var n=r(4080),i=r(4714),s=r(8684);function a(e){for(var t=0;t<e.length;t++)if((0,n.uZ)(e[t]))return!0;return!1}function o(e,t){(0,n.SW)(e)&&(e=e.valueOf());for(var r=0,i=e.length;r<i;r++){var s=e[r];Array.isArray(s)?o(s,t):t(s)}}function u(e,t,r){return e&&"function"==typeof e.map?e.map((function(e){return u(e,t,r)})):t(e)}function l(e,t,r){var a=Array.isArray(e)?(0,s.aJ)(e):e.size();if(t<0||t>=a.length)throw new i.c(t,a.length);return(0,n.SW)(e)?e.create(c(e.valueOf(),t,r)):c(e,t,r)}function c(e,t,r){var n,i,s,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,r,n=e.length,i=e[0].length,s=[];for(r=0;r<i;r++){var a=[];for(t=0;t<n;t++)a.push(e[t][r]);s.push(a)}return s}(e),i=[],n=0;n<a.length;n++)i[n]=c(a[n],t-1,r);return i}for(s=e[0],n=1;n<e.length;n++)s=r(s,e[n]);return s}for(i=[],n=0;n<e.length;n++)i[n]=c(e[n],t-1,r);return i}function h(e,t,r,n,i,s,a,o,u,l,c){var h,p,f,m,d=e._values,g=e._index,y=e._ptr;if(n)for(p=y[t],f=y[t+1],h=p;h<f;h++)r[m=g[h]]!==s?(r[m]=s,a.push(m),l?(n[m]=u?o(d[h],c):o(c,d[h]),i[m]=s):n[m]=d[h]):(n[m]=u?o(d[h],n[m]):o(n[m],d[h]),i[m]=s);else for(p=y[t],f=y[t+1],h=p;h<f;h++)r[m=g[h]]!==s?(r[m]=s,a.push(m)):i[m]=s}},9913:(e,t,r)=>{"use strict";r.d(t,{YF:()=>s,nI:()=>a});var n=r(6713);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(u(e)&&o(e,t))return e[t];if("function"==typeof e[t]&&function(e,t){return!(null==e||"function"!=typeof e[t]||(0,n.nr)(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!(0,n.nr)(c,t)&&(t in Object.prototype||t in Function.prototype))}(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function a(e,t,r){if(u(e)&&o(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function o(e,t){return!(!e||"object"!==i(e)||!(0,n.nr)(l,t)&&(t in Object.prototype||t in Function.prototype))}function u(e){return"object"===i(e)&&e&&e.constructor===Object}var l={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0}},2893:(e,t,r)=>{"use strict";r.d(t,{d5:()=>i});var n=r(6713);function i(e,t,r,i){function a(i){var a=(0,n.W6)(i,t.map(s));return function(e,t,r){if(!t.filter((function(e){return!function(e){return e&&"?"===e[0]}(e)})).every((function(e){return void 0!==r[e]}))){var n=t.filter((function(e){return void 0===r[e]}));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map((function(e){return'"'.concat(e,'"')})).join(", "),"."))}}(e,t,i),r(a)}return a.isFactory=!0,a.fn=e,a.dependencies=t.slice().sort(),i&&(a.meta=i),a}function s(e){return e&&"?"===e[0]?e.slice(1):e}},6477:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function r(){"object"!==n(r.cache)&&(r.cache={});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=t?t(i):JSON.stringify(i);return a in r.cache||(r.cache[a]=e.apply(e,i)),r.cache[a]}}function s(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)}),-1)}r.d(t,{HP:()=>i,oV:()=>s})},4080:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"number"==typeof e}function s(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function a(e){return e&&"object"===n(e)&&!0===Object.getPrototypeOf(e).isComplex||!1}function o(e){return e&&"object"===n(e)&&!0===Object.getPrototypeOf(e).isFraction||!1}function u(e){return e&&!0===e.constructor.prototype.isUnit||!1}function l(e){return"string"==typeof e}r.d(t,{hj:()=>i,l9:()=>s,Mc:()=>a,yQ:()=>o,wr:()=>u,HD:()=>l,kJ:()=>c,SW:()=>h,uZ:()=>p,jH:()=>f,sA:()=>m,bR:()=>d,dh:()=>g,jn:()=>y,cB:()=>v,x1:()=>x,mf:()=>b,J_:()=>w,Kj:()=>S,Kn:()=>E,Ft:()=>A,o8:()=>T,Yz:()=>M,j0:()=>_,Bp:()=>N,zh:()=>I,tS:()=>C,nu:()=>O,l7:()=>k,VO:()=>D,Cl:()=>R,UG:()=>L,Lr:()=>F,bV:()=>U,Ig:()=>z,ex:()=>P,FG:()=>B,qg:()=>V,kM:()=>q});var c=Array.isArray;function h(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function p(e){return Array.isArray(e)||h(e)}function f(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function m(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function d(e){return e&&!0===e.constructor.prototype.isRange||!1}function g(e){return e&&!0===e.constructor.prototype.isIndex||!1}function y(e){return"boolean"==typeof e}function v(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function x(e){return e&&!0===e.constructor.prototype.isHelp||!1}function b(e){return"function"==typeof e}function w(e){return e instanceof Date}function S(e){return e instanceof RegExp}function E(e){return!(!e||"object"!==n(e)||e.constructor!==Object||a(e)||o(e))}function A(e){return null===e}function T(e){return void 0===e}function M(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function _(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function N(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function I(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function C(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function O(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function k(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function D(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function R(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function L(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function F(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function U(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function z(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function P(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function B(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function V(e){return e&&!0===e.constructor.prototype.isChain||!1}function q(e){var t=n(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":s(e)?"BigNumber":a(e)?"Complex":o(e)?"Fraction":h(e)?"Matrix":u(e)?"Unit":g(e)?"Index":d(e)?"Range":v(e)?"ResultSet":L(e)?e.type:V(e)?"Chain":x(e)?"Help":"Object":"function"===t?"Function":t}},826:(e,t,r)=>{"use strict";function n(){throw new Error('No "bignumber" implementation available')}function i(){throw new Error('No "fraction" implementation available')}function s(){throw new Error('No "matrix" implementation available')}r.d(t,{R3:()=>n,nG:()=>i,kX:()=>s})},4008:(e,t,r)=>{"use strict";r.d(t,{U:()=>i,Xx:()=>s,k3:()=>a,mv:()=>o,Kr:()=>u,eK:()=>l,t$:()=>c,WU:()=>h,FH:()=>f,nz:()=>y,RI:()=>x,__:()=>b,Vf:()=>w,C8:()=>S,f9:()=>E,R_:()=>A,AE:()=>T});var n=r(4080);function i(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var s=Math.sign||function(e){return e>0?1:e<0?-1:0},a=Math.log2||function(e){return Math.log(e)/Math.LN2},o=Math.log10||function(e){return Math.log(e)/Math.LN10},u=Math.log1p||function(e){return Math.log(e+1)},l=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,r?-t:t},c=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function h(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r,i="auto";switch(t&&(t.notation&&(i=t.notation),(0,n.hj)(t)?r=t:(0,n.hj)(t.precision)&&(r=t.precision)),i){case"fixed":return f(e,r);case"exponential":return m(e,r);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=d(p(e),t),i=r.exponent,s=r.coefficients,a=i%3==0?i:i<0?i-3-i%3:i-i%3;if((0,n.hj)(t))for(;t>s.length||i-a+1>s.length;)s.push(0);else for(var o=Math.abs(i-a)-(s.length-1),u=0;u<o;u++)s.push(0);for(var l=Math.abs(i-a),c=1;l>0;)c++,l--;var h=s.slice(c).join(""),f=(0,n.hj)(t)&&h.length||h.match(/[1-9]/)?"."+h:"",m=s.slice(0,c).join("")+f+"e"+(i>=0?"+":"")+a.toString();return r.sign+m}(e,r);case"auto":return function(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,s=p(e),a=t?d(s,t):s;if(a.exponent<n||a.exponent>=i)return m(e,t);var o=a.coefficients,u=a.exponent;o.length<t&&(o=o.concat(g(t-o.length))),o=o.concat(g(u-o.length+1+(o.length<t?t-o.length:0)));var l=u>0?u:0;return l<(o=g(-u).concat(o)).length-1&&o.splice(l+1,0,"."),a.sign+o.join("")}(e,r,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}}function p(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),s=n.indexOf(".");i+=-1!==s?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function f(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=p(e),n="number"==typeof t?d(r,r.exponent+1+t):r,i=n.coefficients,s=n.exponent+1,a=s+(t||0);return i.length<a&&(i=i.concat(g(a-i.length))),s<0&&(i=g(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),n.sign+i.join("")}function m(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=p(e),n=t?d(r,t):r,i=n.coefficients,s=n.exponent;i.length<t&&(i=i.concat(g(t-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function d(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++}return r}function g(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function y(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var v=Number.EPSILON||2220446049250313e-31;function x(e,t,r){if(null==r)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<v||n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}var b=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},w=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},S=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},E=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},A=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},T=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)}},6713:(e,t,r)=>{"use strict";r.d(t,{d9:()=>s,l7:()=>a,J5:()=>o,nr:()=>u,W6:()=>l});var n=r(4080);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){var t=i(e);if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return s(e)}));if(e instanceof Date)return new Date(e.valueOf());if((0,n.l9)(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return function(e,t){var r={};for(var n in e)u(e,n)&&(r[n]=t(e[n]));return r}(e,s)}function a(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return e}function o(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!o(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!o(e[r],t[r]))return!1;for(r in t)if(!(r in e)||!o(e[r],t[r]))return!1;return!0}return e===t}function u(e,t){return e&&Object.hasOwnProperty.call(e,t)}function l(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],s=e[i];void 0!==s&&(r[i]=s)}return r}},2424:(e,t,r)=>{"use strict";function n(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return n(e,r)*n(r+1,t)}r.d(t,{O:()=>n})},5116:(e,t,r)=>{"use strict";r.d(t,{pn:()=>o,WU:()=>u,cd:()=>l});var n=r(4080),i=r(4008);function s(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t}function u(e,t){return"number"==typeof e?(0,i.WU)(e,t):(0,n.l9)(e)?function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==t&&(t.notation&&(n=t.notation),"number"==typeof t?r=t:t.precision&&(r=t.precision)),n){case"fixed":return function(e,t){return e.toFixed(t)}(e,r);case"exponential":return s(e,r);case"engineering":return function(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),s=i.toPrecision(t);return-1!==s.indexOf("e")&&(s=i.toString()),s+"e"+(r>=0?"+":"")+n.toString()}(e,r);case"auto":var i=t&&void 0!==t.lowerExp?t.lowerExp:-3,a=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var o=e.toSignificantDigits(r),u=o.e;return(u>=i&&u<a?o.toFixed():s(e,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}(e,t):function(e){return e&&"object"===a(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?function e(t,r){if(Array.isArray(t)){for(var n="[",i=t.length,s=0;s<i;s++)0!==s&&(n+=", "),n+=e(t[s],r);return n+"]"}return u(t,r)}(e,t):(0,n.HD)(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"===a(e)?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((function(r){return'"'+r+'": '+u(e[r],t)})).join(", ")+"}":String(e)}function l(e,t){if(!(0,n.HD)(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,n.kM)(e)+", index: 0)");if(!(0,n.HD)(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,n.kM)(t)+", index: 1)");return e===t?0:e>t?1:-1}},684:(e,t,r)=>{var n=r(7182);r(6238),function(){"use strict";var e=n.getCore(),t=e.PARSER,r=e.groups.N,i=e.groups.P,s=e.groups.S,a=e.groups.EX,o=e.groups.FN,u=e.groups.PL,l=e.groups.CP,c=e.groups.CB,h=e.Utils.keys,p=e.Utils.variables,f=e.Utils.format,m=e.Utils.round,d=e.Frac,g=e.Utils.isInt,y=e.Symbol,v=e.Settings.CONST_HASH,x=e.Utils.importFunctions(),b=e.Utils.evaluate;function w(r,n,i){if(e.Utils.isSymbol(r))this.parse(r),this.variable=this.variable||n;else if(isNaN(r))"string"==typeof r&&this.parse(t.parse(r));else{if(i=i||0,void 0===n)throw new e.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[i]=r,this.fill(r)}}function S(){this.factors={},this.length=0}function E(t,r,n){this.terms=r||[],this.coeff=t,this.map=n,this.sum=new e.Frac(0),this.image=void 0}w.fromArray=function(t,r){if(void 0===r)throw new e.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var n=new w;return n.coeffs=t,n.variable=r,n},w.fit=function(e,t,r,n,i,s){var a=new Array(i+1),o=r-t;a[0]=t,a[i]=e,o-=e*Math.pow(n,i);for(var u=i-1;u>0;u--){var l=Math.pow(n,u),c=o/l,h=Math.sign(c)*Math.floor(Math.abs(c));o-=h*l,a[u]=h}if(0!==o)return null;for(u=0;u<a.length;u++)a[u]=new d(a[u]);return w.fromArray(a,s)},w.prototype={parse:function(n,i){if(this.variable=p(n)[0],!n.isPoly())throw e.exceptions.NerdamerTypeError("Polynomial Expected! Received "+e.Utils.text(n));if(i=i||[],n.power.absEquals(1)||(n=t.expand(n)),n.group===e.groups.N)i[0]=n.multiplier;else if(n.group===e.groups.S)i[n.power.toDecimal()]=n.multiplier;else for(var s in n.symbols){var a=n.symbols[s],o=a.power;if(e.Utils.isSymbol(o))throw new e.exceptions.NerdamerTypeError("power cannot be a Symbol");o=a.group===r?0:o.toDecimal(),a.symbols?this.parse(a,i):i[o]=a.multiplier}this.coeffs=i,this.fill()},fill:function(e){e=Number(e)||0;for(var t=this.coeffs.length,r=0;r<t;r++)void 0===this.coeffs[r]&&(this.coeffs[r]=new d(e));return this},trim:function(){for(var e=this.coeffs.length;e--;){var t=this.coeffs[e],r=t.equals(0);if(!t||!r)break;if(0===e)break;this.coeffs.pop()}return this},modP:function(e){for(var t=this.coeffs.length,r=0;r<t;r++){var n=this.coeffs[r];if(n<0){for(var i,s=r;s<t;s++)if(this.coeffs[s]>0){i=this.coeffs[s];break}if(i){for(;s>r;s--)this.coeffs[s]=this.coeffs[s].subtract(new d(1)),this.coeffs[s-1]=this.coeffs[s-1].add(new d(e));n=this.coeffs[r]}}var a=n.mod(e),o=n.subtract(a).divide(e);if(!o.equals(0)){var u=r+1,l=this.coeffs[u]||new d(0);l=l.add(o),this.coeffs[u]=new d(l),this.coeffs[r]=new d(a)}}return this},add:function(e){for(var t=Math.max(this.coeffs.length,e.coeffs.length),r=0;r<t;r++){var n=this.coeffs[r]||new d(0),i=e.coeffs[r]||new d(0);this.coeffs[r]=n.add(i)}return this},subtract:function(e){for(var t=Math.max(this.coeffs.length,e.coeffs.length),r=0;r<t;r++){var n=this.coeffs[r]||new d(0),i=e.coeffs[r]||new d(0);this.coeffs[r]=n.subtract(i)}return this},divide:function(t){for(var r=this.variable,n=e.Utils.arrayClone(this.coeffs),i=e.Utils.arrayClone(t.coeffs),s=n.length,a=i.length-1,o=[],u=0;u<s;u++){var l=s-(u+1),c=l-a,h=n[l].divide(i[a]);if(c<0)break;o[c]=h;for(var p=0;p<=a;p++)n[p+c]=n[p+c].subtract(i[p].multiply(h))}var f=w.fromArray(n,r||"x").trim();return[w.fromArray(o,r||"x"),f]},multiply:function(e){for(var t=this.coeffs.length,r=e.coeffs.length,n=[],i=0;i<t;i++)for(var s=this.coeffs[i],a=0;a<r;a++){var o=i+a,u=e.coeffs[a],l=n[o]||new d(0);n[o]=l.add(s.multiply(u))}return this.coeffs=n,this},isZero:function(){for(var e=this.coeffs.length,t=0;t<e;t++)if(!this.coeffs[t].equals(0))return!1;return!0},sub:function(e){for(var t=new d(0),r=this.coeffs.length,n=0;n<r;n++){var i=this.coeffs[n];i.equals(0)||(t=t.add(i.multiply(new d(Math.pow(e,n)))))}return t},clone:function(){var e=new w;return e.coeffs=this.coeffs,e.variable=this.variable,e},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var e=this.lc(),t=this.coeffs.length,r=0;r<t;r++)this.coeffs[r]=this.coeffs[r].divide(e);return this},gcd:function(t){if(this.coeffs.length-1<t.coeffs.length-1)return t.gcd(this);for(var r=this;!t.isZero();){var n=t.clone();t=(r=r.clone()).divide(n)[1],r=n}var i=e.Math2.QGCD.apply(null,r.coeffs);if(!i.equals(1))for(var s=r.coeffs.length,a=0;a<s;a++)r.coeffs[a]=r.coeffs[a].divide(i);return r},diff:function(){for(var e=[],t=this.coeffs.length,r=1;r<t;r++)e.push(this.coeffs[r].multiply(new d(r)));return this.coeffs=e,this},integrate:function(){for(var e=[0],t=this.coeffs.length,r=0;r<t;r++){var n=new d(r+1);e[n]=this.coeffs[r].divide(n)}return this.coeffs=e,this},gcf:function(t){for(var r=[],n=0;n<this.coeffs.length;n++){var i=this.coeffs[n];i.equals(0)||-1!==r.indexOf(i)||r.push(i)}var s=[e.Math2.QGCD.apply(void 0,r),function(e){for(var t=0;t<e.length;t++)if(!e[t].equals(0))return t}(this.coeffs)].toDecimal();if(t){var a=[];a[s[1]-1]=s[0],s=w.fromArray(a,this.variable).fill()}return s},quad:function(e){var t=[];if(this.coeffs.length>3)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(0===this.coeffs.length)throw new Error("Polynomial array has no terms");var r=this.coeffs[2]||0,n=this.coeffs[1]||0,i=n*n-4*r*this.coeffs[0];return i<0&&!e||(t[0]=(-n+Math.sqrt(i))/(2*r),t[1]=(-n-Math.sqrt(i))/(2*r)),t},squareFree:function(){for(var e=this.clone(),t=1,r=e.clone().diff(),n=e.clone().gcd(r),i=e.divide(n)[0],s=w.fromArray([new d(1)],e.variable);!n.equalsNumber(1);){var a=i.gcd(n),o=i.divide(a)[0];if(!o.equalsNumber(1)&&t>1){for(var u=o.clone(),l=1;l<t;l++)u.multiply(o.clone());o=u}s=s.multiply(o),t++,i=a,n=n.divide(a)[0]}return[s,i,t]},toSymbol:function(){var r=this.coeffs.length,n=this.variable;if(0===r)return new e.Symbol(0);for(var i=r-1,s="",a=0;a<r;a++){var o=a===i?"":"+",u=this.coeffs[a];u.equals(0)||(s+=u+"*"+n+"^"+a+o)}return t.parse(s)},equalsNumber:function(e){return this.trim(),1===this.coeffs.length&&this.coeffs[0].toDecimal()===String(e)},toString:function(){return this.toSymbol().toString()}},y.prototype.coeffs=function(e,r){r&&!this.isPoly(!0)&&t.error("Polynomial expected when requesting coefficients with order"),e=e||[];var n=this.clone().distributeMultiplier();if(n.isComposite())for(var i in n.symbols){var s=n.symbols[i];s.isComposite()?s.clone().distributeMultiplier().coeffs(e,r):r?e[s.isConstant()?0:s.power.toDecimal()]=s.multiplier:e.push(s.multiplier)}else if(r)e[n.isConstant(!0)?0:n.power.toDecimal()]=n.multiplier;else if(n.group===c&&n.isImaginary()){var a=new y(n.multiplier);n.each((function(e){(e.isConstant(!0)||e.imaginary)&&(a=t.multiply(a,e))})),e.push(a)}else e.push(n.multiplier);if(r)for(var o=0;o<e.length;o++)void 0===e[o]&&(e[o]=new y(0));return e},y.prototype.tBase=function(e){if(void 0===e)throw new Error("Symbol.tBase requires a map object!");for(var t=[],r=this.collectSymbols(null,null,null,!0),n=r.length,i=0;i<n;i++){var s=r[i],a=s.group,o=new E(s.multiplier,[],e);if(a===c)for(var u in s.symbols){var l=s.symbols[u];o.terms[e[u]]=l.power}else o.terms[e[s.value]]=s.power;t.push(o.fill()),o.updateCount()}return t},y.prototype.altVar=function(e){var t=this.multiplier.toString(),r=this.power.toString();return("1"===t?"":t+"*")+e+("1"===r?"":"^"+r)},y.prototype.sameVars=function(e){if(!this.symbols&&this.group!==e.group)return!1;for(var t in this.symbols){var r=this.symbols[t],n=e.symbols[t];if(!n)return!1;if(r.value!==n.value)return!1}return!0},y.prototype.groupTerms=function(r){var n,i,s;r=String(r);var a=[];return this.each((function(o){if(o.group===u){s=o.groupTerms(r);for(var l=0;l<s.length;l++){var c=s[l];c&&(a[l]=c)}}else n=e.Utils.decompose_fn(o,r,!0),i=n.x.value===r?Number(n.x.power):0,a[i]=t.add(a[i]||new y(0),n.a)})),a},y.prototype.collectFactors=function(){var e=[];return this.group===c?this.each((function(t){e.push(t.clone())})):e.push(this.clone()),e},S.prototype.getNumberSymbolics=function(){var e=0;return this.each((function(t){t.isConstant(!0)||e++})),e},S.prototype.add=function(r){if(r.equals(0))return this;if(r.equals(-1)&&this.length>0){var n=e.Utils.firstObject(this.factors,null,!0);return this.add(t.symfunction(e.Settings.PARENTHESIS,[n.obj]).negate()),delete this.factors[n.key],this.length--,this}if(r.group===c){var i=this;r.multiplier.equals(1)||i.add(new y(r.multiplier)),r.each((function(e){i.add(e)}))}else{this.preAdd&&(r=this.preAdd(r)),this.pFactor&&(r=t.pow(r,new y(this.pFactor)));var s=r.isConstant();if(s&&r.equals(1))return this;var a=s?r.value:r.text();a in this.factors?(this.factors[a]=t.multiply(this.factors[a],r),this.factors[a].equals(1)&&(delete this.factors[a],this.length--)):(this.factors[a]=r,this.length++)}return this},S.prototype.toSymbol=function(){for(var r=new y(1),n=Object.values(this.factors).sort((function(e,t){return e.group>t.group})),i=0,s=n.length;i<s;i++){var a=n[i],o=a.power.equals(1)&&""!==a.fname?t.symfunction(e.PARENTHESIS,[a]):a;r=t.multiply(r,o)}return""===r.fname&&(r=y.unwrapPARENS(r)),r},S.prototype.merge=function(e){for(var r in e)r in this.factors?this.factors[r]=t.multiply(this.factors[r],e[r]):this.factors[r]=e[r];return this},S.prototype.each=function(t){for(var r in this.factors){var n=this.factors[r];n.fname===e.PARENTHESIS&&n.isLinear()&&(n=n.args[0]),t.call(this,n,r)}return this},S.prototype.count=function(){return h(this.factors).length},S.prototype.clean=function(){try{var t=e.Settings.CONST_HASH;this.factors[t].lessThan(0)&&(this.factors[t].equals(-1)?delete this.factors[t]:this.factors[t].negate(),this.each((function(e){e.negate()})))}catch(e){}},S.prototype.toString=function(){return this.toSymbol().toString()},E.prototype.updateCount=function(){this.count=this.count||0;for(var e=0;e<this.terms.length;e++)this.terms[e].equals(0)||this.count++;return this},E.prototype.getVars=function(){for(var e=[],t=0;t<this.terms.length;t++){var r=this.terms[t];this.getRevMap(),r.equals(0)||e.push(this.rev_map[t])}return e.join(" ")},E.prototype.len=function(){return void 0===this.count&&this.updateCount(),this.count},E.prototype.toSymbol=function(e){e=e||this.getRevMap();for(var r=new y(this.coeff),n=0;n<this.terms.length;n++){var i=e[n],s=this.terms[n];if(!s.equals(0)&&i!==v){var a=new y(i);a.power=s,r=t.multiply(r,a)}}return r},E.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var e={};for(var t in this.map)e[this.map[t]]=t;return this.rev_map=e,e},E.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},E.prototype.getImg=function(){return this.image||this.generateImage(),this.image},E.prototype.fill=function(){for(var t=this.map.length,r=0;r<t;r++)void 0===this.terms[r]?this.terms[r]=new e.Frac(0):this.sum=this.sum.add(this.terms[r]);return this},E.prototype.divide=function(e){for(var t=this.coeff.divide(e.coeff),r=this.terms.length,n=new E(t,[],this.map),i=0;i<r;i++)n.terms[i]=this.terms[i].subtract(e.terms[i]),n.sum=n.sum.add(n.terms[i]);return n},E.prototype.multiply=function(e){for(var t=this.coeff.multiply(e.coeff),r=this.terms.length,n=new E(t,[],this.map),i=0;i<r;i++)n.terms[i]=this.terms[i].add(e.terms[i]),n.sum=n.sum.add(n.terms[i]);return n},E.prototype.isZero=function(){return this.coeff.equals(0)},E.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},e.Utils.toMapObj=function(e){for(var t=0,r={},n=0;n<e.length;n++){var i=e[n];void 0===r[i]&&(r[i]=t,t++)}return r.length=t,r},e.Utils.filledArray=function(e,t,r){for(var n=[];t--;)n[t]=r?new r(e):e;return n},e.Utils.arrSum=function(e){for(var t=0,r=e.length,n=0;n<r;n++)t+=e[n];return t},e.Utils.haveIntersection=function(e,t){var r;return t.length>e.length&&(r=t,t=e,e=r),e.some((function(e){return t.indexOf(e)>-1}))},e.Utils.subFunctions=function(t,r){r=r||{};var n=[];return t.each((function(t){if(t.group===o||t.previousGroup===o){var i=e.Utils.text(t,"hash"),s=r[i];if(s)n.push(t.altVar(s));else{var a=t.fname+h(r).length;r[i]=a,n.push(t.altVar(a))}}else t.group===c||t.group===u||t.group===l?n.push(e.Utils.subFunctions(t,r)):n.push(t.text())})),t.group===l||t.group===u?t.altVar(e.Utils.inBrackets(n.join("+"))):t.group===c?t.altVar(e.Utils.inBrackets(n.join("*"))):t.text()},e.Utils.getFunctionsSubs=function(e){var r={};for(var n in e)r[e[n]]=t.parse(n);return r};var A=e.Algebra={version:"1.4.6",proots:function(r,n){n=n||7;var i=[],a=function(e,t,r){for(var n=I(e,t,r).concat(i),s=0;s<0;s++)n.unshift(0);return n};if(r instanceof y&&r.isPoly()){if(r.distributeMultiplier(),r.group===u){var o=e.Utils.arrayMin(h(r.symbols)),l=r.symbols[o].clone().toUnitMultiplier();r=t.expand(t.divide(r,l)),i.push(0)}if(r.group===e.groups.S)return[0];if(r.group===e.groups.PL){var c=h(r.symbols),p=e.Utils.arrayMin(c);r=e.PARSER.divide(r,e.PARSER.parse(r.value+"^"+p))}for(var f=h(r.symbols).sort().pop(),d=r.group===e.groups.PL?r.symbols:r.symbols[f],g=d.group,x=(c=g===s?[d.power.toDecimal()]:h(d.symbols),[]),b=e.Utils.arrayMax(c),w=1;w<=b;w++){var S=0;-1!==c.indexOf(w+"")&&(S=g===s?d.multiplier:d.symbols[w].multiplier),x.unshift(S)}return x.push(r.symbols[v].multiplier),d.group===s&&(x[0]=d.multiplier),a(x,c,b)}if(e.Utils.isArray(r)){var E=r,A=(x=[],c=[],0);for(w=0;w<E.length;w++){for(var T=E[w][0],M=E[w][1],_=M-A-1,N=0;N<_;N++)x.unshift(0);x.unshift(T),0!==M&&c.push(M),A=M}return a(x,c,b=Math.max.apply(void 0,c))}throw new e.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!");function I(t,r,i){var s=t.slice(0);if(t.unshift(i),i>100)throw new e.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to 100. ");var a=[],o={};for(o.Degree=i,w=0;w<i;w++)a.push(0);var u=a.slice(0);function l(e,t,r,n,i,s){i[0]=s.b=n[0],i[1]=s.a=-t*s.b+n[1];for(var a=2;a<e;a++)i[a]=-(t*s.a+r*s.b)+n[a],s.b=s.a,s.a=i[a]}function c(e,t,r,n,i,s,a,o,u){var c=new Object,h=3;return c.b=c.a=0,l(t,a,o,s,u,c),i.c=c.a,i.d=c.b,Math.abs(i.c)<=100*e*Math.abs(s[t-1])&&Math.abs(i.d)<=100*e*Math.abs(s[t-2])||(i.h=o*n,Math.abs(i.d)>=Math.abs(i.c)?(h=2,i.e=r/i.d,i.f=i.c/i.d,i.g=a*n,i.a3=i.e*(i.g+r)+i.h*(n/i.d),i.a1=-r+i.f*n,i.a7=i.h+(i.f+a)*r):(h=1,i.e=r/i.c,i.f=i.d/i.c,i.g=i.e*a,i.a3=i.e*r+(i.g+i.h/i.c)*n,i.a1=-r*(i.d/i.c)+n,i.a7=i.g*i.d+i.h*i.f+r)),h}function h(e,t,r,n,i,s,a,o,u){var l;if(3!=r)if(l=1==r?i:n,Math.abs(s.a1)>10*e*Math.abs(l))for(s.a7/=s.a1,s.a3/=s.a1,a[0]=u[0],a[1]=-u[0]*s.a7+u[1],c=2;c<t;c++)a[c]=-u[c-1]*s.a7+o[c-2]*s.a3+u[c];else for(a[0]=0,a[1]=-u[0]*s.a7,c=2;c<t;c++)a[c]=-u[c-1]*s.a7+o[c-2]*s.a3;else{a[1]=a[0]=0;for(var c=2;c<t;c++)a[c]=o[c-2]}}function p(e,t,r,n,i,s,a,o,u,l,c,h,p,f,m,d,g){var y,v,x,b,w,S,E,A;t.b=t.a=0,3!=e&&(2!=e?(y=r+p*a+h*l,v=o+(p+f*l)*u):(y=(r+c)*l+h,v=(l+p)*o+f*u),0!=(A=-(E=-((w=(x=-m[d-1]/g[d])*s)+(S=x*x*i))+f*(b=-(m[d-2]+x*g[d-1])/g[d])*n)+v+x*y)&&(t.a=-(p*(S+w)+f*(x*n+b*s))/A+p,t.b=f*(1+E/A)))}function f(e,t,r,n){var i,s,a;n.sr=n.si=n.lr=n.li=0,0!=e?0!=r?(i=t/2,Math.abs(i)<Math.abs(r)?(a=-(a=r>=0?e:-e)+i*(i/Math.abs(r)),s=Math.sqrt(Math.abs(a))*Math.sqrt(Math.abs(r))):(a=-e/i*(r/i)+1,s=Math.sqrt(Math.abs(a))*Math.abs(i)),a>=0?(s=i>=0?-s:s,n.lr=(-i+s)/e,n.sr=0!=n.lr?r/n.lr/e:n.sr):(n.lr=n.sr=-i/e,n.si=Math.abs(s/e),n.li=-n.si)):n.lr=-t/e:n.sr=0!=t?-r/t:n.sr}function d(e,t,r,n,i,s,a,o,u,m,d,g){var y,v,x,b,w,S,E,A,T,M,_,N=new Object,I=0,C=0;r.NZ=0,S=n,A=i;do{if(N.li=N.lr=N.si=N.sr=0,f(1,S,A,N),r.szr=N.sr,r.szi=N.si,r.lzr=N.lr,r.lzi=N.li,Math.abs(Math.abs(r.szr)-Math.abs(r.lzr))>.01*Math.abs(r.lzr))break;for(l(a,S,A,u,s,o),v=Math.abs(-r.szr*o.b+o.a)+Math.abs(r.szi*o.b),M=Math.sqrt(Math.abs(A)),y=2*Math.abs(s[0]),w=-r.szr*o.b,_=1;_<t;_++)y=y*M+Math.abs(s[_]);if(v<=20*(y=(9*(y=y*M+Math.abs(w+o.a))+2*Math.abs(w)-7*(Math.abs(o.a+w)+M*Math.abs(o.b)))*e)){r.NZ=2;break}if(++I>20)break;if(I>=2&&b<=.01&&v>=x&&!C){for(l(a,S-=S*(b=b<e?Math.sqrt(e):Math.sqrt(b)),A+=A*b,u,s,o),_=0;_<5;_++)h(e,t,c(e,t,o.a,o.b,d,g,S,A,m),o.a,o.b,d,g,m,s);C=1,I=0}x=v,h(e,t,c(e,t,o.a,o.b,d,g,S,A,m),o.a,o.b,d,g,m,s),p(c(e,t,o.a,o.b,d,g,S,A,m),o,o.a,d.a1,d.a3,d.a7,o.b,d.c,d.d,d.f,d.g,d.h,S,A,g,t,u),E=o.a,0!=(T=o.b)&&(b=Math.abs((-A+T)/T),S=E,A=T)}while(0!=T)}function g(e,t,r,n,i,s,a,o,u){var l,c,h,p,f,m,d,g,y,v,x,b=n-1;for(t.NZ=x=y=0,d=r.a;;){for(m=i[0],a[0]=m,v=1;v<s;v++)a[v]=m=m*d+i[v];for(h=Math.abs(m),p=Math.abs(d),l=.5*Math.abs(a[0]),v=1;v<s;v++)l=l*p+Math.abs(a[v]);if(h<=20*e*(2*l-h)){t.NZ=1,t.szr=d,t.szi=0;break}if(++x>10)break;if(x>=2&&Math.abs(g)<=.001*Math.abs(-g+d)&&h>f){y=1,t.a=d;break}for(f=h,u[0]=c=o[0],v=1;v<n;v++)u[v]=c=c*d+o[v];if(Math.abs(c)>10*Math.abs(o[b])*e)for(g=-m/c,o[0]=a[0],v=1;v<n;v++)o[v]=g*u[v-1]+a[v];else for(o[0]=0,v=1;v<n;v++)o[v]=u[v-1];for(c=o[0],v=1;v<n;v++)c=c*d+o[v];d+=g=Math.abs(c)>10*Math.abs(o[b])*e?-m/c:0}return y}function y(e,t,r,n,i,s,a,o,u,f,m,y){var v,x,b,w,S,E,A,T,M,_,N,I,C,O,k,D,R,L,F,U,z,P,B,V,q,$=new Object,G=new Object,K=new Array(t),j=new Array(t),H=1;for(y.NZ=0,w=b=.25,S=n,T=i,$.b=$.a=0,l(u,m,i,o,f,$),v=$.a,x=$.b,G.h=G.g=G.f=G.e=G.d=G.c=G.a7=G.a3=G.a1=0,B=c(e,a,v,x,G,s,m,i,K),U=0;U<r;U++){if(L=1,h(e,a,B,v,x,G,s,K,f),p(B=c(e,a,v,x,G,s,m,i,K),$,v,G.a1,G.a3,G.a7,x,G.c,G.d,G.f,G.g,G.h,m,i,s,a,o),k=$.a,R=D=$.b,_=0!=s[a-1]?-o[a]/s[a-1]:0,N=C=1,0!=U&&3!=B&&(V=(O=(C=0!=R?Math.abs((R-T)/R):C)<A?C*A:1)<w?1:0,(z=(I=(N=0!=_?Math.abs((_-S)/_):N)<E?N*E:1)<b?1:0)||V)){for(F=0;F<a;F++)j[F]=s[F];for(M=_,P=q=0;;){if(L&&0==(L=0)&&z&&(!V||I<O));else{if(d(e,a,y,k,D,f,u,$,o,K,G,s),v=$.a,x=$.b,y.NZ>0)return;if(H=q=1,w*=.25,P||!z)H=0;else for(F=0;F<a;F++)s[F]=j[F]}if(0!=H){if($.a=M,H=g(e,y,$,a,o,u,f,s,K),M=$.a,y.NZ>0)return;if(P=1,b*=.25,0!=H){k=-(M+M),D=M*M;continue}}for(F=0;F<a;F++)s[F]=j[F];if(!V||q)break}l(u,m,i,o,f,$),B=c(e,a,v=$.a,x=$.b,G,s,m,i,K)}T=R,S=_,A=C,E=N}}!function(e,t,r,n){var i,s,a,o,u,l,c,h,p,m,d,g,v,x,b,w,S,E,A,T,M,_,N,I=e.Degree,C=Math.LN2,O=e.Degree+1,k=new Array(O),D=new Array(O),R=new Array(O),L=new Array(O),F=new Object,U=new Object;g=1;do{s=g,v=1+(g/=2)}while(v>1);var z=Number.MIN_VALUE/s,P=Math.cos(1.6406094968746698),B=Math.sin(1.6406094968746698),V=Math.sqrt(.5),q=-V;for(U.NZ=E=0,U.szr=U.szi=U.lzr=U.lzi=0;0==t[I];)r[E]=n[E]=0,I--,E++;for(_=I+1;I>=1;){if(I<=2){I<2?(r[e.Degree-1]=-t[1]/t[0],n[e.Degree-1]=0):(F.li=F.lr=F.si=F.sr=0,f(t[0],t[1],t[2],F),r[e.Degree-2]=F.sr,n[e.Degree-2]=F.si,r[e.Degree-1]=F.lr,n[e.Degree-1]=F.li);break}for(c=0,h=Number.MAX_VALUE,$=0;$<_;$++)(m=Math.abs(t[$]))>c&&(c=m),0!=m&&m<h&&(h=m);if(((p=z/h)<=1&&c>=10||p>1&&Number.MAX_VALUE/p>=c)&&(p=0==p?Number.MIN_VALUE:p,T=Math.floor(Math.log(p)/C+.5),1!=(u=Math.pow(2,T))))for($=0;$<_;$++)t[$]*=u;for(var $=0;$<_;$++)D[$]=Math.abs(t[$]);D[I]=-D[I],M=I-1,m=Math.exp((Math.log(-D[I])-Math.log(D[0]))/I),0!=D[M]&&(m=(d=-D[I]/D[M])<m?d:m),d=m;do{for(d=.1*(m=d),l=D[0],$=1;$<_;$++)l=l*d+D[$]}while(l>0);o=m;do{for(a=l=D[0],$=1;$<I;$++)a=m*a+(l=m*l+D[$]);m-=o=(l=m*l+D[I])/a}while(Math.abs(o/m)>.005);for(i=m,$=1;$<I;$++)k[$]=(I-$)*t[$]/I;for(k[0]=t[0],g=t[I],v=t[M],N=0==k[M]?1:0,A=0;A<5;A++)if(x=k[M],N){for($=0;$<M;$++)k[E=M-$]=k[E-1];k[0]=0,N=0==k[M]?1:0}else{for(w=-g/x,$=0;$<M;$++)k[E=M-$]=w*k[E-1]+t[E];k[0]=t[0],N=Math.abs(k[M])<=Math.abs(v)*s*10?1:0}for($=0;$<I;$++)L[$]=k[$];for(A=1;A<=20;A++){if(S=-B*q+P*V,q=B*V+P*q,y(s,O,20*A,b=i*(V=S),i,k,I,t,_,R,-2*b,U),0!=U.NZ){for(r[E=e.Degree-I]=U.szr,n[E]=U.szi,I=(_-=U.NZ)-1,$=0;$<_;$++)t[$]=R[$];1!=U.NZ&&(r[E+1]=U.lzr,n[E+1]=U.lzi);break}for($=0;$<I;$++)k[$]=L[$]}if(A>20){e.Degree-=I;break}}}(o,s,u,a);var v=a.length;for(w=0;w<v;w++){var x=m(a[w],n+8),b=m(u[w],n+8),S=x<0?"-":"";0===(b=n-String(b).length>2?b:u[w])&&(b=""),0===x&&(x=""),x=1===Math.abs(x)?S+"i":x?x+"*i":"";var E=b&&x?b+"+"+x:b+x;u[w]=E.replace(/\+\-/g,"-")}return u}},roots:function(r){if(r.isConstant(!0,!0))return e.Utils.nroots(r);var n=A.proots(r).map((function(e){return t.parse(e)}));return e.Vector.fromArray(n)},froot:function(t,r,n){return function(r){for(var i=n||e.Utils.build(e.Calculus.diff(t.clone())),s=t instanceof Function?t:e.Utils.build(t),a=!1,o=0;!a;){var u=r-s(r)/i(r),l=Math.abs(u)-Math.abs(r);r=u,Math.abs(l)<1e-12?a=!0:o>1e4&&(r=null,a=!0),o++}return r}(Number(r))},quad:function(e,r,n){var i=function(e,r,n,i){return t.parse("-("+r+"+"+i+"*sqrt(("+r+")^2-4*("+e+")*("+n+")))/(2*"+e+")")};return[i(e,r,n,1),i(e,r,n,-1)]},sumProd:function(e,t){return A.quad(-t,e,-1).map((function(e){return e.invert()}))},coeffs:function(e,r,n){r=String(r),e=t.expand(e),n=n||[new y(0)],e.group===a&&e.contains(r,!0)&&t.error("Unable to get coefficients using expression "+e.toString());var i=p(e);if(i.length<=1&&i[0]===r)for(var s=new w(e).coeffs.map((function(e){return new y(e)})),o=0,u=s.length;o<u;o++){var h=s[o];(m=n[o])&&(h=t.add(m,h)),n[o]=h}else if(r||t.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),-1===i.indexOf(r))n[0]=t.add(e,n[0]);else if(n=n||[new y(0)],e.group===c){var f=e.symbols[r];f||t.error("Expression is not a polynomial!");var m,d=Number(f.power);((h=t.divide(e.clone(),f.clone())).contains(r,!0)||d<0||!g(d))&&t.error("Expression is not a polynomial!"),(m=n[d])&&(h=t.add(m,h)),n[d]=h}else e.group===l&&e.each((function(e){A.coeffs(e.clone(),r,n)}),!0);for(o=0,u=n.length;o<u;o++)void 0===n[o]&&(n[o]=new y(0));return n},polyPowers:function(t,n,i){if(i=i||[],(p=p=t.group)===u&&n===t.value)i=i.concat(h(t.symbols));else if(p===l)for(var a in t.symbols){var o=t.symbols[a],p=o.group,f=o.value;if(p===s&&n===f)i.push(o.power);else if(p===u||p===l)i=A.polyPowers(o,n,i);else if(p===c&&o.contains(n)){var m=o.symbols[n];m&&i.push(m.power)}else p!==r&&n===f||i.push(0)}else p===c&&t.contains(n)&&i.push(e.Utils.decompose_fn(t,n,!0).x.power);return e.Utils.arrayUnique(i).sort()},Factor:{split:function(e){var r=new y(1),n=new y(1);return A.Factor.factor(e,new S).each((function(e){var i=t.parse(e);e.isConstant(!0)?r=t.multiply(r,i):n=t.multiply(n,i)})),[r,n]},mix:function(e,t){for(var r=h(e),n=r.length,i=[],s=0;s<n;s++){for(var a=r[s],o=e[a],u=i.length,l=0;l<u;l++){var c=i[l]*a;i.push(c),t&&i.push(-c)}for(l=1;l<=o;l++)i.push(Math.pow(a,l))}return i},common:function(r,n){try{if(r.group===l){for(var i=t.expand(r.clone(),!0).collectSymbols(null,null,(function(e,t){return(t.length||1)-(e.length||1)})),s={},a=[],o=0;o<i.length;o++){var u=i[o];a.push(u.multiplier.clone()),u.each((function(e){var t=Number(e.power);if(isNaN(t))throw new Error("exiting");e.value in s?(t<s[e.value][0]&&(s[e.value][0]=t),s[e.value][1].push(e)):s[e.value]=[t,[e]]}))}var c=new y(1);for(var h in s)s[h][1].length===i.length&&(c=t.multiply(c,t.pow(new y(h),new y(s[h][0]))));var p=e.Math2.QGCD.apply(null,a);if(!p.equals(1))for(n.add(new y(p)),o=0;o<i.length;o++)i[o].multiplier=i[o].multiplier.divide(p);if(!c.equals(1))for(n.add(c),r=new y(0),o=0;o<i.length;o++)r=t.add(r,t.divide(i[o],c.clone()))}}catch(e){}return r},zeroes:function(r,n){var i=function(){throw new e.exceptions.ValueLimitExceededError("Exiting")};try{var s,a,o,u,c;c=(r=t.expand(r.clone())).toString(),s=p(r),o=new y(0);for(var h=[],f=[],m=0,v=s.length;m<s.length;m++){for(var x={},b=0;b<v;b++)m!==b&&(x[s[b]]=0);var w=(a=t.parse(c,x)).power;g(w)||i(),h.push(a),f.push(a.power)}if(e.Utils.allSame(f)){var S=r.length,E=h.length;2===E&&(u=new d(f[0]/(S-1))),3===E&&(u=new d(f[0]/Math.round((Math.sqrt(8*S-1)-3)/2)))}else u=e.Math2.QGCD.apply(null,f);for(g(u)||i(),m=0;m<h.length;m++){var T=h[m],M=T.power.clone().divide(u);T.multiplier=new d(Math.pow(T.multiplier,1/M)),T.power=u.clone(),o=t.add(o,T)}if(o.group!==l)return r;for(;;){var _=A.div(r.clone(),o.clone());if(!_[1].equals(0))break;if(r=_[0],n.add(o.clone()),r.equals(1))break}}catch(c){}return r},factor:function(e,r){var n=t.parse(e),i=A.Factor._factor(n,r);if(i.equals(e))return i;if(i.group===c){var s=new y(1),a=t.parse(i.power),o=t.parse(i.multiplier);i.toUnitMultiplier(),i.multiplier.lessThan(0)&&(s.negate(),i.negate()),i.each((function(e){var r=A.Factor._factor(e);r.group===c?r.each((function(e){var r=A.Factor._factor(e);s=t.multiply(s,r)})):s=t.multiply(s,r)})),i=t.pow(t.multiply(o,s),a)}return i},quadFactor:function(r,n){if(r.isPoly()&&A.degree(r.equals(2))){var i=e.Utils.variables(r)[0],s=A.coeffs(r,i),a=A.Factor._factor(s[2].clone());if(a.group===c){var o=a.collectSymbols();if(o.length>2)return r;var u=t.multiply(t.parse(s[0]),t.parse(o[0])),l=t.parse(s[1]).negate(),h=t.parse(o[1]),p=A.quad(h,l,u).filter((function(t){if(e.Utils.isInt(t))return t}));if(1===p.length){var m=p[0],d=t.divide(s[0],t.parse(m));e.Utils.isInt(d)&&(n.add(t.parse(f("({0})*({1})+({2})",o[1],i,d))),n.add(t.parse(f("({0})*({1})+({2})",o[0],i,m))),r=new y(1))}}}return r},_factor:function(r,n){if(r.group===o){var i=r.args[0];if(i.group===s&&i.isSimple())return r}else if(r.group===s&&r.isSimple())return r;if(r.group===l){r.distributeMultiplier();var a=new y(0);r.each((function(e){(e.group===l&&e.power.greaterThan(1)||e.group===c)&&(e=t.expand(e)),a=t.add(a,e)})),a.power=r.power,r=a}r.group===o&&"sqrt"!==r.fname&&(r=e.Utils.evaluate(r));var u=r.clone();try{if(r.group===c){var f,m,d,v,x,b,w=t.parse(r.power);if(f=A.Simplify.strip(r.getDenom()),m=A.Simplify.strip(r.getNum()),d=f.pop(),(v=m.pop()).equals(r))return r;b=A.Factor.factor(v),x=A.Factor.factor(d);var E=A.Simplify.unstrip(m,b),T=A.Simplify.unstrip(f,x);return t.divide(E,T)}if(r.group===s)return r;if(r.isConstant())return r.equals(1)?r.clone():e.Math2.factor(r);if(w=r.power.clone(),g(w)&&(!w.lessThan(0)||r.group!==o)){var M=w.sign();r.toLinear(),n=n||new S;var _={};r=t.parse(e.Utils.subFunctions(r,_)),h(_).length>0&&(n.preAdd=function(r){return t.parse(r,e.Utils.getFunctionsSubs(_))}),r.isLinear()||(n.pFactor=r.power.toString(),r.toLinear());var N=p(r);r.isImaginary()&&N.push(e.Settings.IMAGINARY);var I=N.length>1;if(I){var C=!0,O=!0;if(r.each((function(e){e.group!==s&&(C=!1),e.multiplier.equals(1)||(O=!1)})),C&&O)return t.pow(t.parse(r,e.Utils.getFunctionsSubs(_)),t.parse(w))}var k=new S;r=A.Factor.coeffFactor(r,k),k.each((function(e){M<0&&e.invert(),n.add(e)}));var D=new S;if(r=A.Factor.powerFactor(r,D),D.each((function(e){M<0&&e.invert(),n.add(e)})),I)r=A.Factor.mfactor(r,n),n.each((function(e){M<0&&e.power.negate()}));else{var R=N[0];r=A.Factor.squareFree(r,n,R);var L=new S;r=A.Factor.trialAndError(r,L,R);var F=L.toSymbol();if(F.equals(u))return F;for(var U in L.factors){var z=L.factors[U];n.add(t.pow(z,t.parse(w)))}r.equals(u)&&(r=A.Factor.quadFactor(r,n))}return r=t.parse(r,e.Utils.getFunctionsSubs(_)),n.add(t.pow(r,t.parse(w))),n.toSymbol()}return r}catch(e){return u}},reduce:function(e,r){if(e.group===l&&2===e.length){var n=e.collectSymbols().sort((function(e,t){return t.multiplier-e.multiplier}));if(n[0].power.equals(n[1].power)){var i=t.parse(n[0].power),s=n[0].clone().toLinear(),a=n[1].clone().toLinear();r.add(t.add(s.clone(),a.clone())),a.negate();for(var o=Number(i),u=new y(0),c=1;c<=o;c++){var h=t.pow(s.clone(),t.subtract(i.clone(),new y(c))),p=t.pow(a.clone(),t.subtract(new y(c),new y(1)));u=t.add(u,t.multiply(h,p))}return u}}return e},squareFree:function(e,t,r){if(e.isConstant()||e.group===s)return e;var n=new w(e,r).squareFree(),i=n[2];if(1!==i){var a=n[1].toSymbol();return a.power=a.power.multiply(new d(i)),t.add(A.Factor.factor(a)),A.Factor.squareFree(n[0].toSymbol(),t)}return e},powerFactor:function(r,n){if(r.group!==u||r.previousGroup===a)return r;var i=h(r.symbols);if(!e.Utils.allNumeric(i))return r;var s=e.Utils.arrayMin(i),o=new y(0),l=t.parse(r.value+"^"+s);return r.each((function(e){e=t.divide(e,l.clone()),o=t.add(o,e)})),n.add(l),o},coeffFactor:function(t,r){if(t.isComposite()){var n=e.Math2.QGCD.apply(null,t.coeffs());n.equals(1)||t.each((function(e){e.isComposite()?e.each((function(e){e.multiplier=e.multiplier.divide(n)})):e.multiplier=e.multiplier.divide(n)})),t.updateHash(),r&&r.add(new y(n))}return t},trialAndError:function(t,r,n){if(t.isConstant()||t.group===s)return t;for(var i=new w(t,n),a=i.coeffs[0],o=e.Math2.ifactor(a),u=A.proots(t),l=0;l<u.length;l++){var c=u[l],h=1;if(!isNaN(c)){for(var p in o){var f=e.Utils.round(Math.log(p)/Math.log(Math.abs(c)),8);if(g(f)){c=p,h=f;break}}var m=new d(c),y=[new d(m.num).negate()];y[h]=new d(m.den);var v=w.fromArray(y,i.variable).fill(),x=i.divide(v);x[1].equalsNumber(0)&&(i=x[0],r.add(v.toSymbol()))}}return i.equalsNumber(1)||(i=A.Factor.search(i,r)),i.toSymbol()},search:function(t,r,n){n=n||10;var i=t.variable,s=function(e,s,a,o){var u=w.fit(e,s,a,n,o,i);if(u&&u.coeffs.length>1){var l=t.divide(u);if(l[1].equalsNumber(0))return r.add(u.toSymbol()),[l[0],u]}return null},a=t.coeffs[0],o=e.Math2.ifactor(a),u=t.lc(),l=e.Math2.ifactor(u),c=t.sub(n),h=e.Math2.ifactor(c),p=A.Factor.mix(h,c<0),f=Math.ceil(t.coeffs.length/2),m=u.lessThan(0),d=a.lessThan(0);for(l[1]=1,o[1]=1;f--;)for(var g in l)for(var y in o)for(var v=0;v<p.length;v++){var x=s(g,y,p[v],f);if(x)return t=x[0],e.Utils.isPrime(t.sub(n))||(t=A.Factor.search(t,r)),t;x||(m&&d?x=s(-g,-y,p[v],f):m?x=s(-g,y,p[v],f):d&&(x=s(g,-y,p[v],f)))}return t},mSqfrFactor:function(t,r){if(t.group!==o)for(var n=p(t).reverse(),i=0;i<n.length;i++)do{if(n[i]!==t.value){var s=e.Calculus.diff(t,n[i]),a=A.Factor.coeffFactor(s);if(a.equals(0))break;var u=!0;if(a.isConstant()&&t.isComposite()&&t.each((function(e){e.multiplier%a!=0&&(u=!1)}),!0),u){var l=A.div(t,a.clone()),c=l[1].equals(0);if(l[0].isConstant()){r.add(l[0]);break}}else c=!1;c&&(r.add(l[0]),t=a)}else r.add(t),t=new y(1)}while(c);return t},sqdiff:function(r,n){try{var i,a,o=function(t){return e.Utils.block("POSITIVE_MULTIPLIERS",(function(){return y.unwrapPARENS(x.sqrt(x.abs(t)))}),!0)},u=e.Utils.separate(r.clone()),l=[];for(var c in u)"constants"!==c&&l.push(u[c]);if(l.sort((function(e,t){return t.power-e.power})),2===l.length)if(i=l.pop(),a=l.pop(),i.isComposite()&&a.power.equals(2)){a=o(a);var h=A.Factor.factor(t.add(i,u.constants));h.power.equals(2)&&(h.toLinear(),n.add(t.subtract(h.clone(),a.clone())),n.add(t.add(h,a)),r=new y(1))}else if(i=i.powSimp(),a=a.powSimp(),(i.group===s||""===i.fname)&&i.power.equals(2)&&(a.group===s||""===a.fname)&&a.power.equals(2)){if(i.multiplier.lessThan(0)){var p=a;a=i,i=p}i.multiplier.greaterThan(0)&&(i=o(i),a=o(a)),n.add(t.subtract(i.clone(),a.clone())),n.add(t.add(i,a)),r=new y(1)}}catch(e){}return r},mfactor:function(r,n){if(r.group===o)if("sqrt"===r.fname){var i=new S,s=A.Factor.common(r.args[0].clone(),i);s=A.Factor.coeffFactor(s,i),r=t.multiply(t.symfunction("sqrt",[s]),t.parse(r.multiplier)),i.each((function(n){r=t.multiply(r,t.parse(e.Utils.format("sqrt({0})",n)))}))}else n.add(r);else{r=A.Factor.mSqfrFactor(r,n);for(var a=p(r),u=r.collectSymbols().map((function(e){return y.unwrapSQRT(e)})),l={},c={},h=a.length,f=u.length,m=0;m<h;m++){var d=a[m];l[d]=new y(0);for(var v=0;v<f;v++){var x=u[v];if(x.contains(d)){var b=x.value===d?x.power.toDecimal():x.symbols[d].power.toDecimal();(!c[d]||b<c[d])&&(c[d]=b),l[d]=t.add(l[d],x.clone())}}}for(var w in l){var E=t.parse(w+"^"+c[w]),T=t.divide(l[w],E),M=t.expand(T);if(M.equals(1))break;var _=A.div(r.clone(),M);if(_[0].equals(0))break;var N=g(M)&&M.lessThan(0);if(_[1].equals(0)&&!N){var I=A.div(r.clone(),_[0].clone());if(E=I[0],r=I[1],E.equals(-1)&&!r.equals(0))return r;var C=_[0];if(r.equals(C)){var O=A.Factor.reduce(C,n);if(!r.equals(O))return A.Factor.mfactor(O,n)}else if(n.add(C),r.equals(0))return E;return E.isConstant("all")?(n.add(E),E):A.Factor.mfactor(E,n)}}}return r=A.Factor.sqdiff(r,n),r=A.Factor.zeroes(r,n)}},allLinear:function(e){for(var t=e.length,r=0;r<t;r++)if(!A.isLinear(e[r]))return!1;return!0},isLinear:function(e){var t=!1,n=e.group;if(n===u||n===l)for(var i in t=!0,e.symbols){var h=e.symbols[i],f=h.group;if(f!==o&&f!==a||(t=!1),f===c)t=1===p(h).length;else if(f===u||f===l)t=A.isLinear(h);else if(h.group!==r&&"1"!==h.power.toString()){t=!1;break}}else n===s&&1===e.power&&(t=!0);return t},gcd:function(){var r;if(0===(r=1===arguments.length&&arguments[0]instanceof e.Vector?arguments[0].elements:e.Utils.arguments2Array(arguments)).length)return new y(1);if(1===r.length)return r[0];for(var n=[],i=!1,s=0;s<r.length;s++)if(r[s].group===o&&"gcd"===r[s].fname)(r=r.concat(arguments[s].args)).splice(s,1);else{var a=p(r[s]);if(e.Utils.haveIntersection(a,n)){i=!0;break}n=n.concat(a)}if(i||0===n.length){if(r.every((function(e){return e.getDenom().equals(1)}))){var u=r[0];for(s=1;s<r.length;s++)u=A.gcd_(r[s],u);return u}return t.divide(A.gcd.apply(null,r.map((function(e){return e.getNum()}))),A.lcm.apply(null,r.map((function(e){return e.getDenom()}))))}return t.symfunction("gcd",r)},gcd_:function(r,n){if(r.group!==o&&r.group!==i||(r=e.Utils.block("PARSE2NUMBER",(function(){return t.parse(r)}))),n.group===o&&(n=e.Utils.block("PARSE2NUMBER",(function(){return t.parse(n)}))),r.isConstant()&&n.isConstant())return new y(e.Math2.QGCD(new d(+r),new d(+n)));var s=t.multiply(r.getDenom()||new y(1),n.getDenom()||new y(1)).invert();if(r=t.multiply(r.clone(),s.clone()),n=t.multiply(n.clone(),s.clone()),r=t.expand(r),n=t.expand(n),r.group===c||n.group===c){var u=t.divide(r.clone(),n.clone());if(!(m=t.multiply(n.clone(),u.getDenom().invert())).equals(1))return m}if(r.group===a||n.group===a){var l=new y(e.Math2.GCD(r.multiplier,n.multiplier)),h=A.gcd_(r.value===v?new y(1):t.parse(r.value),n.value===v?new y(1):t.parse(n.value)),f=A.gcd_(t.parse(r.power),t.parse(n.power));return t.multiply(l,t.pow(h,f))}if(r.length<n.length){var m=r;r=n,n=m}var g=p(r),x=p(n);if(g.length===x.length&&1===g.length&&g[0]===x[0]||1===g.length&&0===x.length||0===g.length&&1===x.length)return r=new w(r),n=new w(n),t.divide(r.gcd(n).toSymbol(),s);var b,S=[];for(r.each((function(e){S.push(e.multiplier)})),n.each((function(e){S.push(e.multiplier)}));!n.equals(0);){if(m=n.clone(),r=r.clone(),b=A.div(r,m),n=b[1],b[0].equals(0))return t.divide(new y(e.Math2.QGCD(r.multiplier,n.multiplier)),s);r=m}var E=e.Math2.QGCD.apply(void 0,S);return E.equals(1)||r.each((function(e){e.multiplier=e.multiplier.divide(E)})),!r.equals(1)||r.isConstant()||n.isConstant()?t.divide(r,s):t.divide(t.symfunction("gcd",arguments),s)},lcm:function(){var r;1===arguments.length?arguments[0]instanceof e.Vector?r=arguments[0].elements:t.error("lcm expects either 1 vector or 2 or more arguments"):r=e.Utils.arguments2Array(arguments);var n=r.reduce((function(e,r){return t.multiply(e,r.clone())}),new y(1)),i=function(e,t){var r,n,i,s=[],a=Math.pow(2,e.length);for(n=t;n<a;n++){r=[],i=e.length-1;do{0!=(n&1<<i)&&r.push(e[i])}while(i--);r.length==t&&s.push(r)}return s}(arguments,arguments.length-1).map((function(e){return e.reduce((function(e,r){return t.multiply(e,r.clone())}),new y(1))}));if(r.every((function(t){return e.Utils.isVariableSymbol(t)})))var s=t.symfunction("gcd",e.Utils.arrayUnique(i));else s=A.gcd.apply(null,i);return t.divide(n,s)},divide:function(r,n){var i,s,a,o;return(o=(a=e.Algebra.Factor.factor(r.clone())).getDenom()).isConstant("all")?o=new y(1):r=t.expand(y.unwrapPARENS(t.multiply(a,o.clone()))),i=A.div(r,n),s=t.divide(i[1],n),t.divide(t.add(i[0],s),o)},div:function(r,n){if(n.isConstant())return r.each((function(e){e.multiplier=e.multiplier.divide(n.multiplier)})),[r,new y(0)];if(r=t.expand(r),n=t.expand(n),r.group===s&&n.group===l){var i=r.value,a=e.Utils.decompose_fn(n.clone(),i,!0);if(r.isLinear()&&a.x&&a.x.isLinear()&&n.isLinear()){var o=y.create(r.multiplier);return[t.divide(o.clone(),a.a.clone()),t.divide(t.multiply(o,a.b),a.a).negate()]}}if(r.group===s&&n.group===s){var u=t.divide(r.clone(),n.clone());return u.isConstant()?[u,new y(0)]:[new y(0),r.clone()]}var c=r.hasFunc(),h=n.hasFunc(),f=!1;if(c||h){f=!0;var m={},g=(r=t.parse(e.Utils.subFunctions(r,m)),n=t.parse(e.Utils.subFunctions(n,m)),e.Utils.getFunctionsSubs(m))}var x,b,S,A,T=e.Utils.arrayUnique(p(r).concat(p(n)));if((r.isImaginary()||n.isImaginary())&&T.push(e.Settings.IMAGINARY),1===T.length)x=(H=new w(r).divide(new w(n)))[0].toSymbol(),b=H[1].toSymbol();else{T.push(v);var M=function(e){for(var r=new y(0),n=0;n<e.length;n++){var i=e[n].toSymbol();r=t.add(r,i)}return r},_=function(e,t){var r,n=Math.max.apply(null,e.terms),i=0;if(!t)for(var s=0;s<e.terms.length;s++)if(e.terms[s].equals(n)&&(r=s,i++),i>1)return;if(t)for(s=0;s<e.terms.length;s++)if(e.terms[s].equals(n)){r=s;break}return[n,r,e]},N=function(e,t){var r=e[t=t||0],n=e.length;if(r){for(var i,s,a=_(r),o=t+1;o<n;o++){var u=e[o],l=r.sum.equals(u.sum);if(!l&&a)break;if(l){for(var c,h,p,f,m=r.terms.length,d=0;d<m;d++){var g=r.terms[d],y=u.terms[d];(void 0===c||g.greaterThan(c))&&(c=g,p=d),(void 0===h||y.greaterThan(h))&&(h=y,f=d)}var v=c.subtract(u.terms[p]),x=h.subtract(r.terms[f]);if(x>v){a=[h,f,u];break}if(v>x){a=[c,p,r];break}}else if(a=_(u))break;a=_(u)}if(!a)return _(e[0],!0);for(o=0;o<D.length;o++){var b=D[o].terms;if((s=a[1])===b.length-1)return;if(!(i=b[s]).equals(0))break}return i.equals(0)?N(e,++t):a}},I=e.Utils.toMapObj(T),C=function(e,t){return t.sum.subtract(e.sum)},O=function(e,t){if(!e||!t)return!1;for(var r=0;r<e.terms.length;r++)if(e.terms[r].lessThan(t.terms[r]))return!1;return!0},k=r.tBase(I).sort(C),D=n.tBase(I).sort(C),R=O(k[0],D[0])&&k[0].count>D[0].count?D:k,L=N(R),F=[];if(L){var U=L[1],z=function(e,t){var r=e.len(),n=t.len(),i=t.terms[U],s=e.terms[U];return n>r&&i.greaterThan(s)?n-r:i.subtract(s)};U=function(e,t,r){for(var n=[],i=0;i<e.length;i++)for(var s=e[i],a=0;a<s.terms.length;a++){var o=n[a],u=s.terms[a];0===i?n[a]=u:o&&!o.equals(u)&&(n[a]=void 0)}for(i=0;i<n.length;i++)if((s=n[i])&&!s.equals(0))return i;return r}(k,0,U),k.sort(z),D.sort(z);var P=D[0],B=k[0],V=new E(new d(1),[],B.map);if(P.sum.greaterThan(B.sum)&&B.len()>1)for(var q=0;q<B.terms.length;q++){var $=P.terms[q].subtract(B.terms[q]);if($.equals(0))V.terms[q]=new d(0);else{var G=$.add(new d(1));V.terms[q]=$;for(var K=0;K<k.length;K++)k[K].terms[q]=k[K].terms[q].add(G)}}for(var j=O(k[0],D[0]);j&&(A=D,!(S=k)[0].sum.equals(A[0].sum)||S.length>=A.length);){var H=k[0].divide(D[0]);for(F.push(H),k.shift(),q=1;q<D.length;q++){var W=D[q].multiply(H).generateImage(),X=k.length;for(0===X&&(W.coeff=W.coeff.neg(),k.push(W),k.sort(z)),K=0;K<X;K++){var Y=k[K];if(Y.getImg()===W.getImg()){Y.coeff=Y.coeff.subtract(W.coeff),Y.coeff.equals(0)&&(e.Utils.remove(k,K),K--);break}K===X-1&&(W.coeff=W.coeff.neg(),k.push(W),k.sort(z))}}if(!(j=O(k[0],D[0]))&&k.length>=D.length)for(q=1;q<k.length;q++)if(j=O(k[q],D[0])){k.unshift(e.Utils.remove(k,q));break}}}x=M(F),b=M(k),void 0!==V&&(V=V.toSymbol(),x=t.divide(x,V.clone()),b=t.divide(b,V))}return f&&(x=t.parse(x.text(),g),b=t.parse(b.text(),g)),[x,b]},line:function(r,n,i){e.Utils.isArray(r)&&(r=e.Utils.convertToVector(r)),e.Utils.isArray(n)&&(n=e.Utils.convertToVector(n)),i=t.parse(i||"x"),e.Utils.isVector(r)&&e.Utils.isVector(n)||t.error('Line expects a vector! Received "'+r+'" & "'+n+'"');var s=t.subtract(n.e(1).clone(),r.e(1).clone()),a=t.subtract(n.e(2).clone(),r.e(2).clone()),o=t.divide(a,s),u=t.multiply(i,o.clone()),l=t.multiply(r.e(1).clone(),o);return t.add(t.subtract(u,l),r.e(2).clone())},PartFrac:{createTemplate:function(e,r,n,i){var a,u,l,c,h,p,f;(e=A.Factor.factor(e)).each((function(t,r){if(t.group===o&&""===t.fname&&t.args[0].group===s){var n=t.args[0];this.symbols?(delete this.symbols[r],this.symbols[n.value]=n):e=t.args[0]}})),a=r.collectFactors(),u=[],p=[],f=new y(1);for(var m=0;m<a.length;m++){var d=y.unwrapPARENS(a[m]);if(d.power.greaterThan(1)){c=Number(d.power),l=d.clone().toLinear(),h=Number(A.degree(l,i));for(var g=0;g<c;g++){var v=t.pow(l.clone(),new y(g+1));n.push(v.clone());var x=t.divide(e.clone(),v.clone());p.push(h),u.push(x)}}else h=Number(A.degree(d,i)),n.push(d),x=t.divide(e.clone(),d.clone()),x=t.expand(y.unwrapPARENS(x)),p.push(h),u.push(x)}return[n=n.map((function(e){return t.multiply(e,f.clone())})),u,p]},partfrac:function(r,n,i){var s=p(r);n=n||t.parse(s[0]);try{var a,o,u,l,c,h,f,m,d,g,v,x,b,w,S,E,T,M,_;if(a=t.expand(r.getNum()),o=t.expand(r.getDenom().toUnitMultiplier()),a.multiplier=r.multiplier,c=a.groupTerms(n),Number(A.degree(a,n))>=Number(A.degree(o,n))?(b=(x=A.div(a.clone(),t.expand(o.clone())))[0],c=(a=x[1]).groupTerms(n)):b=new y(0),1===Number(A.degree(o,n))){var N=t.divide(a,o);return i?[b,N]:t.add(b,N)}l=A.Factor.factor(o),E=A.PartFrac.createTemplate(o.clone(),l,[],n),T=E[0],w=E[1],h=E[2],v=[c.length],f=[],u=[],S=[],w.map((function(e,r){M=T[r],_=h[r];for(var i=0;i<_;i++){u.push(M.clone());var s=y.create(n,i),a=t.expand(t.multiply(e,s.clone())).groupTerms(n),o=a.length;v.push(o),f.push(a),S.push(s.clone())}})),m=e.Utils.arrayMax(v),g=new e.Matrix(e.Utils.fillHoles(c,m)).transpose(),d=new e.Matrix;for(var I=0;I<f.length;I++)d.elements.push(e.Utils.fillHoles(f[I],m));var C=t.multiply(d.transpose().invert(),g),O=i?[b]:b;return C.each((function(e,r){var n=t.multiply(S[r],t.divide(e,u[r]));i?O.push(n):O=t.add(O,n)})),O}catch(e){try{if(r.isComposite()){var k={};r.each((function(e){var r=e.getDenom(),n=e.getNum(),i=k[r];k[r]=i?t.add(i,n):n}));var D=new y(0);for(var R in k)D=t.add(D,t.divide(k[R],t.parse(R)));r=D}}catch(e){}}return r}},degree:function(r,n,i){if(i=i||{nd:[],sd:[],depth:0},!n){var o=p(r);if(o.length>1)throw new Error("You must specify the variable for multivariate polynomials!");if(0===o.length)return new y(0);n=t.parse(o[0])}var u=r.group;r.isComposite()?((r=r.clone()).distributeExponent(),r.each((function(e){i.depth++,A.degree(e,n,i),i.depth--}))):r.group===c?r.each((function(e){i.depth++,A.degree(e,n,i),i.depth++})):u===a&&r.value===n.value?i.sd.push(r.power.clone()):u===s&&r.value===n.value?i.nd.push(t.parse(r.power)):i.nd.push(new y(0));var l=i.nd.length>0?e.Utils.arrayMax(i.nd):void 0;return 0===i.depth&&i.sd.length>0?(void 0!==l&&i.sd.unshift(l),t.symfunction("max",i.sd)):(e.Utils.isSymbol(l)||(l=t.parse(l)),l)},sqComplete:function(r,n,i){e.Utils.isSymbol(n)||(n=t.parse(n));var s,a,o,u,l,c,h,p,f,m,d,g=function(t){throw t=t||"Stopping",new e.exceptions.ValueLimitExceededError(t)};return r.isPoly()||g("Must be a polynomial!"),f=e.Utils.inBrackets,r=r.clone(),(s=e.Algebra.degree(r,n)).equals(2)||g("Cannot complete square for degree "+s),a=(h=e.Algebra.coeffs(r,n))[2],p=h[1].sign(),o=t.divide(h[1],new y(2)),u=t.pow(o.clone(),new y(2)),i?[a,o,l]:(d=x.sqrt(a),c=t.divide(x.sqrt(u),d.clone()),l=t.subtract(h[0],t.pow(c.clone(),new y(2))),{a:m=t.parse(f(d.clone()+"*"+n+(p<0?"-":"+")+c)),c:l,f:t.add(t.pow(m.clone(),new y(2)),l.clone())})},Simplify:{strip:function(e){var r=t.parse(e.multiplier);e.toUnitMultiplier();var n=t.parse(e.power);return e.toLinear(),[r,n,e]},unstrip:function(e,r){var n=e[0],i=e[1];return t.multiply(n,t.pow(r,i))},complexSimp:function(e,r){var n,i,s,a,o,u,l,c,h;return u=e.realpart(),c=e.imagpart(),l=r.realpart(),h=r.imagpart(),n=t.multiply(u.clone(),l.clone()),i=t.multiply(c.clone(),h.clone()),s=t.multiply(l.clone(),c),a=t.multiply(u,h.clone()),o=t.add(t.pow(l,new y(2)),t.pow(h,new y(2))),t.divide(t.add(t.add(n,i),t.multiply(t.subtract(s,a),y.imaginary())),o)},trigSimp:function(r){if(r.containsFunction(["cos","sin","tan"])){r=r.clone();var n=A.Simplify.strip(r),i=(r=n.pop()).clone();if(r.group===l){var s=new y(0);r.each((function(e){var r=A.Simplify.trigSimp(e.fnTransform());s=t.add(s,r)}),!0),i=t.pow(t.multiply(new y(r.multiplier),s),new y(r.power))}else if(r.group===c){var a=r.getNum(),o=r.getDenom();if("sin"===a.fname&&"cos"===o.fname&&a.args[0].equals(o.args[0])&&a.power.equals(o.power)&&(i=t.parse(e.Utils.format("({0})*({1})*tan({2})^({3})",o.multiplier,a.multiplier,a.args[0],a.power))),i.group===c){var u=new y(1);i.each((function(r){"tan"===r.fname&&(r=t.parse(e.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",r.multiplier,A.Simplify.simplify(r.args[0]),r.power))),u=t.multiply(u,r)})),i=u}}r=i=A.Simplify.unstrip(n,i).distributeMultiplier()}return r},fracSimp:function(e){var r=e.getDenom();if((f=e.getNum()).isImaginary()&&r.isImaginary()&&(e=A.Simplify.complexSimp(f,r)),e.isComposite()){e.power>1&&(e=t.expand(e));var n,i,s,a,o,u,l,c,h,p,f,m=e.collectSymbols();for(i=m.pop();m.length;)s=m.pop(),a=t.parse(i.getDenom()),o=t.parse(s.getDenom()),u=i.getNum(),l=s.getNum(),p=t.multiply(a.clone(),o.clone()),c=t.multiply(u,o),h=t.multiply(l,a),i=t.divide(t.add(c,h),p);return r=t.expand(i.getDenom()),(n=(f=t.expand(i.getNum())).isImaginary()&&r.isImaginary()?A.Simplify.complexSimp(f,r):t.divide(f,r)).equals(e)?e:A.Simplify.simplify(n)}return e},ratSimp:function(e){if(e.group===c){var r=e.getDenom(),n=e.getNum().distributeMultiplier(),i=A.Simplify.fracSimp(r),s=A.Simplify.fracSimp(n);e=t.divide(s,i)}return e},simplify:function(r){var n,i=A.Simplify.strip(r);if(r=i.pop(),(r=A.Simplify.fracSimp(r)).isConstant()||r.group===e.groups.S)return i.push(r),A.Simplify.unstrip(i,r);if(r=r.clone(),n=A.Simplify.trigSimp(r),n=A.Simplify.ratSimp(n),(n=A.Factor.factor(n)).group===e.groups.CP&&n.isLinear()){var s=n.multiplier.clone();n.toUnitMultiplier();var a=new y(0);n.each((function(e){var r=A.Simplify.simplify(e);a=t.add(a,r)})),n=a,a.multiplier=a.multiplier.multiply(s)}return A.Simplify.unstrip(i,b(n))}},Classes:{Polynomial:w,Factors:S,MVTerm:E}};n.useAlgebraDiv=function(){var r=A.divideFn=t.divide,n=0;t.divide=function(t,i){var s;return s=1==++n?e.Algebra.divide(t,i):r(t,i),n=0,s}},n.useParserDiv=function(){A.divideFn&&(t.divide=A.divideFn),delete A.divideFn},n.register([{name:"factor",visible:!0,numargs:1,build:function(){return A.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return A.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return A.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return A.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return A.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return A.divide}},{name:"div",visible:!0,numargs:2,build:function(){return A.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return A.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return A.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){return function(){var t=A.coeffs.apply(A,arguments);return new e.Vector(t)}}},{name:"line",visible:!0,numargs:[2,3],build:function(){return A.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){return function(e,t){try{return t=t||p(e)[0],A.sqComplete(e.clone(),t).f}catch(t){return e}}}}]),n.api()}()},6238:(e,t,r)=>{if(void 0===n){var n=r(7182);r(684)}!function(){"use strict";var e=n.getCore(),t=e.PARSER,r=e.Frac,i=e.Settings,s=e.Utils.isSymbol,a=e.groups.FN,o=e.Symbol,u=e.Utils.text,l=e.Utils.inBrackets,c=e.Utils.isInt,h=e.Utils.format,p=e.Utils.even,f=e.Utils.evaluate,m=e.groups.N,d=e.groups.S,g=(a=e.groups.FN,e.groups.PL),y=e.groups.CP,v=e.groups.CB,x=e.groups.EX,b=e.groups.P,w=i.LOG,S="sqrt",E="sin",A="cos",T="tan",M="sec",_="csc",N="cot",I="sinh",C="cosh";function O(e){this.message=e||""}O.prototype=new Error,o.prototype.hasIntegral=function(){return this.containsFunction("integrate")},o.prototype.fnTransform=function(){if(this.group!==a)return this;var e,r=this.args[0],n=new o(this.multiplier),i=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case I:e=t.parse(h("(e^({0})-e^(-({0})))/2",r));break;case C:e=t.parse(h("(e^({0})+e^(-({0})))/2",r));break;case"tanh":e=t.parse(h("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",r));break;case T:e=t.parse(h("sin({0})/cos({0})",r));break;case _:e=t.parse(h("1/sin({0})",r));break;case M:e=t.parse(h("1/cos({0})",r));break;default:e=i}else if(this.power.equals(2))switch(this.fname){case E:e=t.parse(h("1/2-cos(2*({0}))/2",r));break;case A:e=t.parse(h("1/2+cos(2*({0}))/2",r));break;case T:e=t.parse(h("sin({0})^2/cos({0})^2",r));break;case C:e=t.parse(h("1/2+cosh(2*({0}))/2",r));break;case I:e=t.parse(h("-1/2+cosh(2*({0}))/2",r));break;case"tanh":e=t.parse(h("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",r));break;case M:e=t.parse(h("(1-cos(2*({0})))/(1+cos(2*({0})))+1",r));break;default:e=i}else if(this.fname===M)e=t.parse(h("1/cos({0})^({1})",this.args[0],this.power));else if(this.fname===_)e=t.parse(h("1/sin({0})^({1})",this.args[0],this.power));else if(this.fname===T)e=this.power.lessThan(0)?t.parse(h("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):t.parse(h("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power));else if(this.fname===E&&this.power.lessThan(0))e=t.parse(h("csc({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===A&&this.power.lessThan(0))e=t.parse(h("sec({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===E&&this.power.equals(3))e=t.parse(h("(3*sin({0})-sin(3*({0})))/4",this.args[0]));else if(this.fname===A&&this.power.equals(3))e=t.parse(h("(cos(3*({0}))+3*cos({0}))/4",this.args[0]));else if(this.fname!==A&&this.fname!==E||!p(this.power))e=i;else{var s=this.power/2,u=t.pow(this.clone().toLinear(),t.parse(2)).fnTransform(),l=t.expand(t.pow(u,t.parse(s)));e=new o(0),l.each((function(r){var n=r.fnTransform();e=t.add(e,n)}),!0)}return t.multiply(e,n)},o.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===d)return!1;if(this.fname&&(e.Utils.in_trig(this.fname)||e.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols)for(var t in this.symbols)if(this.symbols[t].hasTrig())return!0;return!1},e.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},e.Utils.toCommonDenominator=function(r){if(r.isComposite()&&r.isLinear()){var n=new o(r.multiplier),i=new o(1),s=new o(0);return r.each((function(e){i=t.multiply(i,e.getDenom())}),!0),r.each((function(e){var r=e.getNum(),n=e.getDenom(),a=t.multiply(r,t.divide(i.clone(),n));s=t.add(s,a)})),t.multiply(n,e.Algebra.divide(t.expand(s),t.expand(i)))}return r},e.Utils.in_inverse_trig=function(e){return-1!==["asin","acos","atan","acsc","asec","acot"].indexOf(e)},e.Utils.in_trig=function(e){return-1!==[A,E,T,M,_,N].indexOf(e)},e.Utils.in_htrig=function(e){return-1!==[I,C,"tanh","acsch","asech","acoth"].indexOf(e)};var k=e.Utils.all_functions=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t].group!==a)return!1;return!0},D=e.Utils.cosAsinBtranform=function(e,r){var n,i;return n=e.args[0],i=r.args[0],t.parse(h("(sin(({0})+({1}))-sin(({0})-({1})))/2",n,i))},R=e.Utils.cosAsinAtranform=function(e,r){return 1!==Number(r.power)?t.multiply(e,r):(n=e.args[0],t.parse(h("(sin(2*({0})))/2",n)));var n},L=e.Utils.cosAsinBtranform=function(e,r){var n,i;return n=e.args[0],i=r.args[0],t.parse(h("(cos(({0})+({1}))-cos(({0})-({1})))/2",n,i))},F=e.Utils.trigTransform=function(e){for(var r,n,i={},s=new o(1),u=0,l=e.length;u<l;u++)if((r=e[u]).group===a){var c=r.fname;c===A&&i.sin?(n=i.sin.args[0].toString()!==r.args[0].toString()?D(r,i.sin):R(r,i.sin),delete i.sin,s=t.multiply(s,n)):c===E&&i.cos?(n=i.cos.args[0].toString()!==r.args[0].toString()?D(r,i.cos):R(r,i.cos),delete i.cos,s=t.multiply(s,n)):c===E&&i.sin?(i.sin.args[0].toString()!==r.args[0].toString()?(n=L(r,i.sin),delete i.sin):(n=t.multiply(r,i.sin),delete i.sin),s=n):i[c]=r}else s=t.multiply(s,r);for(var h in i)s=t.multiply(s,i[h]);return s};e.Settings.integration_depth=10,e.Settings.max_lim_depth=10;var U=e.Calculus={version:"1.4.6",sum:function(r,n,i,s){if(n.group!==e.groups.S)throw new e.exceptions.NerdamerTypeError("Index must be symbol. "+u(n)+" provided");var a;if(n=n.value,e.Utils.isNumericSymbol(i)&&e.Utils.isNumericSymbol(s)){var l=s-i<200?"":"PARSE2NUMBER";i=Number(i),s=Number(s),a=e.Utils.block(l,(function(){for(var a=r.text(),u={"~":!0},l=new e.Symbol(0),c=i;c<=s;c++){u[n]=new o(c);var h=t.parse(a,u);l=t.add(l,h)}return l}))}else a=t.symfunction("sum",arguments);return a},product:function(r,n,i,s){if(n.group!==e.groups.S)throw new e.exceptions.NerdamerTypeError("Index must be symbol. "+u(n)+" provided");var a;if(n=n.value,e.Utils.isNumericSymbol(i)&&e.Utils.isNumericSymbol(s)){var l=s-i<200?"":"PARSE2NUMBER";a=e.Utils.block(l,(function(){i=Number(i),s=Number(s.multiplier);for(var a=r.text(),u={},l=new e.Symbol(1),c=i;c<=s;c++)u[n]=new o(c),l=t.multiply(l,t.parse(a,u));return l}))}else a=t.symfunction("product",arguments);return a},diff:function(n,c,p){if(e.Utils.isVector(n)){var f=new e.Vector([]);return n.each((function(e){f.elements.push(U.diff(e,c,p))})),f}if(e.Utils.isMatrix(n)){var I=new e.Matrix;return n.each((function(e,t,r){I.set(t,r,U.diff(e,c,p))})),I}var C=s(c)?c.text():c;if(p=s(p)?p.multiplier:p||1,void 0===C&&(C=e.Utils.variables(n)[0]),n.group===a&&n.fname===S){var O=n.args[0],k=n.power.clone();O.group===m&&O.group===b||(O.power=s(O.power)?t.multiply(O.power,t.multiply(new o(.5)),k):O.power.multiply(new r(.5)).multiply(k),O.multiplier=O.multiplier.multiply(n.multiplier)),n=O}if(n.group!==a||s(n.power))n=F(n);else{var D=F(t.parse(n)),R=U.diff(n.args[0].clone(),C);n=t.multiply(D,R)}return p>1&&(p--,n=U.diff(n,c,p)),n;function L(e){return(e.value===C||e.contains(C,!0))&&(e.multiplier=e.multiplier.multiply(e.power),e.power=e.power.subtract(new r(1)),e.power.equals(0)&&(e=o(e.multiplier))),e}function F(e){var n,p,f=e.group;if(f===m||f===d&&e.value!==C||f===b)e=o(0);else if(f===d)e=L(e);else{if(f===v){var S=e.multiplier.clone();e.toUnitMultiplier();var I=t.multiply(function(e){for(var r=e.collectSymbols(),n=new o(0),i=r.length,s=0;s<i;s++){for(var a=U.diff(r[s].clone(),C),u=0;u<i;u++)s!==u&&(a=t.multiply(a,r[u].clone()));n=t.add(n,a)}return n}(e),L(e));return I.multiplier=I.multiplier.multiply(S),I}if(f===a&&e.power.equals(1))switch(e.fname){case w:p=e.clone(),(e=e.args[0].clone()).power=e.power.negate(),e.multiplier=p.multiplier.divide(e.multiplier);break;case A:e.fname=E,e.multiplier.negate();break;case E:e.fname=A;break;case T:e.fname=M,e.power=new r(2);break;case M:e=z(e,T);break;case _:e=z(e,"-cot");break;case N:e.fname=_,e.multiplier.negate(),e.power=new r(2);break;case"asin":e=t.parse("(sqrt(1-("+u(e.args[0])+")^2))^(-1)");break;case"acos":e=t.parse("-(sqrt(1-("+u(e.args[0])+")^2))^(-1)");break;case"atan":e=t.parse("(1+("+u(e.args[0])+")^2)^(-1)");break;case"abs":S=e.multiplier.clone(),e.toUnitMultiplier(),(n=e.args[0].clone()).toUnitMultiplier(),(e=t.parse(l(u(e.args[0]))+"/abs"+l(u(n)))).multiplier=S;break;case"parens":e=o(1);break;case"cosh":e.fname="sinh";break;case"sinh":e.fname="cosh";break;case"tanh":e.fname="sech",e.power=new r(2);break;case"sech":e=z(e,"-tanh");break;case"csch":var O=String(e.args[0]);return t.parse("-coth("+O+")*csch("+O+")");case"coth":return O=String(e.args[0]),t.parse("-csch("+O+")^2");case"asinh":e=t.parse("(sqrt(1+("+u(e.args[0])+")^2))^(-1)");break;case"acosh":e=t.parse("(sqrt(-1+("+u(e.args[0])+")^2))^(-1)");break;case"atanh":e=t.parse("(1-("+u(e.args[0])+")^2)^(-1)");break;case"asech":O=String(e.args[0]),e=t.parse("-1/(sqrt(1/("+O+")^2-1)*("+O+")^2)");break;case"acoth":e=t.parse("-1/(("+e.args[0]+")^2-1)");break;case"acsch":O=String(e.args[0]),e=t.parse("-1/(sqrt(1/("+O+")^2+1)*("+O+")^2)");break;case"asec":O=String(e.args[0]),e=t.parse("1/(sqrt(1-1/("+O+")^2)*("+O+")^2)");break;case"acsc":O=String(e.args[0]),e=t.parse("-1/(sqrt(1-1/("+O+")^2)*("+O+")^2)");break;case"acot":e=t.parse("-1/(("+e.args[0]+")^2+1)");break;case"S":O=String(e.args[0]),e=t.parse("sin((pi*("+O+")^2)/2)");break;case"C":O=String(e.args[0]),e=t.parse("cos((pi*("+O+")^2)/2)");break;case"Si":O=e.args[0],e=t.parse("sin("+O+")/("+O+")");break;case"Shi":O=e.args[0],e=t.parse("sinh("+O+")/("+O+")");break;case"Ci":O=e.args[0],e=t.parse("cos("+O+")/("+O+")");break;case"Chi":O=e.args[0],e=t.parse("cosh("+O+")/("+O+")");break;case"Ei":O=e.args[0],e=t.parse("e^("+O+")/("+O+")");break;case"Li":O=e.args[0],e=t.parse("1/"+i.LOG+"("+O+")");break;case"erf":e=t.parse("(2*e^(-("+e.args[0]+")^2))/sqrt(pi)");break;case"atan2":var k=String(e.args[0]),D=String(e.args[1]);e=t.parse("("+D+")/(("+D+")^2+("+k+")^2)");break;case"sign":e=new o(0);break;case"sinc":e=t.parse(h("(({0})*cos({0})-sin({0}))*({0})^(-2)",e.args[0]));break;case i.LOG10:e=t.parse("1/(("+e.args[0]+")*"+i.LOG+"(10))");break;default:e=t.symfunction("diff",[e,c])}else if(f===x||f===a&&s(e.power)){var R;R=f===x?e.value:f===a&&e.contains(C)?e.fname+l(u(e.args[0])):e.value+l(u(e.args[0])),t.multiply(t.parse(w+l(R)),e.power.clone()),n=U.diff(t.multiply(t.parse(w+l(R)),e.power.clone()),C),e=t.multiply(e,n)}else if(f!==a||e.power.equals(1)){if(f===y||f===g){var P=new o(0);for(var B in e.symbols)P=t.add(P,U.diff(e.symbols[B].clone(),C));e=t.multiply(L(e.clone()),P)}}else(n=e.clone()).toLinear(),n.toUnitMultiplier(),e=t.multiply(L(e.clone()),F(n))}return e.updateHash(),e}function z(e,r,n){return t.multiply(e,t.parse(r+l(n||u(e.args[0]))))}},integration:{u_substitution:function(r,n){function i(e,r,i){var s=U.diff(r,n),a=i?i(e,r):t.divide(e.clone(),s);return a.contains(n,!0)?null:a}function s(e,r){var n=U.integrate(t.symfunction(e,[new o(f)]),f,0);return(n=n.sub(new o(f),r)).updateHash(),n}var u,l=r[0].clone(),c=r[1].clone(),h=l.group,p=c.group,f="__u__";if(h===a&&p!==a){if(u=i(c,(m=l.args[0]).clone()))return t.multiply(u,s(l.fname,m));if(u=i(c,l))return U.integration.poly_integrate(l)}else if(p===a&&h!==a){var m;if(u=i(l,(m=c.args[0]).clone()))return t.multiply(u,s(c.fname,m))}else if(h===a&&p===a){if(u=i(l.clone(),c.clone()))return t.multiply(U.integration.poly_integrate(c),u);if(u=i(c.clone(),l.clone()))return t.multiply(U.integration.poly_integrate(c),u)}else{if(h===x&&p!==x){if(!(u=i(c,(S=l.power).clone()))){var d=U.integration.decompose_arg(S.clone(),n),g=U.diff(d[2].clone(),n),y=U.integration.decompose_arg(g.clone(),n);if(t.multiply(d[1],y[1]).power.equals(c.power)){var v=t.divide(d[0].clone(),y[0].clone()),b=t.multiply(v.clone(),t.pow(new o(l.value),t.multiply(d[0],new o(f))));return b=t.multiply(b,new o(f)),U.integration.by_parts(b,f,0,{}).sub(f,d[1].clone())}}var w=U.integrate(l.sub(S.clone(),new o(f)),f,0);return t.multiply(w.sub(new o(f),S),u)}var S;if(p===x&&h!==x)return u=i(l,(S=c.power).clone()),w=U.integrate(c.sub(S,new o(f)),f,0),t.multiply(w.sub(new o(f),S),u);if(l.isComposite()||c.isComposite()){var E=function(r,i){var s=U.diff(i,n),a=e.Algebra.Factor.factor(r),o=e.Algebra.Factor.factor(s);return t.divide(a,o)},A=l.isComposite()?l.clone().toLinear():l.clone(),T=c.isComposite()?c.clone().toLinear():c.clone();if(u=i(A.clone(),T.clone(),E))return t.multiply(U.integration.poly_integrate(c),u);if(u=i(T.clone(),A.clone(),E))return t.multiply(U.integration.poly_integrate(l),u)}}},poly_integrate:function(e){var r=e.power.toString(),n=e.multiplier.toDecimal(),i=e.toUnitMultiplier().toLinear();return-1===Number(r)?t.multiply(new o(n),t.symfunction(w,[i])):t.parse(h("({0})*({1})^(({2})+1)/(({2})+1)",n,i,r))},stop:function(t){throw t=t||"Unable to compute integral!",e.Utils.warn(t),new O(t)},partial_fraction:function(r,n,i,a){var u,l;return s(n)||(n=t.parse(n)),u=new o(0),(l=e.Algebra.PartFrac.partfrac(r,n)).group===v&&l.isLinear()?(l.each((function(e){e.isLinear()||U.integration.stop()})),l.each((function(e){u=t.add(u,U.integrate(e,n,i,a))}))):u=t.add(u,U.integrate(l,n,i,a)),u},get_udv:function(r){var n=[[],[],[],[],[]],i=function(t){var r=t.group;if(r===a){var i=t.fname;e.Utils.in_trig(i)||e.Utils.in_htrig(i)?n[3].push(t):e.Utils.in_inverse_trig(i)?n[1].push(t):i===w?n[0].push(t):U.integration.stop()}else r===d||t.isComposite()&&t.isLinear()||r===v&&t.isLinear()?n[2].push(t):r===x||t.isComposite()&&!t.isLinear()?n[4].push(t):U.integration.stop()};r.group===v?r.each((function(e){i(o.unwrapSQRT(e,!0))})):i(r);for(var s,u=new o(1),l=0;l<5;l++){var c,h=n[l],p=h.length;if(p>0){if(p>1){c=new o(1);for(var f=0;f<p;f++)c=t.multiply(c,h[f].clone())}else c=h[0].clone();s?u=t.multiply(u,c):(s=c).multiplier=s.multiplier.multiply(r.multiplier)}}return[s,u]},trig_sub:function(r,n,i,s,a,o){(a=a||U.integration.decompose_arg(r.clone().toLinear(),n))[3],a[2];var u=a[0],c=a[1];if(c.power.equals(2)&&u.greaterThan(0)){var h=e.Utils.getU(r),p=t.parse(T+l(h)),f=t.parse(M+l(h)+"^2"),m=t.multiply(r.sub(c,p),f),d=U.integrate(m,h,i,s).sub(p,c);return e.Utils.clearU(p),d}},by_parts:function(r,n,i,s){var a,u,l,c,h,p,f,m,d,g,y,v;if(s.previous=s.previous||[],u=(a=U.integration.get_udv(r))[0],l=a[1],y=(c=o.unwrapSQRT(t.expand(U.diff(u.clone(),n)),!0)).clone().stripVar(n),c=t.divide(c,y.clone()),h=U.integrate(l.clone(),n,i||0),v=(p=t.multiply(h.clone(),c)).toString(),-1!==s.previous.indexOf(v)&&e.Utils.in_trig(u.fname)&&l.isE())return s.is_cyclic=!0,new o(1);if(s.previous.push(v),f=t.multiply(u,h),g=p.multiplier.clone(),p.toUnitMultiplier(),(d=t.multiply(U.integrate(p.clone(),n,i,s),y)).multiplier=d.multiplier.multiply(g),m=t.subtract(f,d),s.is_cyclic&&(s.previous.pop(),0===s.previous.length)){m=t.expand(m);var x=new o(0);m.each((function(e){e.contains(n)||(x=t.add(x,e.clone()))})),m=t.divide(t.subtract(m,x.clone()),t.subtract(new o(1),x))}return m},decompose_arg:e.Utils.decompose_fn},integrate:function(n,u,f,m){if(!u){var b=e.Utils.variables(n);1===b.length&&(u=b[0]),u=u||"x"}if(e.Utils.isVector(n)){var D=new e.Vector([]);return n.each((function(e){D.elements.push(U.integrate(e,u))})),D}return isNaN(u)||t.error("variable expected but received "+u),n.isConstant(!0)?t.multiply(n.clone(),t.parse(u)):(m=m||{},e.Utils.block("PARSE2NUMBER",(function(){f=f||0;var b,D=s(u)?u.toString():u,R=o.unwrapSQRT(n.clone(),!0),L=R.group;try{if(++f>e.Settings.integration_depth&&U.integration.stop("Maximum depth reached. Exiting!"),R.contains(D,!0)){if(L===d)b=U.integration.poly_integrate(R,D,f);else if(L===x)if(R.previousGroup===a&&"sqrt"!==R.fname&&R.fname!==i.PARENTHESIS&&U.integration.stop(),R.contains(D)&&R.previousGroup!==a)R.power.contains(D)?U.integration.stop():((Le=U.diff(R.clone().toLinear(),D)).contains(D)&&U.integration.stop(),b=U.integration.poly_integrate(R,D,f));else{if((K=U.diff(R.power.clone(),D)).contains(D)){var z=K.stripVar(D);if((j=t.divide(K.clone(),z.clone())).group===d&&j.isLinear())return z.multiplier=z.multiplier.divide(new r(2)),t.parse(h("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",z,D,R.multiplier));U.integration.stop()}if(R.isE())K.isLinear()?b=R:K.isE()&&K.power.group===d&&K.power.power.equals(1)?b=t.multiply(t.symfunction("Ei",[R.power.clone()]),R.power):U.integration.stop();else{var P=t.symfunction(w,[t.parse(R.value)]);b=t.divide(R,P)}b=t.divide(b,K)}else if(R.isComposite()&&R.isLinear()){var B=t.parse(R.multiplier);R.toUnitMultiplier(),b=new o(0),R.each((function(e){b=t.add(b,U.integrate(e,D,f))})),b=t.multiply(B,b)}else if(L===y)if(R.power.greaterThan(1)&&(R=t.expand(R)),R.power.equals(1))b=new o(0),R.each((function(e){b=t.add(b,U.integrate(e,D,f))}),!0);else{var V=Number(R.power);B=R.multiplier.clone(),R.toUnitMultiplier();var q=R.clone().toLinear(),$=(bt=U.integration.decompose_arg(q,D))[3],G=bt[2],K=bt[0],j=bt[1];if(-1===V&&j.group!==g&&j.power.equals(2)){var H=!c($)||$>0;if(j.group===d&&j.power.equals(2)&&H){var W=function(e){var r=new o(1);return e.each((function(e){r=t.multiply(r,"abs"===e.fname?e.args[0]:e)})),r},X=K.clone(),Y=$.clone();X=t.pow(X,new o(.5)),Y=t.pow(Y,new o(.5)),P=t.multiply(W(Y),W(X));var Z=t.symfunction("atan",[t.divide(t.multiply(K,j.toLinear()),P.clone())]);b=t.divide(Z,P)}else if(j.group===d&&j.isLinear())b=t.divide(U.integration.poly_integrate(R),K);else if(j.power.equals(4)){var J,Q,ee,te,re,ne,ie=l;X=t.parse(S+ie(K)+"*"+D+"^2"),Y=t.parse(S+ie(2)+"*"+ie(K)+"^"+ie("1/4")+"*"+ie($)+"^"+ie("1/4")+"*"+D),J=t.parse(S+ie($)),ye=t.add(t.add(X.clone(),Y.clone()),J.clone()),Be=t.add(t.subtract(X,Y),J),Q=t.parse(S+ie(2)+"*"+ie($)+"^"+ie("3/4")),ee=t.parse(S+ie($)+"*"+ie($)+"^"+ie("1/4")+"*"+D),te=t.parse("2*"+ie($)+"*"+S+ie(2)+"*"+ie($)+"^"+ie("1/4")),re=t.divide(t.subtract(Q.clone(),ee.clone()),t.multiply(te.clone(),Be)),ne=t.divide(t.add(Q,ee),t.multiply(te,ye.clone())),b=t.add(U.integrate(re,D,f,m),U.integrate(ne,D,f,m))}else b=U.integration.partial_fraction(R,D,f)}else if(-.5===V)if(j.group===d&&j.power.equals(2))if(G.multiplier.lessThan(0)&&!$.multiplier.lessThan(0))if(K.negate(),$.isConstant()&&K.isConstant()){P=t.symfunction(S,[K.clone()]);var se=t.symfunction(S,[t.multiply(K.clone(),$)]);b=t.divide(t.symfunction("asin",[t.divide(G.toLinear(),se)]),P)}else{var ae=t.symfunction(S,[K]),oe=t.multiply(ae.clone(),j.clone().toLinear());b=t.divide(t.symfunction("atan",[t.divide(oe,t.symfunction(S,[q.clone()]))]),ae)}else U.integration.stop();else U.integration.stop();else if(j.isLinear()&&j.group!==g)b=t.divide(U.integration.poly_integrate(R),K);else{if(j.power.equals(2)&&K.greaterThan(0)){var ue,le,ce,he,pe,fe;ue=t.parse(S+l(K)),le=t.parse(S+l($)),ce=t.multiply(ue.clone(),le.clone()).invert(),he=t.pow($,new o(R.power)),fe=e.Utils.getU(R),Se=t.multiply(ce,j.clone().toLinear()),pe=t.parse("atan"+l(Se));var me=2*(Math.abs(R.power)-1),de=U.integrate(t.parse(A+l(fe)+"^"+me));return e.Utils.clearU(fe),t.multiply(de.sub(fe,pe),he)}if(R.group===v||R.power.lessThan(0)){Z=R.clone().toLinear();var ge=e.Algebra.Factor.factor(Z).toString()!==Z.toString();if(e.Algebra.degree(Z,t.parse(D)).equals(2)&&!ge)try{var ye,ve,xe;xe=e.Algebra.sqComplete(Z,D),Se=e.Utils.getU(Z),ye=xe.f.sub(xe.a,Se),ve=t.pow(ye,t.parse(R.power)),b=U.integrate(ve,Se).sub(Se,xe.a)}catch(e){U.integration.stop()}else b=U.integration.partial_fraction(R,D,f,m)}else b=U.integration.by_parts(R,D,f,m)}b.multiplier=b.multiplier.multiply(B)}else if(L===a){var be=R.args[0];B=R.multiplier.clone(),R.toUnitMultiplier(),K=(bt=U.integration.decompose_arg(be,D))[0],j=bt[1];var we=R.fname;if(we===w||"asin"===we||"acos"===we||"atan"===we&&j.isLinear())if(V=R.power.toString(),c(V)&&(f-=V),be.isComposite()){var Se=e.Utils.getU(R),Ee=(Z=t.pow(t.parse(w+l(Se)),new o(V)),U.diff(be,D)),Ae=t.multiply(Z,Ee);de=U.integrate(Ae,Se,f,m),b=t.multiply(t.parse(B),de.sub(Se,be))}else b=t.multiply(t.parse(B),U.integration.by_parts(R,D,f,m));else{if(we===T&&R.power.lessThan(0))return(Ot=R.clone()).power.negate(),Ot.fname=N,t.multiply(t.parse(B),U.integrate(Ot,D,f));if(!K.contains(D,!0)&&R.isLinear())if("abs"===we)if((j=t.divide(be.clone(),K.clone())).group!==d||j.power.lessThan(0))U.integration.stop();else if(e.Utils.even(j.power))b=U.integrate(be,D,f);else{var Te=U.integrate(j,D,f);Te.power=Te.power.subtract(new r(1)),b=t.multiply(t.multiply(t.symfunction("abs",[j.toLinear()]),Te),K)}else{var Me=R.args[0].group,_e=U.integration.decompose_arg(be,D);switch((Me!==y&&Me!==d&&Me!==v||!_e[1].power.equals(1)||be.hasFunc())&&U.integration.stop(),we){case A:b=t.symfunction(E,[be]);break;case E:(b=t.symfunction(A,[be])).negate();break;case T:b=t.parse(h(i.LOG+"(sec({0}))",be));break;case M:b=t.parse(h(i.LOG+"(tan({0})+sec({0}))",be));break;case _:b=t.parse(h("-"+i.LOG+"(csc({0})+cot({0}))",be));break;case N:b=t.parse(h(i.LOG+"(sin({0}))",be));break;case I:b=t.symfunction(C,[be]);break;case C:b=t.symfunction(I,[be]);break;case"tanh":b=t.parse(h(i.LOG+"(cosh({0}))",be));break;case"asec":case"acsc":case"acot":case"asech":case"acsch":case"acoth":b=U.integration.by_parts(R,D,f,m);break;case"sech":b=t.parse(h("atan(sinh({0}))",be));break;case"csch":b=t.parse(h(i.LOG+"(tanh(({0})/2))",be));break;case"coth":b=t.parse(h(i.LOG+"(sinh({0}))",be));break;case"exp":b=U.integrate(t.parse(h("e^({0})",be)),D,f);break;case"S":be=R.args[0].clone();var Ne=(Mt=U.integration.decompose_arg(be,D))[1],Ie=Mt[0],Ce=Mt[3];b=t.parse(h("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",Ie,Ce,j));break;case"C":be=R.args[0].clone(),Ne=(Mt=U.integration.decompose_arg(be,D))[1],Ie=Mt[0],Ce=Mt[3],b=t.parse(h("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",Ie,Ce,Ne));break;case"erf":be=R.args[0].clone(),Ne=(Mt=U.integration.decompose_arg(be,D))[1],Ie=Mt[0],b=t.parse(h("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",Ie,Ne,be));break;case"sign":b=t.multiply(R.clone(),be.clone());break;default:U.integration.stop()}b=t.divide(b,K)}else if(j.isLinear())if(we===A||we===E)if((V=Number(R.power))<0)R.fname=we===E?_:M,R.invert().updateHash(),b=U.integrate(R,D,f);else{be=R.args[0];var Oe=R.clone(),ke=R.clone(),De=new o((V-1)/V),Re=t.multiply(K.clone(),new o(V)).invert();Oe.power=Oe.power.subtract(new r(1)),ke.power=ke.power.subtract(new r(2));var Le=t.symfunction(we===A?E:A,[be.clone()]);we===E&&Le.negate(),b=t.add(t.multiply(t.multiply(Re,Oe),Le),t.multiply(De,U.integrate(t.parse(ke),D,f)))}else if(we===T||we===N){if(R.args[0].isLinear(D)){me=R.power.subtract(new r(1)).toString();var Fe=R.clone().toUnitMultiplier(),Ue=t.parse(h((we===N?"-":"")+"1/({2}*{0})*{3}({1})^({0})",me,be,K,we));Fe.power=Fe.power.subtract(new r(2)),Fe.power.equals(0)&&(Fe=t.parse(Fe)),b=t.subtract(Ue,U.integrate(Fe,D,f))}}else if(we===M||we===_){var ze=R.power.subtract(new r(1)).toString(),Pe=R.power.subtract(new r(2)).toString(),Be=we===M?T:N,Ve=(Fe=R.clone().toUnitMultiplier(),h((we===_?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",K,ze,Pe,be,we,Be));Ue=t.parse(Ve),Fe.power=Fe.power.subtract(new r(2)),Fe.power.equals(0)&&(Fe=t.parse(Fe)),b=t.add(Ue,t.multiply(new o(Pe/ze),U.integrate(Fe,D,f)))}else we!==C&&we!==I||!R.power.equals(2)?U.integration.stop():b=U.integrate(R.fnTransform(),D,f);else U.integration.stop();b.multiplier=b.multiplier.multiply(B)}}else if(L===g)b=U.integration.partial_fraction(R,D,f);else if(L===v){R.getDenom().group===d&&(R=t.expand(R));var qe=R.stripVar(D),$e=t.divide(R.clone(),qe.clone());if(qe.contains(D)&&($e=t.multiply($e,qe),qe=new o(1)),$e.group!==v){if($e.equals(1))return U.integrate(t.expand(R),D,f);$e.clone().toLinear().isPoly(!0)&&e.Utils.variables($e).length>1&&($e=e.Algebra.Factor.factor($e)),b=U.integrate($e,D,f)}else{var Ge=$e.collectSymbols().sort((function(e,t){return e.group===t.group?Number(e.power)===Number(t.power)?e<t?1:-1:t.power-e.power:t.group-e.group})).map((function(e){var r=o.unwrapSQRT(e,!0);return"exp"===r.fname?t.parse(h("({1})*e^({0})",r.args[0],r.multiplier)):r})),Ke=Ge.length;if(R.power<0){if(2===Ke)return U.integrate(t.expand(R),D,f,m)}else if(2===Ke){try{b=U.integration.u_substitution(Ge,D)}catch(e){}if(!b){var je=Ge[0].group,He=Ge[1].group,We=Ge[0],Xe=Ge[1],Ye=We.fname,Ze=Xe.fname;if(R=t.multiply(We.clone(),Xe.clone()),je===a&&He===a)if(Ye===w||Ze===w)b=U.integration.by_parts(R.clone(),D,f,m);else{Ge.sort((function(e,t){return t.fname>e.fname}));var Je=We.args[0];(!Je.isLinear()||Je.group!==y&&Je.group!==v&&Je.group!==d)&&U.integration.stop(),j=(bt=U.integration.decompose_arg(Je,D))[1],K=bt[0],j.isLinear()||U.integration.stop();var Qe=Xe.args[0];if(Je.equals(Qe))if(Ye===E&&Ze===A||Ye===A&&Ze===E)if(We.power.lessThan(0)&&U.integration.stop(),Ye===E&&We.power.add(Xe.power).equals(0))We.fname=T,We.updateHash(),b=U.integrate(We,D,f);else if(p(We.power)&&Ze===A&&Xe.power.lessThan(0)){me=Number(We.power)/2;var et=t.parse(h("(1-cos({0})^2)^({1})",We.args[0],me));b=U.integrate(t.expand(t.multiply(et,Xe.clone())),D,f,m)}else if(p(We.power)&&Ze===E&&Xe.power.lessThan(0))me=Number(We.power)/2,et=t.parse(h("(1-sin({0})^2)^({1})",We.args[0],me)),b=U.integrate(t.expand(t.multiply(et,Xe.clone())),D,f,m);else{var tt=e.Utils.even(We.power),rt=e.Utils.even(Xe.power);if(b=new o(0),tt&&rt){var nt=function(e){var r,n=e.power/2;return r=e.fname===A?"((1/2)+(cos(2*("+e.args[0]+"))/2))^"+n:"((1/2)-(cos(2*("+e.args[0]+"))/2))^"+n,t.parse(r)};return K=nt(We),$=nt(Xe),Le=t.multiply(K,$),(Ot=t.expand(Le)).each((function(e){b=t.add(b,U.integrate(e,D,f))})),t.multiply(b,qe)}tt?(Se=We,Fe=Xe):(Se=Xe,Fe=We);var it=Se.fname===A?-1:1,st=((me=Fe.power)-1)/2,at=t.parse("(1-"+Se.fname+e.Utils.inBrackets(Je)+"^2)^"+st);(Ot=t.expand(t.multiply(new o(it),t.multiply(Se.clone(),at)))).each((function(e){b=t.add(b,U.integration.poly_integrate(e.clone()))}))}else if(Ye===M&&Ze===T&&j.isLinear()&&Xe.isLinear())b=t.parse(h("sec({0})^({1})/({1})",We.args[0],We.power));else if(Ye===T&&Ze===M&&j.isLinear())We.isLinear()&&Xe.isLinear()?b=t.divide(t.symfunction(M,[Je.clone()]),K):p(We.power)?(V=Number(We.power)/2,Le=t.parse(h("(sec({0})^2-1)^({1})",We.args[0],V)),b=U.integrate(t.expand(t.multiply(Le,Xe)),D,f)):U.integration.stop();else if(Ye===M&&Ze===A)We.fname=A,We.invert().updateHash(),b=U.integrate(t.multiply(We,Xe),D,f);else if(Ye===E&&Ze===_)Xe.fname=E,Xe.invert().updateHash(),b=U.integrate(t.multiply(We,Xe),D,f);else if(Ye!==T||Ze!==A&&Ze!==E||!Xe.power.lessThan(0))Le=t.multiply(We.fnTransform(),Xe.fnTransform()),b=U.integrate(t.expand(Le),D,f);else{Le=t.multiply(We.fnTransform(),Xe);b=U.integrate(t.expand(Le),D,f)}else if(Ye!==E&&Ye!==A||Ze!==E&&Ze!==A)U.integration.stop();else if(We.isLinear()&&Xe.isLinear())if(We.args[0].isLinear()&&Xe.args[0].isLinear())Ze===E?(G=We.args[0],_t=Xe.args[0]):(_t=We.args[0],G=Xe.args[0]),Z=t.parse(h("(sin(({1})+({0}))+sin(({1})-({0})))/2",G.toString(),_t.toString())),b=U.integrate(Z,D,f);else{var ot=F(Ge);b=U.integrate(t.expand(ot),D,f)}else ot=new o(1),Ge.map((function(e){var r=e.fnTransform();ot=t.multiply(ot,r)})),Le=t.expand(ot),(b=U.integrate(Le,D,f)).hasIntegral()&&(b=U.integrate(F(ot.collectSymbols()),D,f))}else if(je===a&&He===d){var ut=We.isLinear();We.fname===A&&ut&&Xe.power.equals(-1)?b=t.symfunction("Ci",[We.args[0]]):We.fname===A&&Xe.power.equals(-1)?b=U.integrate(t.multiply(We.fnTransform(),Xe.clone()),D,f):We.fname===C&&ut&&Xe.power.equals(-1)?b=t.symfunction("Chi",[We.args[0]]):We.fname===C&&Xe.power.equals(-1)?b=U.integrate(t.multiply(We.fnTransform(),Xe.clone()),D,f):We.fname===E&&ut&&Xe.power.equals(-1)?b=t.symfunction("Si",[We.args[0]]):We.fname===E&&Xe.power.equals(-1)?b=U.integrate(t.multiply(We.fnTransform(),Xe.clone()),D,f):We.fname===I&&ut&&Xe.power.equals(-1)?b=t.symfunction("Shi",[We.args[0]]):We.fname===I&&Xe.power.equals(-1)?b=U.integrate(t.multiply(We.fnTransform(),Xe.clone()),D,f):We.fname===w&&Xe.power.equals(-1)?b=U.integration.poly_integrate(We,D,f):"erf"===We.fname?Xe.power.equals(1)&&(Ie=(Mt=U.integration.decompose_arg(We.args[0],D))[0],Ne=Mt[1],be=We.args[0].toString(),b=t.parse(h("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",Ie,Ne,be))):b=U.integration.by_parts(R,D,f,m)}else if(je===x&&He===d)j=Ye===w?U.integration.decompose_arg(We.args[0],D)[1]:null,b=We.isE()&&(We.power.group===d||We.power.group===v)&&Xe.power.equals(-1)?t.symfunction("Ei",[We.power.clone()]):Ye===w&&j.value===Xe.value?U.integration.poly_integrate(We,D,f):U.integration.by_parts(R,D,f,m);else if(je===g&&He===d){if(Xe.value===We.value&&We.power.equals(-1)){var lt=Math.min.apply(null,e.Utils.keys(We.symbols)),ct=Math.min(lt,Xe.power),ht=Xe.clone();ht.power=new r(ct),Xe=t.divide(Xe,ht.clone()),Le=new o(0),We.each((function(e){Le=t.add(Le,t.divide(e.clone(),ht.clone()))})),Le.multiplier=We.multiplier,R=t.divide(Xe,Le)}else R=t.expand(R);b=U.integration.partial_fraction(R,D,f)}else if(je===y&&He===d){Z=We.clone().toLinear();var pt=e.Algebra.degree(Z,t.parse(D)).equals(1);if(We.power.equals(-.5)){K=(bt=U.integration.decompose_arg(We.clone().toLinear(),D))[0].negate(),j=bt[1],$=bt[3];var ft=Number(We.power),mt=Number(Xe.power);if(c(mt)&&e.Utils.even(mt)&&j.power.equals(2)){var dt=t.divide(t.multiply(t.pow($.clone(),new o(2)),t.symfunction(S,[t.divide($.clone(),K.clone())])),t.pow(K.clone(),new o(2)));dt=t.multiply(dt,t.symfunction(S,[$]).invert());var gt=t.parse("sin(u)");gt.power=gt.power.multiply(Xe.power),de=U.integrate(gt,"u",f);var yt=t.parse("asin(sqrt("+K+"/"+$+")*"+D+")");b=t.multiply(dt,de.sub(new o("u"),yt))}else if(-.5===ft){var vt=function(e,r){var n=t.parse(U.integrate(e,D,f,m).sub(D,h(r,D)));if(!n.hasIntegral())return n};-1===mt?b=vt(t.expand(t.expand(t.pow(t.multiply(We.invert(),Xe.invert()),new o(2)))).invert(),"sqrt(1-1/({0})^2)"):-2===mt&&(b=vt(t.sqrt(t.expand(t.divide(t.pow(R,new o(2)).invert(),t.pow(new o(D),new o(2))).negate())).invert(),"sqrt(1-1/({0})^2)"))}}else if(We.power.equals(-1)&&Xe.isLinear()&&pt)b=U.integration.partial_fraction(R,D,f);else if(!We.power.lessThan(0)&&c(We.power)){var xt=t.expand(We);b=new o(0),xt.each((function(e){e.group===g?e.each((function(e){b=t.add(b,U.integrate(t.multiply(Xe.clone(),e),D,f))})):b=t.add(b,U.integrate(t.multiply(Xe.clone(),e),D,f))}))}else if(We.power.lessThan(-2))b=U.integration.by_parts(R,D,f,m);else if(We.power.lessThan(0)&&Xe.power.greaterThan(1)){var bt;if(K=(bt=U.integration.decompose_arg(We.clone().toLinear(),D))[0].negate(),j=bt[1],$=bt[3],q=We.clone().toLinear(),j.group!==g&&j.isLinear()){V=Number(Xe.power),Se=new o(Ee="_u_");var wt=t.expand(t.divide(t.pow(t.subtract(Se.clone(),$.clone()),new o(V)),Se.clone())),St={};St[Ee]=q;var Et=t.parse(wt,St);b=U.integrate(Et,D,0)}else if(Xe.power.greaterThan(j.power)||Xe.power.equals(j.power)){var At=new e.Algebra.Classes.Factors;We=e.Algebra.Factor.coeffFactor(We.invert(),At);var Tt=e.Algebra.divide(Xe,We);Tt.group!==v?(b=new o(0),Tt.each((function(e){b=t.add(b,U.integrate(e,D,f))})),At.each((function(e){b=t.divide(b,e)})),b=t.expand(b)):b=U.integration.by_parts(R,D,f,m)}else b=U.integration.partial_fraction(R,D,f)}else if(We.power.den.equals(2)){K=(Mt=U.integration.decompose_arg(We.clone().toLinear(),D))[3],j=Mt[1],$=Mt[0];var Mt,_t=Mt[2];if(j.power.equals(2)&&$.lessThan(0)){K.equals(1)||(qe=t.multiply(qe,t.pow(K,new o(2)))),Se=D,dt=t.divide(t.pow($.clone().negate(),new o(.5)),t.pow(K,new o(.5))),Ee=t.symfunction(A,[new o(Se)]);var Nt=t.pow(t.symfunction(A,[new o(Se)]),new o(We.power.num)),It=t.pow(t.symfunction(E,[new o(Se)]),new o(Xe.power)),Ct=t.multiply(t.multiply(Nt,Ee),It);de=U.integrate(Ct,Se,f),b=de.sub(Se,t.symfunction("asin",[t.multiply(new o(D),dt)]))}else b=U.integration.partial_fraction(R,D,f,m)}else pt&&(b=U.integration.partial_fraction(R,D,f))}else if(We.isComposite()&&Xe.isComposite())if(b=new o(0),We.power.greaterThan(0)&&Xe.power.greaterThan(0)){var Ot;(Ot=t.expand(R)).each((function(e){b=t.add(b,U.integrate(e,D,f))}),!0)}else ft=Number(We.power),mt=Number(Xe.power),ft<0&&mt>0&&(Le=We,We=Xe,Xe=Le),-1===ft&&-1===mt?b=U.integration.partial_fraction(R,D):We.each((function(e){var r=t.multiply(e,Xe.clone()),n=U.integrate(r,D,f);b=t.add(b,n)}));else if(je===y&&Ge[0].power.greaterThan(0))We=t.expand(We),b=new o(0),We.each((function(e){b=t.add(b,U.integrate(t.multiply(e,Xe.clone()),D,f))}),!0);else if(je===a&&He===x&&e.Utils.in_htrig(We.fname))We=We.fnTransform(),b=U.integrate(t.expand(t.multiply(We,Xe)),D,f);else if(je===a&&He===y||He===a&&je===y){var kt,Dt,Rt;if(He===a&&je===y&&(Le=We,We=Xe,Xe=Le),Ee=o.unwrapSQRT(U.diff(We.clone(),D),!0),kt=o.unwrapSQRT(Xe,!0),Ee.power.equals(kt.power)){if(V=new o(Xe.power),Dt=Ee.clone().toLinear(),Rt=Xe.clone().toLinear(),(De=e.Algebra.divide(Dt.toLinear(),Rt)).isConstant()){var Lt=t.pow(De,V.negate());b=t.multiply(Lt,U.integration.poly_integrate(We.clone()))}}else b=U.integration.by_parts(R,D,f,m)}else{var Ft=We.clone().toLinear(),Ut=Xe.clone().toLinear();b=je===x&&He===x&&We.power.contains(D)&&Xe.power.contains(D)&&!Ft.contains(D)&&!Ut.contains(D)?t.parse(h("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",Ft.toString(),Ut.toString(),We.power.multiplier.toString(),Xe.power.multiplier.toString(),D)):U.integration.by_parts(R,D,f,m)}}}else if(3===Ke&&(Ge[2].group===d&&Ge[2].power.lessThan(2)||Ge[0].group===y)){var zt=Ge[0];zt.group===y?(zt.power.greaterThan(1)&&(zt=t.expand(zt)),Fe=t.multiply(Ge[1],Ge[2]),b=new o(0),zt.each((function(e){var r=t.multiply(e,Fe.clone()),n=U.integrate(r,D,f);b=t.add(b,n)}),!0)):b=U.integration.by_parts(R,D,f,m)}else if(k(Ge)){Le=new o(1);var Pt=0;for(Ke=Ge.length;Pt<Ke;Pt++)Le=t.multiply(Le,Ge[Pt].fnTransform());Le=t.expand(Le),b=U.integrate(Le,D,f)}else ot=F(Ge),b=U.integrate(t.expand(ot),D,f)}b=t.multiply(b,qe)}}else b=t.multiply(R.clone(),t.parse(D));if(b)return b}catch(t){if(!(t instanceof O||t instanceof e.exceptions.DivisionByZero))throw t}return t.symfunction("integrate",[n,u])}),!1))},defint:function(r,n,i,s){s=s||"x";var a,u,l=function(e,r,n){try{return t.parse(e,r)}catch(t){return U.Limit.limit(e,s,n)}},c=e.Utils.variables(r),h=r.hasTrig();if(1===c.length&&(s=c[0]),h||(u=U.integrate(r,s)),h||u.hasIntegral())if(1===c.length&&n.isConstant()&&i.isConstant()){var p=e.Utils.build(r);a=new o(e.Math2.num_integrate(p,Number(n),Number(i)))}else a=t.symfunction("defint",[r,n,i,s]);else{var f,m,d={},g={};d[s]=i,g[s]=n,f=l(u,d,i),m=l(u,g,n),a=t.subtract(f,m)}return a},Limit:{interval:function(e,r){return t.parse(h("[{0}, {1}]",e,r))},diverges:function(){return U.Limit.interval("-Infinity","Infinity")},divide:function(r,n,s,a,u){if(!(u++>i.max_lim_depth)){r.clone();var l=n.clone();if("abs"===n.fname){var c=r.sign(),h=a.sign();if(a.isInfinity)return t.multiply(new o(c),new o(h));if(a.equals(0)){var p=t.parse(r.multiplier),m=t.parse(n.multiplier);return t.divide(t.multiply(p,U.Limit.interval("-1","1")),m)}U.Limit.diverges()}var d=function(t){if(e.Utils.isVector(t)){for(var r=0;r<t.elements.length;r++)if(!t.elements[r].isInfinity)return!1;return!0}return t.isInfinity},g=function(t,r){return!e.Utils.isVector(t)&&t.equals(r)};do{var y=f(U.Limit.limit(r.clone(),s,a,u)),v=f(U.Limit.limit(n.clone(),s,a,u)),x=d(y)&&d(v)||g(y,0)&&g(v,0);if(x){var b=U.diff(r.clone(),s),w=U.diff(n.clone(),s),S=t.expand(t.divide(b,w));r=S.getNum(),n=S.getDenom()}}while(x);var E=v.equals(0),A=Number(l.power);return a.isConstant(!0)&&E?o.infinity(e.Utils.even(A)&&y.lessThan(0)?-1:void 0):E?U.Limit.diverges():t.divide(y,v)}},rewriteToLog:function(e){var r=e.power.clone();return e.toLinear(),t.pow(new o("e"),t.multiply(r,t.symfunction(i.LOG+"",[e])))},getSubbed:function(e,t,r){var n;e.group===x&&(e=U.rewriteToLog(e));try{n=e.sub(t,r)}catch(t){n=e}return n},isInterval:function(t){return e.Utils.isVector(t)},isConvergent:function(e){return!(U.Limit.isInterval(e)&&e.elements[0].isInfinity&&e.elements[1].isInfinity||e.containsFunction("limit"))},limit:function(r,n,s,u){if(r=e.Algebra.Simplify.simplify(r),u=u||1,!(u++>i.max_lim_depth)){var l=t.parse(r.multiplier);r.toUnitMultiplier();try{var c;if(r.isConstant(!0))c=r;else{var p={};p[n]=s;try{var m=t.parse(r.sub(n,s),p);(m.isConstant(!0)||m.isInfinity)&&(c=m)}catch(e){}if(!c){var g=r.getNum(),y=r.getDenom();if(y.isConstant(!0)){if(r.group===x){var b=r.clone().toLinear(),S=(r.power.clone(),b.getNum()),M=b.getDenom(),_=e.Utils.decompose_fn(M,n,!0);if(S.group===d&&S.multiplier.isOne()&&_.ax.group===d&&_.b.isConstant(!0)&&_.a.isOne()&&_.b.isConstant(!0))c=t.parse(h("(1/e^({0}))",_.b));else{var N=U.Limit.rewriteToLog(r.clone()),I=N.power.clone(),C=N.clone().toLinear(),O=U.Limit.limit(C,n,s,u),k=U.Limit.limit(I,n,s,u);c=t.pow(O,k)}}else if(r.group===a&&1===r.args.length){var D,R=U.Limit.limit(r.args[0],n,s,u);if(e.Utils.isVector(R))return c=R.map((function(e){return r.clone().args[0]=e,U.Limit.limit(t.symfunction(r.fname,[e]),n,s,u)})),t.multiply(l,c);if(R.isConstant(!0)){var L=t.symfunction(r.fname,[R]);try{f(L),D=!0}catch(e){D=!1}}if(D)c=L;else if(U.Limit.isConvergent(R))if(r.fname===w)switch(R.toString()){case"0":c=o.infinity().negate();break;case"Infinity":case"-Infinity":c=o.infinity()}else if(r.fname!==A&&r.fname!==E||!s.isInfinity){if(r.fname===T){var F=r.args[0],z=F.getNum(),P=F.getDenom(),B=z.toUnitMultiplier();(s.isInfinity||B.equals("pi")&&P.equals(2))&&(c=divergent())}else if(r.fname===i.FACTORIAL&&R.isInfinity)return o.infinity()}else c=U.Limit.interval(-1,1)}else if(r.group===d){if(r.power>0)return t.parse(r,p);c=e.Utils.even(r.power)?o.infinity():U.Limit.diverges()}else if(r.group===v){var V,q;for(b=(K=r.collectSymbols().sort((function(e,t){return e.group-t.group}))).pop(),V=f(U.Limit.limit(b,n,s,u));K.length;){var $=K.pop();q=f(U.Limit.limit($,n,s,u)),V.isInfinity||!U.Limit.isConvergent(V)&&q.equals(0)||V.equals(0)&&U.Limit.isConvergent(q)?($.containsFunction(w)&&($=[b,b=$][0]),$.invert(),V=U.Limit.divide(b,$,n,s,u)):(V=t.multiply(V,q),b=t.multiply(b,$))}c=V}else if(r.isComposite()){var G;r.isLinear()||(r=t.expand(r)),c=new o(0);for(var K=r.collectSymbols().sort((function(e,t){return t.group-e.group})),j=[],H=new o(0),W=0,X=K.length;W<X;W++)(Y=K[W].clone()).group===a||Y.group===v&&Y.hasFunc()?H=t.add(H,Y):j.push(Y);for(j.unshift(H),1!==j.length&&(K=j),W=0,X=K.length;W<X;W++){var Y=K[W];try{G=U.Limit.limit(Y,n,s,u)}catch(e){G=U.Limit.diverges()}try{c=t.add(c,G)}catch(e){if(u++>i.max_lim_depth)return;c=U.Limit.limit(U.diff(r,n),n,s,u)}}}}else c=U.Limit.divide(g,y,n,s,u)}}c||(c=t.symfunction("limit",[r,n,s]))}catch(e){c=t.symfunction("limit",[r,n,s])}return t.multiply(l,c)}}},Fresnel:{S:function(e){return e.isConstant(!0)?U.defint(t.parse("sin(pi*x^2/2)"),o(0),e,"x"):t.symfunction("S",arguments)},C:function(e){return e.isConstant(!0)?U.defint(t.parse("cos(pi*x^2/2)"),o(0),e,"x"):t.symfunction("C",arguments)}}};n.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return U.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return U.sum}},{name:"product",visible:!0,numargs:4,build:function(){return U.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return U.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return U.defint}},{name:"S",visible:!0,numargs:1,build:function(){return U.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return U.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return U.Limit.limit}}]),n.api()}()},518:(e,t,r)=>{var n=r(7182);r(6238),r(684),function(){"use strict";var e=n.getCore(),t=e.PARSER,r=e.Symbol,i=e.Utils.format,s=e.Utils.isVector,a=e.Utils.isArray,o=(e.Vector,e.groups.S),u=(e.groups.EX,e.groups.CP),l=e.groups.CB,c=e.groups.FN;e.Settings.Laplace_integration_depth=40,r.prototype.findFunction=function(e){if(this.group===c&&this.fname===e)return this.clone();var t;if(this.symbols)for(var r in this.symbols)if(t=this.symbols[r].findFunction(e))break;return t};var h=e.Extra={version:"1.4.1",LaPlace:{transform:function(n,s,a){n=n.clone(),s=s.toString();var u,p=(n=r.unwrapSQRT(n,!0)).stripVar(s),f=n.group;if((n=t.divide(n,p.clone())).isConstant()||!n.contains(s,!0))u=t.parse(i("({0})/({1})",n,a));else if(f===o&&e.Utils.isInt(n.power)){var m=String(n.power);u=t.parse(i("factorial({0})/({1})^({0}+1)",m,a))}else if(n.group===o&&n.power.equals(.5))u=t.parse(i("sqrt(pi)/(2*({0})^(3/2))",a));else if(n.isComposite())u=new r(0),n.each((function(e){u=t.add(u,h.LaPlace.transform(e,s,a))}),!0);else if(!n.isE()||n.power.group!==o&&n.power.group!==l)if(n.group!==c||-1===["sin","cos","sinh","cosh"].indexOf(n.fname)||n.args[0].group!==o&&n.args[0].group!==l){var d=e.Settings.integration_depth<e.Settings.Laplace_integration_depth;if(d){var g=e.Settings.integration_depth;e.Settings.integration_depth=e.Settings.Laplace_integration_depth}e.Utils.block("PARSE2NUMBER",(function(){var i=s,o=n.sub(s,i),l=t.parse("e^(-"+a+"*"+i+")*"+o);if((u=e.Calculus.integrate(l,i)).hasIntegral())return t.symfunction("laplace",arguments);u=u.sub(s,0),u=(u=t.expand(t.multiply(u,new r(-1)))).sub(i,s)}),!1),u=e.Utils.block("PARSE2NUMBER",(function(){return t.parse(u)}),!0),d&&(e.Settings.integration_depth=g)}else switch(y=n.args[0].stripVar(s),n.fname){case"sin":u=t.parse(i("({0})/(({1})^2+({0})^2)",y,a));break;case"cos":u=t.parse(i("({1})/(({1})^2+({0})^2)",y,a));break;case"sinh":u=t.parse(i("({0})/(({1})^2-({0})^2)",y,a));break;case"cosh":u=t.parse(i("({1})/(({1})^2-({0})^2)",y,a))}else{var y=n.power.stripVar(s);u=t.parse(i("1/(({1})-({0}))",y,a))}return t.multiply(u,p)},inverse:function(n,s,a){var c=n.clone();return e.Utils.block("POSITIVE_MULTIPLIERS",(function(){if(n.group===l&&(n=e.Algebra.PartFrac.partfrac(t.expand(n),s)),n.group===o||n.group===l||n.isComposite()){var p,f,m,d,g,y,v,x,b,w=function(){(d=t.multiply(d,p)).multiplier=d.multiplier.multiply(n.multiplier),d=t.divide(d,g.a)};if(y=n.multiplier.clone(),n.toUnitMultiplier(),p=n.getNum(),(f=n.getDenom().toUnitMultiplier()).group===u?(v=f.power.clone(),f.toLinear()):v=new e.Frac(1),m=s.toString(),g=e.Utils.decompose_fn(f,m,!0),e.Utils.decompose_fn(t.expand(p.clone()),m,!0),p.multiplier=p.multiplier.multiply(y),(f.group===o||f.group===l)&&g.x.value===m&&g.b.equals(0)&&e.Utils.isInt(g.x.power))b=g.x.power-1,x=e.Math2.factorial(b),d=t.divide(t.pow(a,new r(b)),new r(x)),w();else if(f.group===u&&v.equals(1)){if(g.x.isLinear()&&!p.contains(m))a=t.divide(a,g.a.clone()),d=t.parse(i("(({0})^({3}-1)*e^(-(({2})*({0}))/({1})))/(({3}-1)!*({1})^({3}))",a,g.a,g.b,v)),w();else if(g.x.group===o&&g.x.power.equals(2))if(p.contains(m)){var S=new r(1);if(p.group===l){var E=new r(1);p.each((function(e){e.contains(m)?E=t.multiply(E,e):S=t.multiply(S,e)})),p=E}var A,T,M,_,N,I,C,O,k,D,R=e.Utils.decompose_fn(p,m,!0);A=R.a,T=R.b,M=A.containsFunction("sin"),N=A.containsFunction("cos"),_=T.containsFunction("cos"),I=T.containsFunction("sin"),R.x.value===m&&R.x.isLinear()&&!(M&&_||N||I)?d=t.parse(i("(({1})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})",a,R.a,g.a,g.b)):M&&_&&(C=A.findFunction("sin"),O=T.findFunction("cos"),C.args[0].equals(O.args[0])&&!C.args[0].contains(m)&&(L=t.divide(T,O.toUnitMultiplier()).toString(),k=C.args[0].toString(),F=g.b,D=t.divide(A,C.toUnitMultiplier()),U="(({1})*({2})*cos({3})*sin(sqrt({4})*({0})))/sqrt({4})+({1})*sin({3})*({5})*cos(sqrt({4})*({0}))",d=t.parse(i(U,a,S,L,k,F,D))))}else d=t.parse(i("(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/sqrt(({2})*({3}))",a,p,g.a,g.b))}else if(g.x.power.num&&g.x.power.num.equals(3)&&g.x.power.den.equals(2)&&p.contains("sqrt(pi)")&&!p.contains(m)&&p.isLinear()){var L=t.divide(p.clone(),t.parse("sqrt(pi)"));d=t.parse(i("(2*({2})*sqrt({0}))/({1})",a,g.a,L,p))}else if(v.equals(2)&&g.x.power.equals(2)){var F,U;if(p.contains(m))if((R=e.Utils.decompose_fn(t.expand(p.clone()),m,!0)).x.isComposite()){var z=[],P=p.collectSymbols((function(t){t=r.unwrapPARENS(t);var n=e.Utils.decompose_fn(t,m,!0);return n.symbol=t,n})).sort((function(e,t){var r;return r=e.x.value!==m?0:e.x.power,(t.x.value!==m?0:t.x.power)-r}));S=new r(-1);for(var B=0;B<P.length;B++){var V=P[B];V.x.value===m?z.push(V):S=t.multiply(S,V.symbol)}z[0].x.power.equals(2)&&z[1].x.power.equals(1)&&z[1].b.equals(0)&&!z[0].b.equals(0)&&(L=z[0].a.negate(),U="-(({1})*({2})*({5})*({0})*sin((sqrt(({4})*({5}))*({0}))/({4})))/(2*({4})^2*sqrt(({4})*({5})))-(({1})*({3})*({0})*sin((sqrt(({4})*({5}))*({0}))/({4})))/(2*({4})*sqrt(({4})*({5})))+(({1})*({2})*cos((sqrt(({4})*({5}))*({0}))/({4})))/({4})^2",d=t.parse(i(U,a,S,L,z[0].b,g.a,g.b)))}else R.x.isLinear()?(S=t.divide(R.a,new r(2)),U="(({1})*({0})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*sqrt(({2})*({3})))",d=t.parse(i(U,a,S,g.a,g.b))):R.x.power.equals(2)&&(R.b.equals(0)?(S=t.divide(R.a,new r(2)),U="(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*sqrt(({2})*({3})))+(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})^2",d=t.parse(i(U,a,S,g.a,g.b))):(S=t.divide(R.a,new r(2)),F=R.b.negate(),U="-((({2})*({4})-2*({1})*({3}))*sin((sqrt(({2})*({3}))*({0}))/({2})))/(2*({2})*({3})*sqrt(({2})*({3})))+(({4})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/(2*({2})*({3}))+(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})^2",d=t.parse(i(U,a,S,g.a,g.b,F))));else S=t.divide(p,new r(2)),U="(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({3})*sqrt(({2})*({3})))-(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*({3}))",d=t.parse(i(U,a,S,g.a,g.b))}else n.isComposite()&&(d=new r(0),n.each((function(e){d=t.add(d,h.LaPlace.inverse(e,s,a))}),!0))}return d||(d=t.symfunction("ilt",[c,s,a])),d}),!0)}},Statistics:{frequencyMap:function(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r].toString();t[i]||(t[i]=0),t[i]++}return t},sort:function(e){return e.sort((function(e,r){return e.isConstant()&&r.isConstant()||t.error("Unable to sort! All values must be numeric"),e.multiplier.subtract(r.multiplier)}))},count:function(e){return new r(e.length)},sum:function(e,n){for(var i=new r(0),s=0,a=e.length;s<a;s++){var o=e[s].clone();i=n?t.add(t.pow(t.subtract(o,n.clone()),new r(2)),i):t.add(o,i)}return i},mean:function(){var e=[].slice.call(arguments);return s(e[0])?h.Statistics.mean.apply(this,e[0].elements):t.divide(h.Statistics.sum(e),h.Statistics.count(e))},median:function(){var r,n=[].slice.call(arguments);if(s(n[0]))return h.Statistics.median.apply(this,n[0].elements);try{var i=h.Statistics.sort(n),a=n.length;if(e.Utils.even(a)){var o=a/2;r=h.Statistics.mean(i[o-1],i[o])}else r=i[Math.floor(a/2)]}catch(e){r=t.symfunction("median",n)}return r},mode:function(){var r,n=[].slice.call(arguments);if(s(n[0]))return h.Statistics.mode.apply(this,n[0].elements);var i=h.Statistics.frequencyMap(n);if(1===e.Utils.keys(i).length)r=n[0];else{var o={};for(var u in i){var l=i[u];if(l in o){var c=o[l];a(c)?c.push(u):o[l]=[u,o[l]]}else o[l]=u}var p=o[Math.max.apply(null,e.Utils.keys(o))];r=a(p)?t.symfunction("mode",p.sort()):t.parse(p)}return r},gVariance:function(e,r){var n=h.Statistics.mean.apply(h.Statistics,r),i=h.Statistics.sum(r,n);return t.multiply(e,i)},variance:function(){var e=[].slice.call(arguments);if(s(e[0]))return h.Statistics.variance.apply(this,e[0].elements);var n=t.divide(new r(1),h.Statistics.count(e));return h.Statistics.gVariance(n,e)},sampleVariance:function(){var e=[].slice.call(arguments);if(s(e[0]))return h.Statistics.sampleVariance.apply(this,e[0].elements);var n=t.divide(new r(1),t.subtract(h.Statistics.count(e),new r(1)));return h.Statistics.gVariance(n,e)},standardDeviation:function(){var e=[].slice.call(arguments);return s(e[0])?h.Statistics.standardDeviation.apply(this,e[0].elements):t.pow(h.Statistics.variance.apply(h.Statistics,e),new r(.5))},sampleStandardDeviation:function(){var e=[].slice.call(arguments);return s(e[0])?h.Statistics.sampleStandardDeviation.apply(this,e[0].elements):t.pow(h.Statistics.sampleVariance.apply(h.Statistics,e),new r(.5))},zScore:function(e,r,n){return t.divide(t.subtract(e,r),n)}},Units:{table:{foot:"12 inch",meter:"100 cm",decimeter:"10 cm"}}};n.register([{name:"laplace",visible:!0,numargs:3,build:function(){return h.LaPlace.transform}},{name:"ilt",visible:!0,numargs:3,build:function(){return h.LaPlace.inverse}},{name:"mean",visible:!0,numargs:-1,build:function(){return h.Statistics.mean}},{name:"median",visible:!0,numargs:-1,build:function(){return h.Statistics.median}},{name:"mode",visible:!0,numargs:-1,build:function(){return h.Statistics.mode}},{name:"smpvar",visible:!0,numargs:-1,build:function(){return h.Statistics.sampleVariance}},{name:"variance",visible:!0,numargs:-1,build:function(){return h.Statistics.variance}},{name:"smpstdev",visible:!0,numargs:-1,build:function(){return h.Statistics.sampleStandardDeviation}},{name:"stdev",visible:!0,numargs:-1,build:function(){return h.Statistics.standardDeviation}},{name:"zscore",visible:!0,numargs:3,build:function(){return h.Statistics.zScore}}]),n.api()}()},9322:(e,t,r)=>{var i=r(7182);r(6238),r(684),function(){var e=i.getCore(),t=e.PARSER,r=e.Algebra,s=e.Calculus,a=s.integration.decompose_arg,o=e.Utils.evaluate,u=e.Utils.remove,l=e.Utils.format,c=e.Utils.build,h=e.Symbol,p=e.Utils.isSymbol,f=e.Utils.variables,m=e.groups.S,d=e.groups.PL,g=e.groups.CB,y=e.groups.CP,v=e.groups.FN,x=e.Settings,b=e.Utils.range,w=e.Utils.isArray;function S(t,r){if(r.isConstant()&&t.isConstant()&&!t.equals(r)||t.equals(e.Settings.IMAGINARY)||r.equals(e.Settings.IMAGINARY))throw new e.exceptions.NerdamerValueError(t.toString()+" does not equal "+r.toString());this.LHS=t,this.RHS=r}e.Settings.SOLVE_RADIUS=1e3,e.Settings.ROOTS_PER_SIDE=10,e.Settings.make_pi_conversions=!0,e.Settings.STEP_SIZE=.1,e.Settings.MAX_NEWTON_ITERATIONS=200,e.Settings.MAX_NON_LINEAR_TRIES=12,e.Settings.NON_LINEAR_JUMP_AT=50,e.Settings.NON_LINEAR_JUMP_SIZE=100,e.Settings.NON_LINEAR_START=.01,e.Settings.NEWTON_SLICES=200,e.Settings.NEWTON_EPSILON=2*Number.EPSILON,e.Settings.SOLUTION_PROXIMITY=1e-14,e.Settings.FILTER_SOLUTIONS=!0,e.Settings.MAX_SOLVE_DEPTH=10,e.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},e.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var e in this.symbols){var t=this.symbols[e];if(t.group===d&&t.hasNegativeTerms()||this.symbols[e].power.lessThan(0))return!0}return!1},S.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(e){return this.LHS.text(e)+"="+this.RHS.text(e)},toLHS:function(e){var r;r=(e=void 0===e)?this.removeDenom():this.clone();var n=t.subtract(r.LHS,r.RHS);return e?t.expand(n):n},removeDenom:function(){var e=this.LHS.clone(),r=this.RHS.clone(),n=t.multiply(e.getDenom(),r.getDenom());if(e=t.expand(t.multiply(e,n.clone())),(r=t.expand(t.multiply(r,n))).group===y&&r.group!==y){var i=e;e=r,r=i}if(e.group===g){i=new h(e.multiplier);var s=r.clone();e.each((function(e){e.power.lessThan(0)?s=t.divide(s,e):i=t.multiply(i,e)})),e=i,r=s}else if(e.group===y)for(var a in e.symbols){var o=e.symbols[a];if(o.group===g)for(var u in o.symbols){var l=o.symbols[u];if(l.power.lessThan(0))return new S(t.expand(t.multiply(l.clone().toLinear(),e)),t.expand(t.multiply(l.clone().toLinear(),r)))}}return new S(e,r)},clone:function(){return new S(this.LHS.clone(),this.RHS.clone())},sub:function(e,t){var r=this.clone();return r.LHS=r.LHS.sub(e.clone(),t.clone()),r.RHS=r.RHS.sub(e.clone(),t.clone()),r},isZero:function(){return e.Utils.evaluate(this.toLHS()).equals(0)},latex:function(e){return[this.LHS.latex(e),this.RHS.latex(e)].join("=")}},t.equals=function(e,t){return new S(e,t)},e.Expression.prototype.equals=function(t){return t instanceof e.Expression&&(t=t.symbol),new S(this.symbol,t)},e.Expression.prototype.solveFor=function(t){var r;if(this.symbol instanceof S){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(t))return new e.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(t))return new e.Expression(this.symbol.RHS);r=this.symbol.toLHS()}else r=this.symbol;return M(r,t).map((function(t){return new e.Expression(t)}))},e.Expression.prototype.expand=function(){if(this.symbol instanceof S){var r=this.symbol.clone();return r.RHS=t.expand(r.RHS),r.LHS=t.expand(r.LHS),new e.Expression(r)}return new e.Expression(t.expand(this.symbol))},e.Expression.prototype.variables=function(){return this.symbol instanceof S?e.Utils.arrayUnique(f(this.symbol.LHS).concat(f(this.symbol.RHS))):f(this.symbol)},e.Matrix.jacobian=function(t,r){var n=new e.Matrix;return r||(r=T.getSystemVariables(t)),r.forEach((function(r,i){t.forEach((function(t,s){var a=e.Calculus.diff(t.clone(),r);n.set(s,i,a)}))})),n},e.Matrix.prototype.max=function(){var e=new h(0);return this.each((function(t){var r=t.abs();r.gt(e)&&(e=r)})),e},e.Matrix.cMatrix=function(r,n){var i=new e.Matrix;return n.forEach((function(e,n){i.set(n,0,t.parse(r))})),i};var E=function(e,r){return t.equals(e,r)};e.Equation=S;var A=e.Utils.checkAll=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return!1;return!0},T=e.Solve={version:"2.0.3",solutions:[],solve:function(t,r){var n=M(t,String(r));return new e.Vector(n)},toLHS:function(e,r){if(p(e))return e;if(!(e instanceof S)){var n=e.split("=");n[1]=n[1]||"0",e=new S(t.parse(n[0]),t.parse(n[1]))}return e.toLHS(r)},getSystemVariables:function(t){vars=f(t[0],null,null,!0);for(var r=1,n=t.length;r<n;r++)vars=vars.concat(f(t[r]));return vars=e.Utils.arrayUnique(vars).sort(),vars},solveNonLinearSystem:function(r,i,s){if(i<0)return[];s=void 0===s?e.Settings.NON_LINEAR_START:s;var a=e.Settings.MAX_NON_LINEAR_TRIES,o=Math.floor(a/2);i=void 0===i?a:i;var u,l,h,p,f,m,d,g,y=e.Settings.NON_LINEAR_JUMP_AT,v=e.Settings.NON_LINEAR_JUMP_SIZE,x=function(e,t){return e.map((function(e,r){return Number(t.get(r,0))}))},b=T.getSystemVariables(r),w=e.Matrix.jacobian(r,b,(function(e){return c(e,b)}),!0),S=e.Settings.MAX_NEWTON_ITERATIONS,E=r.map((function(e){return c(e,b)})),A=w.map((function(e){return c(e,b)}),!0);p=e.Matrix.cMatrix(0,b);var M=e.Matrix.cMatrix(s,b);h=0;do{if(h>S)break;u=x(b,M),d=M.clone(),E.forEach((function(e,t){M.set(t,0,e.apply(null,u))}));var _=new e.Matrix;if(A.each((function(e,t,r){var n=e.apply(null,u);_.set(t,r,n)})),_=_.invert(),g=(l=t.multiply(_,M).negate()).subtract(p,(function(e){return t.parse(Number(e))})),p=d.add(l,(function(e){return t.parse(Number(e))})),M=p,h>=y&&f>1){i===o&&(s=0);var N=i>o?1:-1;return n=i%Math.floor(o)+1,s+=N*n*v,T.solveNonLinearSystem(r,--i,s)}if(m=f,h++,f=g.max(),Number(f)===Number(m))break}while(Number(f)>=Number.EPSILON);return T.systemSolutions(M,b,!0,(function(t){return e.Utils.round(Number(t),14)}))},systemSolutions:function(r,n,i,s){var a=e.Settings.SOLUTIONS_AS_OBJECT?{}:[];return r.each((function(r,o){var u=(i?t.expand(r):r).valueOf();s&&(u=s.call(r,u));var l=n[o];e.Settings.SOLUTIONS_AS_OBJECT?a[l]=u:a.push([l,u])})),a},solveSystem:function(n,s){for(var o=0;o<n.length;o++)n[o]=T.toLHS(n[o]);var l,c=n.length,p=new e.Matrix,f=new e.Matrix,m=!1;if(void 0===s){if(!r.allLinear(n))return T.solveNonLinearSystem(n);for(l=T.getSystemVariables(n),o=0;o<l.length;o++)i.setVar(l[o],"delete");for(o=0;o<c;o++){for(var d=n[o],g=0;g<c;g++){var y=l[g],v=[];d.each((function(e){e.contains(y)&&(v=v.concat(e.coeffs()))}));var x=e.Utils.arraySum(v);p.set(o,g,x)}var b=d.clone();l.map((function(e){b=b.stripVar(e,!0)})),f.set(o,0,b.negate())}}else for(l=s,m=!0,o=0;o<c;o++){for(f.set(o,0,new h(0)),d=t.expand(n[o]).collectSymbols(),g=0;g<s.length;g++){p.set(o,g,new h(0)),y=s[g];for(var w=0;w<d.length;w++){for(var S=d[w],E=!1,A=0;A<s.length;A++)S.contains(s[A])&&(E&&e.err("Multiple variables found for term "+S),E=!0);if(S.contains(y)){var M=a(u(d,w),y);p.set(o,g,t.add(p.get(o,g),M[0]))}}}for(w=0;w<d.length;w++)f.set(o,0,t.add(f.get(o,0),d[w]))}if(p.determinant().equals(0))throw new e.exceptions.SolveError("System does not have a distinct solution");var _=(p=p.invert()).multiply(f);return e.Utils.isArray(s)&&_.each((function(e){return e.negate()})),T.systemSolutions(_,l,m)},quad:function(e,r,n){var i=t.subtract(t.pow(r.clone(),h(2)),t.multiply(t.multiply(n.clone(),e.clone()),h(4))),s=t.pow(i,h(.5));return[t.parse(t.divide(t.add(r.clone().negate(),s.clone()),t.multiply(new h(2),n.clone()))),t.parse(t.divide(t.subtract(r.clone().negate(),s.clone()),t.multiply(new h(2),n.clone())))]},cubic:function(r,n,i,s){var a=s.text(),o=i.text(),u=n.text(),c=r.text(),h=t.parse(l("({1})^2-3*({0})*({2})",a,o,u)),p=t.parse(l("((2*({1})^3-9*({0})*({1})*({2})+27*({0})^2*({3}))^2-4*(({1})^2-3*({0})*({2}))^3)^(1/2)",a,o,u,c)),m=t.parse(l("((1/2)*(({4})+2*({1})^3-9*({0})*({1})*({2})+27*({0})^2*({3})))^(1/3)",a,o,u,c,p)),d={};f(m).map((function(e){d[e]=1}));var g=e.Utils.block("PARSE2NUMBER",(function(){return t.parse(m,d)}));return 0===Number(h)&&0===Number(g)&&(m=t.parse(l("((1/2)*(-({4})+2*({1})^3-9*({0})*({1})*({2})+27*({0})^2*({3})))^(1/3)",a,o,u,c,p))),["-(b/(3*a))-C/(3*a)-(((b^2-3*a*c))/(3*a*C))","-(b/(3*a))+(C*(1+i*sqrt(3)))/(6*a)+((1-i*sqrt(3))*(b^2-3*a*c))/(6*a*C)".replace(/i/g,e.Settings.IMAGINARY),"-(b/(3*a))+(C*(1-i*sqrt(3)))/(6*a)+((1+i*sqrt(3))*(b^2-3*a*c))/(6*a*C)".replace(/i/g,e.Settings.IMAGINARY)].map((function(e,a){var o={a:s.clone(),b:i.clone(),c:n.clone(),d:r.clone(),C:m.clone()};return t.parse(e,o)}))},quartic:function(r,n,i,s,a){var o,u,c,h,p,d={};return e.Utils.arrayUnique(f(a).concat(f(s)).concat(f(i)).concat(f(n)).concat(f(r))).map((function(e){d[e]=1})),a=a.toString(),s=s.toString(),i=i.toString(),n=n.toString(),r=r.toString(),o=t.parse(l("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",a,s,i)).toString(),u=t.parse(l("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",a,s,i,n)).toString(),c=t.parse(l("12*({0})*({4})-3*({1})*({3})+({2})^2",a,s,i,n,r)).toString(),h=t.parse(l("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",a,s,i,n,r)).toString(),p=t.parse(l("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",c,h)).toString(),m=t.parse(l("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",a,o,p,c)).toString(),[t.parse(l("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",a,s,o,u,m)),t.parse(l("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",a,s,o,u,m)),t.parse(l("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",a,s,o,u,m)),t.parse(l("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",a,s,o,u,m))]},divideAndConquer:function(t,r){var n=[],i=e.Algebra.Factor.factor(t);return i.group===g&&i.each((function(e){e=h.unwrapPARENS(e),n=n.concat(M(e,r))})),n},csolve:function(r,n){return e.Utils.block("IGNORE_E",(function(){var i,s,a,o,u,c,p,f;if(f=[],(i=e.Utils.decompose_fn(r,n,!0)).x.group===m){var d,g;s=t.parse(i.x.power),a=Number(s),o=t.pow(t.divide(i.b.negate(),i.a),s.invert()),c=(u=h.toPolarFormArray(o))[0],u[1],p=c.toString(),s.toString();for(var y=0;y<a;y++)g=l("({0})*e^(2*{1}*pi*{2}*{3})",p,y,s,e.Settings.IMAGINARY),d=t.parse(g),f.push(d)}return f}),!0)},getPoints:function(t,r,n){r=r||.01,n=n||[];var i=c(t),s=Math.round(0),a=i(s),o=a/Math.abs(a),u=e.Settings.ROOTS_PER_SIDE,l=u;n.push(Math.floor(s/2)),n.push(Math.abs(s)),n.push(s),t.each((function(t){t.containsFunction(e.Settings.LOG)&&n.push(.1)}));var h=b(-e.Settings.SOLVE_RADIUS,s,r),p=b(s,e.Settings.SOLVE_RADIUS,r),f=function(e,t){for(var r,s,a,u=[],l=0,c=e.length;l<c;l++)r=e[l],a=(s=i(r))/Math.abs(s),isNaN(s)||!isFinite(s)||u.length>t||(a!==o&&u.push(r),o=a);n=n.concat(u)};return f(h,l),f(p,u),n},Newton:function(t,r,n){var i,s=e.Settings.MAX_NEWTON_ITERATIONS,a=0,o=t;do{var u=r(o);if(0===o&&0===u){i=0;break}if(++a>s)return;i=o-u/n(o);var l=Math.abs(i-o);o=i}while(l>x.NEWTON_EPSILON);if(Math.abs(r(i))<=1e-13)return i},rewrite:function(r,n,i){if(n=n||new h(0),r.isComposite()&&r.isLinear()){var s=[],a=[];r.each((function(e){"sqrt"===(e=e.clone()).fname&&e.contains(i)?s.push(e):a.push(e)}),!0),1===s.length&&(n=t.expand(t.pow(t.subtract(n,e.Utils.arraySum(a)),new h(2))),r=t.expand(t.pow(h.unwrapSQRT(s[0]),new h(2))))}else r=h.unwrapSQRT(t.expand(r));var o=0,u=r.length;if(r.group===y&&r.contains(i)&&r.isLinear()){r.distributeMultiplier();var l=new h(0);return r.each((function(e){e.contains(i)?(o++,l=t.add(l,e.clone())):n=t.subtract(n,e.clone())})),r=l,o!==u?T.rewrite(r,n,i):[r,n]}if(r.group===g&&r.contains(i)&&r.isLinear())return r.multiplier.lessThan(0)&&(r.multiplier=r.multiplier.multiply(new e.Frac(-1)),n.multiplier=n.multiplier.multiply(new e.Frac(-1))),n.equals(0)?new h(0):(l=new h(1),r.each((function(e){e.contains(i)?l=t.multiply(l,e.clone()):n=t.divide(n,e.clone())})),r=l,T.rewrite(r,n,i));if(!r.isLinear()&&r.contains(i)){var c=t.parse(r.power.clone().invert());return r=t.pow(r,c.clone()),n=t.pow(t.expand(n),c.clone()),T.rewrite(r,n,i)}return r.group===v||r.group===m||r.group===d?[r,n]:void 0},sqrtSolve:function(e,r){var n=new h(0),i=new h(0);if(e.isComposite()&&(e.each((function(e){"sqrt"===e.fname&&e.contains(r)?n=t.add(n,e.clone()):i=t.add(i,e.clone())})),!n.equals(0))){var s=t.expand(t.multiply(t.parse(e.multiplier),t.subtract(t.pow(i,new h(2)),t.pow(n,new h(2))))),a=M(s,r);return a.filter((function(t){if(t.isImaginary())return t;var n={};return n[r]=t,o(e,n).equals(0)?t:void 0}))}}},M=function(n,i,o,u){if(u=u||0,u++>x.MAX_SOLVE_DEPTH)return o;if(n instanceof S){if(n.isZero())return[new h(0)];if(n.LHS.equals(i)&&!n.RHS.contains(i))return[n.RHS];if(n.RHS.equals(i)&&!n.LHS.contains(i))return[n.LHS]}if(n instanceof e.Vector&&(n=n.elements),i=i||"x",w(n))return T.solveSystem.apply(void 0,arguments);o=o||[];var l={},f=function(r,n){var i=p(r);if(!(void 0===r||"number"==typeof r&&isNaN(r)))if(w(r))r.map((function(e){f(e)}));else if("null"!==r.valueOf()){if(i||(r=t.parse(r)),e.Settings.make_pi_conversions&&n){var s=t.divide(r.clone(),new h(Math.PI)),a=s.multiplier,u=Math.abs(a.num),c=Math.abs(a.den);u<10&&c<10&&(r=t.multiply(s,new h("pi")))}var m=r.toString();l[m]||o.push(r),l[m]=!0}};if(n.group===m&&n.contains(i))return f(new h(0)),o;if(n.group===g){var b=String(i);return n.each((function(e){e.contains(b)&&M(e,i,o)})),o}n.group===v&&"sqrt"===n.fname&&(n=t.pow(h.unwrapSQRT(n),new h(2)));var E=(e.Utils.isSymbol(n)?n:T.toLHS(n,!1)).getNum(),_=e.Utils.variables(E),N=_.length;if(e.Utils.isInt(E.power)&&E.power>0&&(E=t.parse(E).toLinear()),E.group===m||E.group===g&&E.contains(i))return[new h(0)];var I,C={},O=function(r){var n=(r=t.expand(r)).clone();if(r.symbols)for(var s in r.symbols){var o=r.symbols[s],u=o.getDenom();if(!u.isConstant(!0)&&r.isComposite()){var l=new h(0);return r.each((function(e){l=t.add(l,t.multiply(e,u.clone()))})),O(t.multiply(t.parse(r.multiplier),l))}var c=a(o,i),f=c[1].fname===e.Settings.SQRT,m=h.unwrapSQRT(c[1]),g=m.power.clone();if(!p(g)&&!g.equals(.5))if(g.den.gt(1)){if(f)return r=t.subtract(r,o.clone()),r=t.add(r,t.multiply(c[0].clone(),m)),O(r);var y=C[g.den];C[g.den]=y?y++:1}else{if(-1===g.sign()){var v=t.parse(i+"^"+Math.abs(g));return r.each((function(e,n){e.contains(i)&&(r.symbols[n]=t.multiply(e,v.clone()))})),C={},O(t.parse(r))}if(o.group===d){var x=e.Utils.arrayMin(e.Utils.keys(o.symbols));if(x<0){v=t.parse(i+"^"+Math.abs(x));var b=new h(0);return n.each((function(e){b=t.add(b,t.multiply(e.clone(),v.clone()))}),!0),b}}}}return r},k=function(e){var r=new h(0),n=new h(0);return e.each((function(e){e.contains(i,!0)?r=t.add(r,e.clone()):n=t.subtract(n,e.clone())})),[r,n]};if(T.inverseFunctionSolve=function(e,r,n){var s=a(r.args[0],i);if(s[1].group===m)return t.divide(t.symfunction(e,[t.divide(n,t.parse(r.multiplier))]),s[0])},(E=O(E)).equals(0))return[E];var D=e.Utils.keys(C);if(1===D.length&&(I=D[0],E.each((function(r,n){if(r.contains(i)){var s=a(r,i),o=s[1],u=o.power;u.den.gt(1)&&(o.power=u.multiply(new e.Frac(I)),E.symbols[n]=t.multiply(o,s[0]))}})),E=t.parse(E)),f(T.sqrtSolve(E,i)),1===N)if(E.isPoly(!0)){var R=new e.Algebra.Classes.Factors;if(e.Algebra.Factor.factor(E,R),R.getNumberSymbolics()>1)for(var L in R.factors)f(M(R.factors[L],i));else{var F=(Y=e.Utils.getCoeffs(E,i)).length-1,U=!1;if(_[0]===i){if(A(Y,(function(t){return t.group!==e.groups.N}))){var z=e.Algebra.proots(E);A(z,(function(t){return!e.Utils.isInt(t)}))&&(U=!0,z.map((function(e){f(new h(e))})))}if(!U)if((n=t.parse(n))instanceof e.Equation&&(n=n.toLHS()),1===F)f(t.divide(Y[0],Y[1].negate()));else if(2===F)f(t.expand(T.quad.apply(void 0,Y)));else if(3===F){o=[];var P=e.Algebra.Factor.factor(n);(o=P.equals(n)?[]:M(P,i)).length>0?f(o):f(T.cubic.apply(void 0,Y))}else r.proots(E).map(f)}}}else try{for(var B=E.hasTrig(),V=T.getPoints(E,.1),q=T.getPoints(E,.05),$=T.getPoints(E,.01),G=e.Utils.arrayUnique(V.concat(q).concat($)).sort((function(e,t){return e-t})),K=c(E.clone()),j=s.diff(E.clone()),H=c(j),W=0;W<G.length;W++){var X=G[W];f(T.Newton(X,K,H),B)}o.sort()}catch(e){console.log(e)}else if(!E.hasFunc(i)&&E.isComposite())try{if((P=e.Algebra.Factor.factor(E.clone())).group===g)P.each((function(e){f(M(e,i))}));else{var Y,Z=(Y=e.Utils.getCoeffs(E,i)).length;switch(F=Z-1){case 0:var J=(ne=k(E))[0],Q=ne[1];J.group===e.groups.EX&&f(t.parse(e.Utils.format(e.Settings.LOG+"(({0})/({2}))/"+e.Settings.LOG+"({1})",Q,J.value,J.multiplier)));break;case 1:f(t.divide(Y[0],Y[1].negate()));break;case 2:f(T.quad.apply(void 0,Y));break;case 3:f(T.cubic.apply(void 0,Y));break;case 4:f(T.quartic.apply(void 0,Y));break;default:f(T.csolve(E,i)),0===o.length&&f(T.divideAndConquer(E,i))}0===o.length&&f(M(P,i,o,u))}}catch(e){}else try{var ee=T.rewrite(E,null,i);if(J=ee[0],Q=ee[1],J.group===v)if("abs"===J.fname)f([Q.clone(),Q.negate()]);else if("sin"===J.fname)f(T.inverseFunctionSolve("asin",J,Q));else if("cos"===J.fname)f(T.inverseFunctionSolve("acos",J,Q));else if("tan"===J.fname)f(T.inverseFunctionSolve("atan",J,Q));else if(J.fname===e.Settings.LOG){var te=a(J.args[0],i);(L=te[1]).group===m&&(E=new S(L,Q=t.divide(t.subtract(t.pow(J.args.length>1?J.args[1]:new h("e"),t.divide(Q,t.parse(J.multiplier))),te[3]),te[0])).toLHS(),f(M(E,i)))}else f(t.subtract(J,Q));else{var re=new S(J,Q).toLHS();if(re.equals(E))throw new Error("Stopping. No stop condition exists");f(M(re,i))}}catch(r){try{if(E.group===g)f(0);else if(E.group===y){var ne;if(J=(ne=k(E))[0],Q=ne[1],J.group===e.groups.EX&&J.value===i){var ie=J.power.clone().invert();f(t.pow(Q,ie))}}}catch(e){}}return I&&(o=o.map((function(e){return t.pow(e,new h(I))}))),o};i.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return M}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return e.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return E}}]),i.api()}()},9014:(e,t,r)=>{var n=r(7182);r(684),r(6238),r(9322),r(518),e.exports=n},7182:(e,t,r)=>{var n;e=r.nmd(e);var i,s=function(e){"use strict";var t=new Ue,r=e.bigInt,n=e.bigDec;n.set({precision:250});var i={},a=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],o={},u={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:["π"],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_αAβBγΓδΔϵEζZηHθΘιIκKλΛμMνNξΞoOπΠρPσΣτTυϒϕΦχXψΨωΩ∞][0-9a-z_αAβBγΓδΔϵEζZηHθΘιIκKλΛμMνNξΞoOπΠρPσΣτTυϒϕΦχXψΨωΩ]*$/i,ALIASES:{π:"pi","∞":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:80,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};!function(){u.CACHE.roots={};for(var e=2;e<=40;e++)for(var t=2;t<=40;t++){var n=r(e).pow(t);u.CACHE.roots[n+"-"+t]=e}}();var l=i.N=1,c=i.P=2,h=i.S=3,p=i.EX=4,f=i.FN=5,m=i.PL=6,d=i.CB=7,g=i.CP=8,y=u.CONST_HASH="#",v=u.PARENTHESIS,x=u.SQRT,b=u.ABS,w=u.FACTORIAL,S=u.DOUBLEFACTORIAL,E=[],A={},T=[],M=[],_=function(e,t){if(!u.suppress_errors)throw t?new t(e):new Error(e)},N=function(e){var t=function(t){this.name=e,this.message=void 0!==t?t:"";var r=new Error(this.message);r.name=this.name,this.stack=r.stack};return t.prototype=Object.create(Error.prototype),t},I=function(e){return-1!==T.indexOf(e)},C=function(e){for(var t=e[0],r=1,n=e.length;r<n;r++)if(!e[r].equals(t))return!1;return!0},O=function(e){M.push(e),u.SHOW_WARNINGS&&console&&console.warn&&console.warn(e)},k=function(e,t){if(t=t||"variable",-1===u.ALLOW_CHARS.indexOf(e)&&!u.VALIDATION_REGEX.test(e))throw new Te(e+" is not a valid "+t+" name")},D=function(e){var t=Math.sign(e);if(e=Math.abs(e),/\d+\.?\d*e[\+\-]*\d+/i.test(e)){var r=String(e).toLowerCase().split("e"),n=r.pop(),i=Math.abs(n),s=n/i,a=r[0].split(".");if(-1===s)e=(i-=a[0].length)<0?a[0].slice(0,i)+"."+a[0].slice(i)+(2===a.length?a[1]:""):"0."+new Array(i+1).join("0")+a.join("");else{var o=a[1];o&&(i-=o.length),e=i<0?a[0]+o.slice(0,i)+"."+o.slice(i):a.join("")+new Array(i+1).join("0")}}return t<0?"-"+e:e},R=function(e){for(var t=Math.floor(Math.sqrt(e)),r=2;r<=t;r++)if(e%r==0)return!1;return!0},L=function(e){return/^\d+\.?\d*$/.test(e)},F=function(e){return U(e)?F(e.multiplier.toDecimal()):e%1!=0},U=function(e){return e instanceof Fe},z=function(e){return e instanceof De},P=function(e,t,r){if(r=r||{c:[],add:function(e){-1===this.c.indexOf(e)&&isNaN(e)&&this.c.push(e)}},U(e)){var n=e.group,i=e.previousGroup;if(n===p&&P(e.power,t,r),n===g||n===d||i===g||i===d)for(var s in e.symbols)P(e.symbols[s],t,r);else if(n===h||i===h)"e"!==e.value&&"pi"!==e.value&&e.value!==u.IMAGINARY&&r.add(e.value);else if(n===m||i===m)P(J(e.symbols),t,r);else if(n===p)isNaN(e.value)||r.add(e.value),P(e.power,t,r);else if(n===f&&!t)for(var a=0;a<e.args.length;a++)P(e.args[a],t,r)}return r.c.sort()},B=function(e,r){e=t.expand(e),r=r||{};var n=function(e,n){r[e]||(r[e]=new Fe(0)),r[e]=t.add(r[e],n.clone())};return e.each((function(e){if(e.isConstant("all"))n("constants",e);else if(e.group===h)n(e.value,e);else if(e.group!==f||e.fname!==b&&""!==e.fname){if(e.group===p||e.group===f)throw new Error("Unable to separate. Term cannot be a function!");n(P(e).join(" "),e)}else B(e.args[0])})),r},V=function(e){return e instanceof Be},q=function(e){return e instanceof Ve},$=function(e){return e instanceof qe},G=function(e){return e.group===l||e.group===c},K=function(e){return Array.isArray(e)},j=function(e){return/^[-+]?\d+e?\+?\d*$/gim.test(e.toString())},H=function(e){return U(e)&&(e=e.multiplier),e.lessThan(0)},W=function(e){return e?String(e):e},X=function(e){return"("+e+")"},Y=function(){var e=[].slice.call(arguments),t=e.shift(),r=t.replace(/{(\d+)}/g,(function(t,r){var n=e[r];return"function"==typeof n?n():n}));return r},Z=Object.keys,J=function(e,t,r){for(var n in e)break;return t?n:r?{key:n,obj:e[n]}:e[n]},Q=function(e,r,n){return k(e),I(e)?null:(r=r||P(t.parse(n)),t.functions[e]=[t.mapped_function,r.length,{name:e,params:r,body:n}],n)},ee=function(e){return Math.min.apply(void 0,e)},te=function(e,r,n){var i,s,a,o;if(r=String(r),e.group===g){var u=t.expand(e.clone()).stripVar(r);i=t.subtract(e.clone(),u.clone()),o=u}else i=e.clone();return s=i.stripVar(r),a=t.divide(i.clone(),s.clone()),o=o||new Fe(0),n?{a:s,x:a,ax:i,b:o}:[s,a,i,o]},re=function(e,t){return j(e)?e>=Number.MAX_VALUE?e.toString():Number(e):(t=void 0===t?14:t,Math.round(e*Math.pow(10,t))/Math.pow(10,t))},ne=function(e,t){if(K(e))for(var r=e.length,n=0;n<r;n++)t.call(e,n);else for(var i in e)e.hasOwnProperty(i)&&t.call(e,i)},ie=function(e){return e%2==0},se=function(e){return 1/(e%1)%2==0},ae=function(e){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];-1===r.indexOf(i)&&r.push(i)}return r},oe=function(e){var t=function(e){-1===T.indexOf(e)&&T.push(e)};"string"==typeof e?t(e):ne(e,(function(e){t(e)}))},ue=function(e,t){var r;return K(e)?r=e.splice(t,1)[0]:(r=e[t],delete e[t]),r},le=function(e,t,r,n){var i=u[e];u[e]=void 0===r||!!r;var s=t.call(n);return u[e]=i,s},ce=function(e){return[].slice.call(e)},he=function(e,r){return le("PARSE2NUMBER",(function(){return t.parse(e,r)}),!0)},pe=function(e){if(K(e)){for(var r=new Be([]),n=0;n<e.length;n++)r.elements.push(pe(e[n]));return r}return U(e)?e:t.parse(e)},fe=function(e){for(var t=a[a.length-1]||2;t<e;t++)R(t)&&a.push(t)},me=function(e){for(var t=0;t<e.length;t++)if(e[t].group!==l)return!1;return!0},de=function(e){for(var t=0;t<e.length;t++)if(!e[t].isPi()&&!e[t].isE()&&!e[t].isConstant(!0))return!1;return!0},ge=N("DivisionByZero"),ye=N("ParseError"),ve=N("UndefinedError"),xe=N("MaximumIterationsReached"),be=N("NerdamerTypeError"),we=N("ParityError"),Se=N("OperatorError"),Ee=N("OutOfRangeError"),Ae=N("DimensionError"),Te=N("InvalidVariableNameError"),Me=N("ValueLimitExceededError"),_e=N("NerdamerValueError"),Ne=N("SolveError"),Ie={DivisionByZero:ge,ParseError:ye,UndefinedError:ve,MaximumIterationsReached:xe,NerdamerTypeError:be,ParityError:we,OperatorError:Se,OutOfRangeError:Ee,DimensionError:Ae,InvalidVariableNameError:Te,ValueLimitExceededError:Me,NerdamerValueError:_e,SolveError:Ne},Ce={cos:function(e){return new Fe(n.cos(e.multiplier.toDecimal()))},sin:function(e){return new Fe(n.sin(e.multiplier.toDecimal()))}},Oe={csc:function(e){return 1/Math.sin(e)},sec:function(e){return 1/Math.cos(e)},cot:function(e){return 1/Math.tan(e)},acsc:function(e){return Math.asin(1/e)},asec:function(e){return Math.acos(1/e)},acot:function(e){return Math.PI/2-Math.atan(e)},erf:function(e){var t=1/(1+.5*Math.abs(e)),r=1-t*Math.exp(-e*e-1.26551223+t*(1.00002368+t*(.37409196+t*(.09678418+t*(t*(.27886807+t*(t*(1.48851587+t*(.17087277*t-.82215223))-1.13520398))-.18628806)))));return e>=0?r:-r},diff:function(e){var t=.001;return function(r){return(e(r+t)-e(r-t))/(2*t)}},median:function(...e){e.sort((function(e,t){return e-t}));var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},fromContinued:function(e){for(var t=e.fractions.slice(),r=1/t.pop(),n=0,i=t.length;n<i;n++)r=1/(t.pop()+r);return e.sign*(e.whole+r)},continuedFraction:function(e,t){t=t||20;for(var r,n,i=Math.sign(e),s=Math.abs(e),a=Math.floor(s),o=s-a,u=0,l=!1,c={whole:a,sign:i,fractions:[]};!l&&0!==o&&(r=1/o,!((n=Math.floor(r))>1e7&&Oe.fromContinued(c)-e<=Number.EPSILON));)c.fractions.push(n),((o=r-n)<=1e-14||u>=t-1)&&(l=!0),u++;var h=c.fractions.length-1;return 1===c.fractions[h]&&(c.fractions.pop(),c.fractions[--h]++),c},bigpow:function(e,t){e instanceof Le||(e=Le.create(e)),t instanceof Le||(t=Le.create(t));var r=new Le(0);if(t.isInteger())r.num=e.num.pow(t.toString()),r.den=e.den.pow(t.toString());else{var n=Le.create(Math.pow(e.num,t.num)),i=Le.create(Math.pow(e.den,t.num));r.num=Oe.nthroot(n,t.den.toString()),r.den=Oe.nthroot(i,t.den)}return r},gamma:function(e){var t=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Oe.gamma(1-e));e-=1;for(var r=t[0],n=1;n<9;n++)r+=t[n]/(e+n);var i=e+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(i,e+.5)*Math.exp(-i)*r},bigfactorial:function(e){for(var t=new r(1),n=2;n<=e;n++)t=t.times(n);return new Le(t)},bigLog:function(e){var t=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(t[e])return Le.quick.apply(null,t[e].split("/"));e=new Le(e);for(var r=new Le(0),n=e.subtract(new Le(1)),i=e.add(new Le(1)),s=0;s<80;s++){var a=new Le(2*s+1),o=Oe.bigpow(n.divide(i),a),u=a.clone().invert().multiply(o);r=r.add(u)}return r.multiply(new Le(2))},factorial:function(e){var t=e%1==0;if(t&&e<0)return NaN;if(!t)return Oe.gamma(e+1);for(var r=1,n=2;n<=e;n++)r*=n;return r},dfactorial:function(e){if(j(e)){var t=e%2==0,r=t?e/2:(e+1)/2,n=new Le(1);if(t)for(var i=1;i<=r;i++)n=n.multiply(new Le(2).multiply(new Le(i)));else for(i=1;i<=r;i++)n=n.multiply(new Le(2).multiply(new Le(i)).subtract(new Le(1)))}else n=Math.pow(2,(1+2*e-Math.cos(Math.PI*e))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*e)-1)/4)*Oe.gamma(1+e/2);return n},GCD:function(){for(var e=ae([].slice.call(arguments).map((function(e){return Math.abs(e)}))).sort(),t=Math.abs(e.shift()),r=e.length;r-- >0;)for(var n=Math.abs(e.shift());;){if(0==(t%=n)){t=n;break}if(0==(n%=t))break}return t},QGCD:function(){for(var e=[].slice.call(arguments),t=e[0],r=1;r<e.length;r++){var n=e[r],i=t.isNegative()&&n.isNegative()?-1:1;t=n.gcd(t),i<0&&t.negate()}return t},LCM:function(e,t){return e*t/Oe.GCD(e,t)},pow:function(e,t){return e<0&&Math.abs(t)<1?1/t%2==0?NaN:-Math.pow(Math.abs(e),t):Math.pow(e,t)},factor:function(e){e=Number(e);var t=Math.sign(e);e=Math.abs(e);var r=Oe.ifactor(e),n=new Fe;for(var i in n.symbols={},n.group=d,r){var s=new Fe(1);s.group=c,s.value=i,s.power=new Fe(r[i]),n.symbols[i]=s}return n.updateHash(),1===e&&(n=new Fe(e)),t<0&&n.negate(),n},sfactor:function(e,t){t=t||{};var r=Math.floor(Math.sqrt(e));r>a[a.length-1]&&e<1e6&&fe(r);for(var n=a.length,i=0;i<n;i++)for(var s=a[i];e%s==0;)e/=s,t[s]=(t[s]||0)+1;return e>1&&(t[e]=1),t},ifactor:function(e){if("0"===(e=String(e)))return{0:1};var t=(e=new r(e)).sign?-1:1;e=e.abs();var n={};if(e.lt("65536"))n=Oe.sfactor(e,n);else{var i=function(e){e.isPrime()?n[e]=(n[e]||0)+1:n=Oe.sfactor(e,n)};try{for(var s=0;!e.abs().equals(1);){if(e.isPrime()){i(e);break}{function a(t){for(var n=new r(t),i=2,o=new r(t),u=new r(1);u.equals(1);){for(var l=0;l<=i&&u.equals(1);l++){if(s++>1e3)throw new Error("stopping");o=o.pow(2).add(1).mod(e),u=r.gcd(o.minus(n).abs(),e)}i*=2,n=o}return u.equals(e)?a(t+1):u}var o=a(2);i(o),e=e.divide(o)}}}catch(t){n={},i(e)}}if(-1===t){var u=ee(Z(n));n["-"+u]=n[u],delete n[u]}return n},boxfactor:function(e,t){t=t||200;for(var r,n,i=Math.floor(5/12*e),s=0,a=!1;r=Math.floor(e/i),0!=(n=e%i);){if(a)return[e,1];i=Math.max(n,i-n),a=++s>t}return[r,i,s]},fib:function(e){var t=Math.sign(e);e=Math.abs(e),t=ie(e)?t:Math.abs(t);for(var r=0,n=1,i=1,s=2;s<=e;s++)i=r+n,r=n,n=i;return i*t},mod:function(e,t){return e%t},integer_part:function(e){return Math.sign(e)*Math.floor(Math.abs(e))},simpson:function(e,t,r,n){var i=function(e,t,r){var n=e(t);return isNaN(n)&&(n=e(1===r?t+1e-12:t-1e-12)),n};n=n||1e-4;var s=Math.abs(Math.floor((r-t)/n));s%2!=0&&s++;for(var a=(r-t)/s,o=i(e,t,1),u=!1,l=t+a,c=1;c<s;c++)o+=(u?2:4)*i(e,l,1),u=!u,l+=a;return(o+i(e,l,2))*(a/3)},num_integrate:function(e,t,r,n,i){if(i<0)throw new Error("max depth cannot be negative");var s;try{s=function(e,t,r,n,i){var s={maxDepthCount:0,nanEncountered:!1};void 0===n&&(n=1e-9),void 0===i&&(i=45);var a=e(t),o=e(.5*(t+r)),u=e(r),l=function e(t,r,n,i,s,a,o,u,l,c,h){if(h.nanEncountered)return NaN;var p,f,m,d,g,y,v,x,b,w;if(f=t(r+.25*(p=n-r)),m=t(n-.25*p),isNaN(f))h.nanEncountered=!0;else if(isNaN(m))h.nanEncountered=!0;else if(w=((y=(d=p*(i+4*f+s)/12)+(g=p*(s+4*m+a)/12))-o)/15,!(h.maxDepthCount>1e3*l))return c>l?(h.maxDepthCount++,y+w):Math.abs(w)<u?y+w:(x=e(t,r,v=r+.5*p,i,f,s,d,.5*u,l,c+1,h),isNaN(x)?(h.nanEncountered=!0,NaN):(b=e(t,v,n,s,m,a,g,.5*u,l,c+1,h),isNaN(b)?(h.nanEncountered=!0,NaN):x+b))}(e,t,r,a,o,u,(a+4*o+u)*(r-t)/6,n,i,1,s);if(s.maxDepthCount>0&&O("integrate-adaptive-simpson: Warning: maximum recursion depth ("+i+") reached "+s.maxDepthCount+" times"),s.nanEncountered)throw new Error("Function does not converge over interval!");return l}(e,t,r,n,i)}catch(n){return Oe.simpson(e,t,r)}return re(s,12)},Ci:function(e){for(var t=0,r=1;r<20;r++){var n=2*r;t+=Math.pow(-1,r)*Math.pow(e,n)/(n*Oe.factorial(n))}return Math.log(e)+.5772156649015329+t},Si:function(e){for(var t=0,r=0;r<20;r++){var n=2*r;t+=Math.pow(-1,r)*Math.pow(e,n+1)/((n+1)*Oe.factorial(n+1))}return t},Ei:function(e){if(0===Number(e))return-1/0;for(var t=0,r=1;r<30;r++)t+=Math.pow(e,r)/(r*Oe.factorial(r));return.5772156649015329+Math.abs(Math.log(e))+t},Shi:function(e){for(var t,r,n=0,i=0;i<30;i++)r=1+(t=2*i),n+=Math.pow(e,r)/(r*r*Oe.factorial(t));return n},Chi:function(e){var t;return t=function(e){return(Math.cosh(e)-1)/e},Math.log(e)+.5772156649015329+Oe.num_integrate(t,.002,e,.001)},Li:function(e){return Oe.Ei(Oe.bigLog(e))},gamma_incomplete:function(e,t){for(var r=e-1,n=0,i=(t=t||0,0);i<r;i++)n+=Math.pow(t,i)/Oe.factorial(i);return Oe.factorial(r)*Math.exp(-t)*n},step:function(e){return e>0?1:e<0?0:.5},rect:function(e){return.5===(e=Math.abs(e))?e:e>.5?0:1},sinc:function(e){return e.equals(0)?1:Math.sin(e)/e},tri:function(e){return(e=Math.abs(e))>=1?0:1-e},nthroot:function(e,t){if(e instanceof Le||(e=new Le(e.toString())),t instanceof Le||(t=new Le(t.toString())),t.equals(1))return e;var r,n,i,s=e.divide(new Le(2)),a=new Le(1e-15),o=t.clone().invert(),u=t.subtract(new Le(1));do{var l=Oe.bigpow(s,u),c=o.multiply(e.divide(l).subtract(s)).toDecimal(25);if(r=Le.create(c),i)break;s=s.add(r),c=r.toDecimal(),i=!!n&&n===c,n=c}while(r.abs().gte(a));return s},sqrt:function(e){var t,r,n,i;e instanceof Le||(e=new Le(e));var s=0,a=!1,o=new Le(1e-20);t=e.divide(new Le(2));do{if(s>1e3)throw new Error("Unable to calculate square root for "+e);t=t.add(e.divide(t)).divide(new Le(2)),t=new Le(t.decimal(30)),r=e.subtract(t.multiply(t)),i=!!n&&n.equals(r),(r.clone().abs().lessThan(o)||i)&&(a=!0),n=r,s++}while(!a);return t}};function ke(e,t,n,i){var s="hash"===t,a=void 0,y=s?void 0:t,x="decimal"===y||"decimals"===y;function b(e){switch(t){case"decimals":case"decimal":return a=a||function(e){return!1},e.valueOf();case"recurring":a=a||function(e){return-1!==e.indexOf("'")};var n=e.toString();if(0===(g=/^-?\d+(?:\/\d+)?$/.exec(n)).length)return n;var i=g[0].split("/"),s=!1,o=Number(i[0]);o<0&&(o=-o,s=!0);var l=Number(i[1]);l||(l=1);var c=10*(o-(b=Math.floor(o/l))*l);for(b=b.toString()+".";c&&c<l;)c*=10,b+="0";for(var h="",p=[],f=0;;){if(void 0!==p[c])return(s?"-":"")+(b+h.slice(0,p[c])+"'"+h.slice(p[c])+"'").replace("'0'","").replace(/\.$/,"");var m=Math.floor(c/l),d=c-m*l;p[c]=f,h+=m.toString(),f+=1,c=10*d}case"mixed":var g;if(a=a||function(e){return-1!==e.indexOf("/")},n=e.toString(),0===(g=/^-?\d+(?:\/\d+)?$/.exec(n)).length)return n;i=g[0].split("/");var y=new r(i[0]),v=new r(i[1]);v.equals(0)&&(v=new r(1));var x=y.divmod(v),b=x.quotient,w=x.remainder,S="-"===i[0][0]||b.equals(0)||w.equals(0)?"":"+";return(b.equals(0)?"":b.toString())+S+(w.equals(0)?"":w.toString()+"/"+i[1]);case"scientific":return a=a||function(e){return!1},new Re(e.valueOf()).toString(u.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return a=a||function(e){return-1!==e.indexOf("/")},e.toString()}}if(x&&void 0===i&&(i=16),U(e)){var w="",S="",E="",A=e.group||n,T=e.value;if(!s){var M=b(e.multiplier);"-1"==M&&"-1"===String(e.multiplier)&&(E="-",M="1"),"1"!=M&&(w=M);var _=e.power?b(e.power):"";"1"!=_&&(S=U(_)?ke(_,y):_)}switch(A){case l:w="";var N=i&&x?e.multiplier.toDecimal(i):b(e.multiplier);T="-1"==String(e.multiplier)?"1":N,S="";break;case m:T=e.collectSymbols().map((function(e){var t=ke(e,y,n,i);return"0"==t&&(t=""),t})).sort().join("+").replace(/\+\-/g,"-");break;case g:T=e.collectSymbols().map((function(e){var t=ke(e,y,n,i);return"0"==t&&(t=""),t})).sort().join("+").replace(/\+\-/g,"-");break;case d:T=e.collectSymbols((function(e){var t=e.group;return(t===m||t===g)&&e.power.equals(1)&&e.multiplier.equals(1)?X(ke(e,y)):ke(e,y)})).join("*");break;case p:var I=e.previousGroup,C=e.power.group;I===m&&(T=e.collectSymbols(ke,y).join("+").replace("+-","-")),I===l||I===h||I===f||s||(T=X(T)),C!==g&&C!==d&&C!==m&&"1"==e.power.multiplier.toString()||!S||(S=X(S))}if(A===f&&(T=e.fname+X(e.args.map((function(e){return ke(e,y)})).join(","))),A===f&&e.fname in o){var O=ke(e.args[0]),k=ke(e.args[1]);e.args[0].isComposite()&&(O=X(O)),e.args[1].isComposite()&&(k=X(k)),T=O+o[e.fname]+k}S&&A!==p&&a(S)&&(S=X(S)),((A===g||A===m)&&(w&&"1"!=w||"-"===E)||(A===d||A===g||A===m)&&S&&"1"!=S||!s&&A===c&&-1==T||e.fname===v)&&(T=X(T)),i&&("decimal"===t||"decimals"===t&&w)&&(w=re(w,i));var D=E+w;w&&a(w)&&(D=X(D)),S<0&&(S=X(S)),w&&(D+="*"),S&&(S=u.POWER_OPERATOR+S),A===p&&"-"===T.charAt(0)&&(T=X(T));var R=D+T;return e.parens&&(R=X(R)),R+S}if(V(e)){for(var L=e.elements.length,F=(D=[],0);F<L;F++)D.push(e.elements[F].text(t));return"["+D.join(",")+"]"}try{return e.toString()}catch(e){return""}}function De(e){this.symbol=e}function Re(e){return this instanceof Re?((e=String(void 0===e?0:e)).startsWith("-")?(this.sign=-1,e=e.substr(1,e.length)):this.sign=1,Re.isScientific(e)?this.fromScientific(e):this.convert(e),this):new Re(e)}function Re(e){return this instanceof Re?((e=String(void 0===e?0:e)).startsWith("-")?(this.sign=-1,e=e.substr(1,e.length)):this.sign=1,Re.isScientific(e)?this.fromScientific(e):this.convert(e),this):new Re(e)}function Le(e){if(e instanceof Le)return e;if(void 0===e)return this;try{if(j(e))try{this.num=r(e),this.den=r(1)}catch(t){return Le.simple(e)}else{var t=ze.convert(e);this.num=new r(t[0]),this.den=new r(t[1])}}catch(t){return Le.simple(e)}}function Fe(e){var t="Infinity"===e;return this instanceof Fe?(/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(e)?(this.group=l,this.value=y,this.multiplier=new Le(e)):(this.group=h,k(e),this.value=e,this.multiplier=new Le(1),this.imaginary=e===u.IMAGINARY,this.isInfinity=t),this.power=new Le(1),this):new Fe(e)}function Ue(){var e=this,t={},r={names:[],actions:[]};function i(e,t){this.start=e,this.end=t}function s(){this.elements=[]}function o(e,t,r){if(this.type=t,this.value=e,void 0!==r&&(this.column=r+1),t===o.OPERATOR){var n=N[e];for(var i in n)this[i]=n[i]}else t===o.FUNCTION&&(this.precedence=o.MAX_PRECEDENCE,this.leftAssoc=!1)}i.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},i.prototype.text=function(){return ke(this.start)+":"+ke(this.end)},s.prototype.append=function(e){this.elements.push(e)},s.prototype.getItems=function(){return this.elements},s.prototype.toString=function(){return e.pretty_print(this.elements)},s.create=function(e){var t=new s;return e&&t.append(e),t},o.prototype.toString=function(){return this.value},o.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},o.OPERATOR="OPERATOR",o.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",o.FUNCTION="FUNCTION",o.UNIT="UNIT",o.KEYWORD="KEYWORD",o.MAX_PRECEDENCE=999,this.classes={Collection:s,Slice:i,Token:o};var y={prec:void 0,cos:function(t,r){var n,i;return n=e.parse(Math.cos(t)*Math.cosh(r)),i=e.parse(Math.sin(t)*Math.sinh(r)),e.subtract(n,e.multiply(i,Fe.imaginary()))},sin:function(t,r){var n,i;return n=e.parse(Math.sin(t)*Math.cosh(r)),i=e.parse(Math.cos(t)*Math.sinh(r)),e.subtract(n,e.multiply(i,Fe.imaginary()))},tan:function(t,r){var n,i;return n=e.parse(Math.sin(2*t)/(Math.cos(2*t)+Math.cosh(2*r))),i=e.parse(Math.sinh(2*r)/(Math.cos(2*t)+Math.cosh(2*r))),e.add(n,e.multiply(i,Fe.imaginary()))},sec:function(t,r){var n=this.removeDen(this.cos(t,r));return e.subtract(n[0],e.multiply(n[1],Fe.imaginary()))},csc:function(t,r){var n=this.removeDen(this.sin(t,r));return e.add(n[0],e.multiply(n[1],Fe.imaginary()))},cot:function(t,r){var n=this.removeDen(this.tan(t,r));return e.subtract(n[0],e.multiply(n[1],Fe.imaginary()))},acos:function(t,r){var n,i,s,a;return n=this.fromArray([t,r]),i=e.expand(e.pow(n.clone(),new Fe(2))),s=e.multiply(ee(e.subtract(new Fe(1),i)),Fe.imaginary()),a=Me(e.expand(e.add(n.clone(),s))),e.expand(e.multiply(Fe.imaginary().negate(),a))},asin:function(t,r){return e.subtract(e.parse("pi/2"),this.acos(t,r))},atan:function(t,r){var n,i,s,a;return a=y.fromArray([t,r]),n=e.expand(e.multiply(Fe.imaginary(),a.clone())),i=Me(e.expand(e.subtract(new Fe(1),n.clone()))),s=Me(e.expand(e.add(new Fe(1),n.clone()))),e.expand(e.multiply(e.divide(Fe.imaginary(),new Fe(2)),e.subtract(i,s)))},asec:function(e,t){var r=this.removeDen([e,t]);return r[1].negate(),this.acos.apply(this,r)},acsc:function(e,t){var r=this.removeDen([e,t]);return r[1].negate(),this.asin.apply(this,r)},acot:function(e,t){var r=this.removeDen([e,t]);return r[1].negate(),this.atan.apply(this,r)},cosh:function(t,r){var n,i;return n=e.parse(Math.cosh(t)*Math.cos(r)),i=e.parse(Math.sinh(t)*Math.sin(r)),e.add(n,e.multiply(i,Fe.imaginary()))},sinh:function(t,r){var n,i;return n=e.parse(Math.sinh(t)*Math.cos(r)),i=e.parse(Math.cosh(t)*Math.sin(r)),e.add(n,e.multiply(i,Fe.imaginary()))},tanh:function(t,r){var n,i;return n=e.parse(Math.sinh(2*t)/(Math.cos(2*r)+Math.cosh(2*t))),i=e.parse(Math.sin(2*r)/(Math.cos(2*r)+Math.cosh(2*t))),e.subtract(n,e.multiply(i,Fe.imaginary()))},sech:function(t,r){var n=this.removeDen(this.cosh(t,r));return e.subtract(n[0],e.multiply(n[1],Fe.imaginary()))},csch:function(t,r){var n=this.removeDen(this.sinh(t,r));return e.subtract(n[0],e.multiply(n[1],Fe.imaginary()))},coth:function(t,r){var n=this.removeDen(this.tanh(t,r));return e.add(n[0],e.multiply(n[1],Fe.imaginary()))},acosh:function(t,r){var n,i,s;return s=this.fromArray([t,r]),n=ee(e.add(s.clone(),new Fe(1))),i=ee(e.subtract(s.clone(),new Fe(1))),e.expand(Me(e.add(s,e.expand(e.multiply(n,i)))))},asinh:function(t,r){var n,i;return i=this.fromArray([t,r]),n=ee(e.add(new Fe(1),e.expand(e.pow(i.clone(),new Fe(2))))),e.expand(Me(e.add(i,n)))},atanh:function(t,r){var n,i,s;return s=this.fromArray([t,r]),n=Me(e.add(s.clone(),new Fe(1))),i=Me(e.subtract(new Fe(1),s)),e.expand(e.divide(e.subtract(n,i),new Fe(2)))},asech:function(e,t){var r=this.removeDen([e,t]);return r[1].negate(),this.acosh.apply(this,r)},acsch:function(e,t){var r=this.removeDen([e,t]);return r[1].negate(),this.asinh.apply(this,r)},acoth:function(e,t){var r=this.removeDen([e,t]);return r[1].negate(),this.atanh.apply(this,r)},sqrt:function(t){var r,n,i,s,a;return r=t.realpart(),n=t.imagpart(),i=Fe.hyp(r,n),s=e.add(r.clone(),i),a=ee(e.multiply(new Fe(2),s.clone())),e.add(e.divide(s.clone(),a.clone()),e.multiply(e.divide(n,a),Fe.imaginary()))},log:function(t,r){var n,i;return n=Me(Fe.hyp(t,r)),i=e.parse(Math.atan2(r,t)),e.add(n,e.multiply(Fe.imaginary(),i))},erf:(t,r)=>e.symfunction("erf",[t]),removeDen:function(t){var r,n,i;return K(t)?(n=t[0],i=t[1]):(n=t.realpart(),i=t.imagpart()),r=Math.pow(n,2)+Math.pow(i,2),[e.parse(n/r),e.parse(i/r)]},fromArray:function(t){return e.add(t[0],e.multiply(Fe.imaginary(),t[1]))},evaluate:function(t,r){var n,i,s;if(s=t.power.sign(),t.power=t.power.abs(),t.power.greaterThan(1)&&(t=e.expand(t)),s<0){var a=this.removeDen(t);n=a[0],i=a[1]}else n=t.realpart(),i=t.imagpart();return n.isConstant("all")&&i.isConstant("all")?this[r].call(this,n,i):e.symfunction(r,[t])}},E=this.trig={cos:function(t){if(t.equals("pi")&&t.multiplier.den.equals(2))return new Fe(0);if(u.PARSE2NUMBER){if(t.equals(new Fe(u.PI/2)))return new Fe(0);if(t.isConstant())return new Fe(Math.cos(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"cos")}if(t.equals(0))return new Fe(1);var r,n=!1,i=Ie(t.multiplier.toDecimal()),s=t.multiplier.abs();if(t.multiplier=s,t.isPi()&&t.isLinear())if(j(s))r=new Fe(ie(s)?1:-1);else{Number(s.num);var a=Number(s.den);2===a?r=new Fe(0):3===a?(r=e.parse("1/2"),n=!0):4===a?(r=e.parse("1/sqrt(2)"),n=!0):6===a?(r=e.parse("sqrt(3)/2"),n=!0):r=e.symfunction("cos",[t])}return!n||2!==i&&3!==i||r.negate(),r||(r=e.symfunction("cos",[t])),r},sin:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.sin(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"sin")}if(t.equals(0))return new Fe(0);var r,n=!1,i=Ie(t.multiplier.toDecimal()),s=t.multiplier.sign(),a=t.multiplier.abs();if(t.multiplier=a,t.equals("pi"))r=new Fe(0);else if(t.isPi()&&t.isLinear())if(j(a))r=new Fe(0);else{a.num;var o=a.den;2==o?(r=new Fe(1),n=!0):3==o?(r=e.parse("sqrt(3)/2"),n=!0):4==o?(r=e.parse("1/sqrt(2)"),n=!0):6==o?(r=e.parse("1/2"),n=!0):r=e.multiply(new Fe(s),e.symfunction("sin",[t]))}return r||(r=e.multiply(new Fe(s),e.symfunction("sin",[t]))),!n||3!==i&&4!==i||r.negate(),r},tan:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.tan(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"tan")}var r,n=!1,i=Ie(t.multiplier.toDecimal()),s=t.multiplier;if(t.multiplier=s,t.isPi()&&t.isLinear())if(j(s))r=new Fe(0);else{s.num;var a=s.den;if(2==a)throw new ve("tan is undefined for "+t.toString());3==a?(r=e.parse("sqrt(3)"),n=!0):4==a?(r=new Fe(1),n=!0):6==a?(r=e.parse("1/sqrt(3)"),n=!0):r=e.symfunction("tan",[t])}return r||(r=e.symfunction("tan",[t])),!n||2!==i&&4!==i||r.negate(),r},sec:function(t){if(u.PARSE2NUMBER)return t.isConstant()?new Fe(Oe.sec(t.valueOf())):t.isImaginary()?y.evaluate(t,"sec"):e.parse(Y("1/cos({0})",t));var r,n=!1,i=Ie(t.multiplier.toDecimal()),s=t.multiplier.abs();if(t.multiplier=s,t.isPi()&&t.isLinear())if(j(s))r=new Fe(ie(s)?1:-1);else{s.num;var a=s.den;if(2==a)throw new ve("sec is undefined for "+t.toString());3==a?(r=new Fe(2),n=!0):4==a?(r=e.parse("sqrt(2)"),n=!0):6==a?(r=e.parse("2/sqrt(3)"),n=!0):r=e.symfunction("sec",[t])}return!n||2!==i&&3!==i||r.negate(),r||(r=e.symfunction("sec",[t])),r},csc:function(t){if(u.PARSE2NUMBER)return t.isConstant()?new Fe(Oe.csc(t.valueOf())):t.isImaginary()?y.evaluate(t,"csc"):e.parse(Y("1/sin({0})",t));var r,n=!1,i=Ie(t.multiplier.toDecimal()),s=t.multiplier.sign(),a=t.multiplier.abs();if(t.multiplier=a,t.isPi()&&t.isLinear()){if(j(a))throw new ve("csc is undefined for "+t.toString());a.num;var o=a.den;2==o?(r=new Fe(1),n=!0):3==o?(r=e.parse("2/sqrt(3)"),n=!0):4==o?(r=e.parse("sqrt(2)"),n=!0):6==o?(r=new Fe(2),n=!0):r=e.multiply(new Fe(s),e.symfunction("csc",[t]))}return r||(r=e.multiply(new Fe(s),e.symfunction("csc",[t]))),!n||3!==i&&4!==i||r.negate(),r},cot:function(t){if(u.PARSE2NUMBER)return t.isConstant()?new Fe(Oe.cot(t.valueOf())):t.isImaginary()?y.evaluate(t,"cot"):e.parse(Y("1/tan({0})",t));var r,n=!1,i=Ie(t.multiplier.toDecimal()),s=t.multiplier;if(t.multiplier=s,t.isPi()&&t.isLinear()){if(j(s))throw new ve("cot is undefined for "+t.toString());s.num;var a=s.den;2==a?r=new Fe(0):3==a?(r=e.parse("1/sqrt(3)"),n=!0):4==a?(r=new Fe(1),n=!0):6==a?(r=e.parse("sqrt(3)"),n=!0):r=e.symfunction("cot",[t])}return r||(r=e.symfunction("cot",[t])),!n||2!==i&&4!==i||r.negate(),r},acos:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.acos(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"acos")}return e.symfunction("acos",arguments)},asin:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.asin(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"asin")}return e.symfunction("asin",arguments)},atan:function(t){var r;if(t.equals(0))r=new Fe(0);else{if(u.PARSE2NUMBER)return t.isConstant()?new Fe(Math.atan(t.valueOf())):t.isImaginary()?y.evaluate(t,"atan"):e.symfunction("atan",arguments);r=t.equals(-1)?e.parse("-pi/4"):e.symfunction("atan",arguments)}return r},asec:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.acos(t.invert().valueOf()));if(t.isImaginary())return y.evaluate(t,"asec")}return e.symfunction("asec",arguments)},acsc:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.asin(t.invert().valueOf()));if(t.isImaginary())return y.evaluate(t,"acsc")}return e.symfunction("acsc",arguments)},acot:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new e.add(e.parse("pi/2"),E.atan(t).negate());if(t.isImaginary())return y.evaluate(t,"acot")}return e.symfunction("acot",arguments)},atan2:function(t,r){if(t.equals(0)&&r.equals(0))throw new ve("atan2 is undefined for 0, 0");return u.PARSE2NUMBER&&t.isConstant()&&r.isConstant()?new Fe(Math.atan2(t,r)):e.symfunction("atan2",arguments)}},T=this.trigh={cosh:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.cosh(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"cosh")}return e.symfunction("cosh",arguments)},sinh:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.sinh(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"sinh")}return e.symfunction("sinh",arguments)},tanh:function(t){if(u.PARSE2NUMBER){if(t.isConstant())return new Fe(Math.tanh(t.valueOf()));if(t.isImaginary())return y.evaluate(t,"tanh")}return e.symfunction("tanh",arguments)},sech:function(t){return u.PARSE2NUMBER?t.isConstant()?new Fe(Math.sech(t.valueOf())):t.isImaginary()?y.evaluate(t,"sech"):e.parse(Y("1/cosh({0})",t)):e.symfunction("sech",arguments)},csch:function(t){return u.PARSE2NUMBER?t.isConstant()?new Fe(Math.csch(t.valueOf())):t.isImaginary()?y.evaluate(t,"csch"):e.parse(Y("1/sinh({0})",t)):e.symfunction("csch",arguments)},coth:function(t){return u.PARSE2NUMBER?t.isConstant()?new Fe(Math.coth(t.valueOf())):t.isImaginary()?y.evaluate(t,"coth"):e.parse(Y("1/tanh({0})",t)):e.symfunction("coth",arguments)},acosh:function(t){return u.PARSE2NUMBER&&t.isImaginary()?y.evaluate(t,"acosh"):u.PARSE2NUMBER?he(e.parse(Y(u.LOG+"(({0})+sqrt(({0})^2-1))",t.toString()))):e.symfunction("acosh",arguments)},asinh:function(t){return u.PARSE2NUMBER&&t.isImaginary()?y.evaluate(t,"asinh"):u.PARSE2NUMBER?he(e.parse(Y(u.LOG+"(({0})+sqrt(({0})^2+1))",t.toString()))):e.symfunction("asinh",arguments)},atanh:function(t){return u.PARSE2NUMBER&&t.isImaginary()?y.evaluate(t,"atanh"):u.PARSE2NUMBER?he(e.parse(Y("(1/2)*"+u.LOG+"((1+({0}))/(1-({0})))",t.toString()))):e.symfunction("atanh",arguments)},asech:function(t){return u.PARSE2NUMBER&&t.isImaginary()?y.evaluate(t,"asech"):u.PARSE2NUMBER?he(Me(e.add(t.clone().invert(),ee(e.subtract(e.pow(t,new Fe(-2)),new Fe(1)))))):e.symfunction("asech",arguments)},acsch:function(t){return u.PARSE2NUMBER&&t.isImaginary()?y.evaluate(t,"acsch"):u.PARSE2NUMBER?he(e.parse(Y(u.LOG+"((1+sqrt(1+({0})^2))/({0}))",t.toString()))):e.symfunction("acsch",arguments)},acoth:function(t){return u.PARSE2NUMBER&&t.isImaginary()?y.evaluate(t,"acoth"):u.PARSE2NUMBER?t.equals(1)?Fe.infinity():he(e.divide(Me(e.divide(e.add(t.clone(),new Fe(1)),e.subtract(t.clone(),new Fe(1)))),new Fe(2))):e.symfunction("acoth",arguments)}};this.units={};var M,N={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(e){return e}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(t){return e.symfunction(u.DOUBLEFACTORIAL,[t])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(e){return H(e)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(t){return e.divide(t,new Fe(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(e){return e}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(e){return e}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(e){return e.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},I={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},k=this.functions={cos:[E.cos,1],sin:[E.sin,1],tan:[E.tan,1],sec:[E.sec,1],csc:[E.csc,1],cot:[E.cot,1],acos:[E.acos,1],asin:[E.asin,1],atan:[E.atan,1],arccos:[E.acos,1],arcsin:[E.asin,1],arctan:[E.atan,1],asec:[E.asec,1],acsc:[E.acsc,1],acot:[E.acot,1],atan2:[E.atan2,2],acoth:[T.acoth,1],asech:[T.asech,1],acsch:[T.acsch,1],sinh:[T.sinh,1],cosh:[T.cosh,1],tanh:[T.tanh,1],asinh:[T.asinh,1],sech:[T.sech,1],csch:[T.csch,1],coth:[T.coth,1],acosh:[T.acosh,1],atanh:[T.atanh,1],log10:[,1],exp:[function(t){return e.parse(Y("e^({0})",t))},1],radians:[function(t){return e.parse(Y("({0})*pi/180",t))},1],degrees:[function(t){return e.parse(Y("({0})*180/pi",t))},1],min:[function(){var t=[].slice.call(arguments);return C(t)?t[0]:me(t)?new Fe(Math.min.apply(null,t)):u.SYMBOLIC_MIN_MAX&&de(t)?Te("min",t):e.symfunction("min",t)},-1],max:[function(){var t=[].slice.call(arguments);return C(t)?t[0]:me(t)?new Fe(Math.max.apply(null,t)):u.SYMBOLIC_MIN_MAX&&de(t)?Te("max",t):e.symfunction("max",t)},-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[function(t){return u.PARSE2NUMBER?t.isConstant()?new Fe(Oe.sinc(t)):e.parse(Y("sin({0})/({0})",t)):e.symfunction("sinc",[t])},1],tri:[,1],sign:[function(t){return t.isConstant(!0)?new Fe(Math.sign(he(t))):e.symfunction("sign",arguments)},1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[H,1],factorial:[H,1],continued_fraction:[function(t,r){var n=he(t);if(n.isConstant()){var i=Oe.continuedFraction(n,r),s=Be.fromArray(i.fractions.map((function(e){return new Fe(e)})));return Be.fromArray([new Fe(i.sign),new Fe(i.whole),s])}return e.symfunction("continued_fraction",arguments)},[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[Ne,[1,2]],scientific:[function(e,t){return e.scientific=t||10,e},[1,2]],mod:[X,2],pfactor:[oe,1],vector:[function(){return new Be([].slice.call(arguments))},-1],matrix:[function(){return Ve.fromArray(arguments)},-1],Set:[function(){return qe.fromArray(arguments)},-1],imatrix:[function(e){return Ve.identity(e)},-1],parens:[function(t){return u.PARSE2NUMBER?t:e.symfunction("parens",[t])},-1],sqrt:[ee,1],cbrt:[ne,1],nthroot:[ae,2],log:[Me,[1,2]],expand:[Re,1],abs:[B,1],invert:[function(e){if(q(e))return e.invert();_("invert expects a matrix")},1],determinant:[function(e){return q(e)?e.determinant():e},1],size:[function(e){var t;return q(e)?t=[new Fe(e.cols()),new Fe(e.rows())]:V(e)||$(e)?t=new Fe(e.elements.length):_("size expects a matrix or a vector"),t},1],transpose:[function(e){if(q(e))return e.transpose();_("function transpose expects a matrix")},1],dot:[function(e,t){if(V(e)&&V(t))return e.dot(t);_("function dot expects 2 vectors")},2],cross:[function(e,t){if(V(e)&&V(t))return e.cross(t);_("function cross expects 2 vectors")},2],vecget:[function(t,r){return r.isConstant()&&j(r)?t.elements[r]:e.symfunction("vecget",arguments)},2],vecset:[function(t,r,n){return r.isConstant?(t.elements[r]=n,t):e.symfunction("vecset",arguments)},3],vectrim:[function(t,r){return r=void 0===r?1e-14:r,t=t.clone(),r=Number(r),t.elements.sort((function(e,t){return t.group-e.group})),t.elements=function(e,t){var r=typeof t;"function"===r&&"undefined"!==r||(t=function(e,t){return e===t});for(var n=[];e.length;){var i=e[0];if(1===e.length){n.push(i);break}var s=[];n.push(i);for(var a=1;a<e.length;a++){var o=e[a];t(i,o)||s.push(o)}e=s}return n}(t.elements,(function(t,n){return Number(e.subtract(he(t),he(n)).abs())<=r})),t},[1,2]],matget:[function(t,r,n){return r.isConstant()&&n.isConstant()?t.elements[r][n]:e.symfunction("matget",arguments)},3],matset:[function(e,t,r,n){return e.elements[t][r]=n,e},4],matgetrow:[function(t,r){return r.isConstant()?new Ve(t.elements[r]):e.symfunction("matgetrow",arguments)},2],matsetrow:[function(t,r,n){if(!r.isConstant())return e.symfunction("matsetrow",arguments);if(t.elements[r].length!==n.elements.length)throw new Ae("Matrix row must match row dimensions!");var i=t.clone();return i.elements[r]=n.clone().elements,i},3],matgetcol:[function(t,r){if(!r.isConstant())return e.symfunction("matgetcol",arguments);r=Number(r);var n=Ve.fromArray([]);return t.each((function(e,t,i){i===r&&n.elements.push([e.clone()])})),n},2],matsetcol:[function(t,r,n){if(!r.isConstant())return e.symfunction("matsetcol",arguments);if(r=Number(r),t.rows()!==n.elements.length)throw new Ae("Matrix columns must match number of columns!");return n.each((function(e,n){t.set(n-1,r,e.elements[0].clone())})),t},3],rationalize:[Z,1],IF:[function(e,t,r){return"boolean"!=typeof e&&G(e)&&(e=!!Number(e)),e?t:r},3],is_in:[function(e,t){if(q(e)){for(var r=0,n=e.rows();r<n;r++)for(var i=0,s=e.cols();i<s;i++)if(e.elements[r][i].equals(t))return new Fe(1)}else if(e.elements)for(r=0,n=e.elements.length;r<n;r++)if(e.elements[r].equals(t))return new Fe(1);return new Fe(0)},2],realpart:[pe,1],imagpart:[fe,1],conjugate:[xe,1],arg:[be,1],polarform:[function(t){var r,n,i,s;return s=(r=Fe.toPolarFormArray(t))[1],n=r[0],i=e.parse(Y("e^({0}*({1}))",u.IMAGINARY,s)),e.multiply(n,i)},1],rectform:[function(t){var r=t.clone();try{var n,i,s,a,o;return n=te(t,"e",!0),i=e.divide(n.x.power,Fe.imaginary()),s=he(E.tan(i)),e.pow(n.a,new Fe(2)),a=s.getDenom(!0),o=s.getNum(),Fe.hyp(o,a).equals(n.a)?e.add(a,e.multiply(Fe.imaginary(),o)):r}catch(e){return r}},1],sort:[function(e,t){t=t?t.toString():"asc";var r=function(e){return e.group===l?e.multiplier:e.group===f?""===e.fname?r(e.args[0]):e.fname:e.group===h?e.power:e.value};return new Be((V(e)?e.elements:e.collectSymbols()).sort((function(e,n){var i=r(e),s=r(n);return"desc"===t?s-i:i-s})))},[1,2]],integer_part:[,1],union:[function(e,t){return e.union(t)},2],contains:[function(e,t){return e.contains(t)},2],intersection:[function(e,t){return e.intersection(t)},2],difference:[function(e,t){return e.difference(t)},2],intersects:[function(e,t){return new Fe(Number(e.intersects(t)))},2],is_subset:[function(e,t){return new Fe(Number(e.is_subset(t)))},2],print:[function(){ce(arguments).map((function(e){console.log(e.toString())}))},-1]};function F(e){this.type=e.type,this.value=e.value,this.left=e.left,this.right=e.right}this.error=_,this.override=function(e,r){t[e]||(t[e]=[]),t[e].push(this[e]),this[e]=r},this.restore=function(e){this[e]&&(this[e]=t[e].pop())},this.extend=function(e,t,r){var n=this;if("function"==typeof this[e]&&"function"==typeof t){var i=this[e];this[e]=function(e,s){return U(e)&&U(s)&&!r?i.call(n,e,s):t.call(n,e,s,i)}}},this.symfunction=function(e,t){var r=new Fe(e);return r.group=f,"object"==typeof t&&(t=[].slice.call(t)),r.args=t,r.fname=e===v?"":e,r.updateHash(),r},this.callfunction=function(t,r,n){var i=k[t];i||_("Nerdamer currently does not support the function "+t);var s,a=i[1]||n,o=i[0];if(r instanceof Array||(r=void 0!==r?[r]:[]),-1!==a){var l=K(a),c=l?a[0]:a,h=l?a[1]:a,p=r.length,f=t+" requires a {0} of {1} arguments. {2} provided!";p<c&&_(Y(f,"minimum",c,p)),p>h&&_(Y(f,"maximum",h,p))}var m=me(r);return u.USE_BIG&&m?s=Ce[t].apply(void 0,r):o?s=o.apply(i[2],r):(o=function(e){for(var t=u.FUNCTION_MODULES,r=t.length,n=0;n<r;n++){var i=t[n];if(e in i)return i[e]}_("The function "+e+" is undefined!")}(t),s=u.PARSE2NUMBER&&m?De(o.apply(o,r)):e.symfunction(t,r)),s},this.operator_filter_regex=(M="^\\"+Object.keys(N).filter((function(e){if(1===e.length)return e})).join("\\"),new RegExp("(["+M+"])\\s+(["+M+"])")),this.setOperator=function(t,r,n){var i=t.operator;if(N[i]=t,r&&(this[t.action]=r),e[i]=t.operation,t.action||t.prefix||t.postif||(t.action=i),"over"===n||"under"===n){var s=t.precedence;for(var a in N){var o=N[a];("over"===n?o.precedence>=s:o.precedence>s)&&o.precedence++}}},this.getOperator=function(e){return N[e]},this.aliasOperator=function(e,t){var r={},n=N[e];for(var i in n)r[i]=n[i];r.operator=t,this.setOperator(r)},this.getOperators=function(){return N},this.getBrackets=function(){return I},this.initConstants=function(){this.CONSTANTS={E:new Fe(u.E),PI:new Fe(u.PI)}},this.pretty_print=function(t){if(Array.isArray(t)){var r=t.map(t=>e.pretty_print(t)).join(", ");return"vector"===t.type?"vector<"+r+">":"("+r+")"}return t.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(e){if(u.callPeekers)for(var t=this.peekers[e],r=ce(arguments).slice(1).map(W),n=0;n<t.length;n++)t[n].apply(null,r)},this.tokenize=function(t){for(var r in t=(t=String(t)).trim().replace(/\s+/g," "),I){var n=new RegExp(I[r].is_close?"\\s+\\"+r:"\\"+r+"\\s+","g");t=t.replace(n,r)}for(var i=0,s=t.length,a=0,u=[],l=[u],c=l[0],h=0,p=[],f=!1,m=function(e,t){var r=[];void 0!==e&&(r.type=e),r.column=t,l.push(r),c.push(r),c=r,h++},d=function(){l.pop(),c=l[--h]},g=function(e){for(var r=(e=void 0!==e?e:i)+1;t.charAt(r++)in N;);return t.substring(e,r-1)},y=function(e){for(var t=i-e.length,r=[],n=e.charAt(0),s=1,a=e.length;s<a;s++){var u=e.charAt(s),l=n+u;l in N?n=l:(r.push(new o(n,o.OPERATOR,t+s)),n=u)}return r.push(new o(n,o.OPERATOR,t+s)),r},v=function(r,n){void 0===n&&(n=t.substring(a,r)),n in e.units?c.push(new o(n,o.UNIT,a)):""!==n&&c.push(new o(n,o.VARIABLE_OR_LITERAL,a))},x=function(e){c.push(new o(e,o.FUNCTION,a))},b=function(e){a=e+1};i<s;i++){var w=t.charAt(i);if(w in N){v(i);var S=c[0]&&L(c[0]);f&&a<i&&","!==w&&!(S&&"*"===w)&&(f=!1,d()),b(i+1);var E=g(i);a=a+E.length-2,i=a-1,c.push.apply(c,y(E))}else if(w in I){var A=I[w];if(A.is_open)p.push([A,a]),(O=t.substring(a,i))in k?x(O):""!==O&&c.push(new o(O,o.VARIABLE_OR_LITERAL,a)),m(A.maps_to,i);else if(A.is_close){var T=p.pop();if(!T)throw new we("Missing open bracket for bracket at: "+(i+1));if(T[0].id!==A.id-1)throw new we("Parity error");v(i),d()}b(i)}else if(" "===w){var M=t.substring(a,i),_=t.charAt(i+1);if(f){if(M in N)c.push(new o(M,o.OPERATOR,i));else{v(void 0,M),d();var C=_ in N;(C&&"-"===N[_].value||!C)&&c.push(new o("*",o.OPERATOR,i))}f=!1}else{var O;(O=t.substring(a,i))in k?(f=!0,x(O),m()):O in N?c.push(new o(O,o.OPERATOR,i)):(v(void 0,O),_=t.charAt(i+1),""===M||""===_||M in N||_ in N||c.push(new o("*",o.OPERATOR,i)))}b(i)}}if(p.length){var D=p.pop();throw new we("Missing closed bracket for bracket at "+(D[1]+1))}return v(i),u},this.toRPN=function(e){var t,r=e.type,n=e.length,i=[],s=[],a=[],u=function(e,t){for(;e.length;)t.push(e.pop())};for(t=0;t<n;t++){var l=e[t];if(l.type!==o.OPERATOR)break;if(!l.prefix)throw new Se("Not a prefix operator");l.is_prefix=!0,s.push(l)}for(;t<n;t++){var c=e[t];if(c.type===o.OPERATOR){var h=c;for(h.overloaded&&(m=e[t+1])&&m.type===o.VARIABLE_OR_LITERAL&&(h.postfix=!1,h.action=h.overloadAction,h.leftAssoc=h.overloadLeftAssoc);s.length;){var p=s[s.length-1];if(!(p.precedence>h.precedence||!h.leftAssoc&&p.precedence===h.precedence))break;i.push(s.pop())}if("vector"!==r&&"set"!==r||!("vectorFn"in h)||(h.action=h.vectorFn),h.postfix){var f=e[t-1];if(!f)throw new Se("Unexpected prefix operator '"+c.value+"'! at "+c.column);if(f.type===o.OPERATOR&&!f.postfix)throw new Se("Unexpected prefix operator '"+f.value+"'! at "+f.column)}else do{var m,d=!!(m=e[t+1])&&m.type===o.OPERATOR;if(d){if(!m.prefix)throw new Se("A prefix operator was expected at "+m.column);m.is_prefix=!0,a.push(m),t++}}while(d);for(h.is_prefix?a.push(h):s.push(h);a.length&&(h.leftAssoc||!h.leftAssoc&&a[a.length-1].precedence>=h.precedence);)s.push(a.pop())}else if(c.type===o.VARIABLE_OR_LITERAL){0===i.length&&u(a,s),i.push(c);var g=s[s.length-1];g&&g.leftAssoc||u(a,i)}else c.type===o.FUNCTION?s.push(c):c.type===o.UNIT&&i.push(c);Array.isArray(c)&&(i.push(this.toRPN(c)),c.type&&i.push(new o(c.type,o.FUNCTION,c.column)))}return u(s,i),u(a,i),i},this.parseRPN=function(t,r){try{for(var n in r=r||{})r[n]=e.parse(r[n],{});u.PARSE2NUMBER&&("e"in r||(r.e=new Fe(u.E)),"pi"in r||(r.pi=new Fe(u.PI)));for(var a=[],l=0,c=t.length;l<c;l++){var h=t[l];if(Array.isArray(h)&&(h=this.parseRPN(h,r)),h)if(h.type===o.OPERATOR)if(h.is_prefix||h.postfix)a.push(h.operation(a.pop()));else{var p=a.pop(),f=a.pop();if(void 0===f)throw new Se(h+" is not a valid postfix operator at "+h.column);var m="comma"===h.action;f instanceof qe&&!m&&(f=Be.fromSet(f)),p instanceof qe&&!m&&(p=Be.fromSet(p)),this.callPeekers("pre_operator",f,p,h);var d=e[h.action](f,p);this.callPeekers("post_operator",d,f,p,h),a.push(d)}else if(h.type===o.FUNCTION){var g=a.pop(),y=g.parent;g instanceof s||(g=s.create(g));var v=h.value,x=g.getItems();this.callPeekers("pre_function",v,x);var b=e.callfunction(v,x);this.callPeekers("post_function",b,v,x);var w=a[a.length-1],S=t[l+1];if(S&&S.type===o.OPERATOR&&","===S.value||!(b instanceof Be)||!w||!w.elements||w instanceof s)y&&(b.parent=y),a.push(b);else{var E=a.pop(),T=b.elements[0];if(T.isConstant())if(T instanceof i)a.push(Be.fromArray(E.elements.slice(T.start,T.end)));else{var M=Number(T),_=E.elements.length;if(M<0&&(M=_+M),M<0||M>=_)throw new Ee("Index out of range "+(h.column+1));var N=E.elements[M];E.getter=M,N.parent=E,a.push(N)}else E.getter=T,a.push(E),a.push(b)}}else{var I,C=h.value;C in u.ALIASES?h=e.parse(u.ALIASES[h]):h.type===o.VARIABLE_OR_LITERAL?h=new Fe(C):h.type===o.UNIT&&((h=new Fe(C)).isUnit=!0),C in e.CONSTANTS?(I=h,h=new Fe(e.CONSTANTS[C])):C in r&&C!==r[C].value?(I=h,h=r[C].clone()):C in A&&(I=h,h=A[C].clone()),I&&(h.subbed=I),a.push(h)}}return a[0]}catch(e){throw new ye(e.message+": "+h.column)}},F.prototype.toString=function(){var e=this.left?this.left.toString()+"---":"",t=this.right?"---"+this.right.toString():"";return e+"("+this.value+")"+t},F.prototype.toHTML=function(e,t){e=e||0,t=void 0===t?4:t;var r=function(e){return" ".repeat(t*e)},n="",i=this.left?r(e+1)+"<li>\n"+this.left.toHTML(e+2,t)+r(e+1)+"</li> \n":"",s=this.right?r(e+1)+"<li>\n"+this.right.toHTML(e+2,t)+r(e+1)+"</li>\n":"";return n=r(e)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+r(e)+"\n",(i||s)&&(n+=r(e)+"<ul>\n"+i+s+r(e)+"</ul>\n"),n+""},this.tree=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(Array.isArray(n))n=this.tree(n),t.push(n);else if(n.type===o.OPERATOR)if(n.is_prefix||n.postfix){var i=n.is_prefix?"left":"right",s=t.pop();(n=new F(n))[i]=s,t.push(n)}else(n=new F(n)).right=t.pop(),n.left=t.pop(),t.push(n);else if(n.type===o.FUNCTION){n=new F(n);var a=t.pop();if(n.right=a,"object"===n.value&&(s=t[t.length-1])){for(;s.right;)s=s.right;s.right=n;continue}t.push(n)}else t.push(new F(n))}return t[0]},this.parse=function(e,t){e=function(e){e=String(e);for(var t=0;t<r.actions.length;t++)e=r.actions[t].call(this,e);for(e=e.replace(/\s+/g," "),/e/gi.test(e)&&(e=e.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,(function(e){return D(e)}))),e=e.replace(/([\+\-\/\*]*[0-9]+)([a-z_αAβBγΓδΔϵEζZηHθΘιIκKλΛμMνNξΞoOπΠρPσΣτTυϒϕΦχXψΨωΩ]+[\+\-\/\*]*)/gi,(function(){var e=arguments[4],t=arguments[1],r=arguments[2],n=arguments[3],i=e.charAt(n),s="",a="*";return i.match(/[\+\-\/\*]/)||(s=e.charAt(n-1)),s.match(/[a-z]/i)&&(a=""),t+a+r})).replace(/([a-z0-9_]+)/gi,(function(e,t){return!1!==u.USE_MULTICHARACTER_VARS||t in k?t:isNaN(t)?t.split("").join("*"):t})).replace(/\)\(/g,")*(")||"0";e!==(e=e.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,(function(e,t,r,n,i){var s=t||n,a=r||i;return s in k?s+a:s+"*"+a}))););return e}(e),t=t||{};var n=this.tokenize(e),i=this.toRPN(n);return this.parseRPN(i,t)},this.toObject=function(t){var r=function(t){for(var n=[],i=0,s=t.length;i<s;i++){var a=t[i],u=a.value;if(a.type===o.VARIABLE_OR_LITERAL)n.push(new Fe(u));else if(a.type===o.FUNCTION){i++;var l=e.symfunction(u,r(t[i]));l.isConversion=!0,n.push(l)}else a.type===o.OPERATOR?n.push(u):n.push(r(a))}return n};return r(e.tokenize(t))};var z=function(e){for(var t=0,r=[[]],n=0,i=e.length;n<i;n++)","===e[n]?r[++t]=[]:r[t].push(e[n]);return r},P=function(e){return e.replace(/^\\left\((.+)\\right\)$/g,(function(e,t){return t||e}))};function B(t){if(t.isInfinity)return Fe.infinity();if(t.multiplier.lessThan(0)&&t.multiplier.negate(),t.isImaginary()){var r=t.realpart(),n=t.imagpart();if(r.isConstant()&&n.isConstant())return ee(e.add(e.pow(r,new Fe(2)),e.pow(n,new Fe(2))))}else if(G(t)||ie(t.power))return t;if(t.isComposite()){var i=[];t.each((function(e){i.push(e.multiplier)})),Oe.QGCD.apply(null,i).lessThan(0)&&(t.multiplier=t.multiplier.multiply(new Le(-1)),t.distributeMultiplier())}var s=e.parse(t.multiplier);return t.toUnitMultiplier(),e.multiply(s,e.symfunction(b,[t]))}function H(t){if(V(t)){var r=new Be;return t.each((function(e,t){r.set(t-1,H(e))})),r}if(q(t)){var n=new Ve;return t.each((function(e,t,r){n.set(t,r,H(e))})),n}if(u.PARSE2NUMBER&&t.isConstant())return De(j(t)?Oe.bigfactorial(t):Oe.gamma(t.multiplier.add(new Le(1)).toDecimal()));if(t.isConstant()&&t.getDenom().equals(2)){var i,s,a,o,l=t.getNum();return t.multiplier.isNegative()?(o=e.subtract(l.negate(),new Fe(1)).multiplier.divide(new Le(2)),i=e.pow(new Fe(-4),new Fe(o)).multiplier.multiply(Oe.bigfactorial(o)),s=Oe.bigfactorial(new Le(2).multiply(o))):(o=e.add(l,new Fe(1)).multiplier.divide(new Le(2)),i=Oe.bigfactorial(new Le(2).multiply(o)),s=e.pow(new Fe(4),new Fe(o)).multiplier.multiply(Oe.bigfactorial(o))),a=i.divide(s),e.multiply(e.parse("sqrt(pi)"),new Fe(a))}return e.symfunction(w,[t])}function X(t,r){if(t.isConstant()&&r.isConstant()){var n=new Fe(1);return n.multiplier=n.multiplier.multiply(t.multiplier.mod(r.multiplier)),n}var i=e.divide(t.clone(),r.clone());return j(i)?new Fe(0):e.symfunction("mod",[t,r])}function Z(t){if(t.isComposite()){var r,n,i,s,a,o,u,l,c=new Fe(0);return t.each((function(t){r=t.getNum(),n=t.getDenom(),i=c.getNum(),s=c.getDenom(),a=e.multiply(n,i),o=e.multiply(r,s),u=e.expand(e.add(a,o)),l=e.multiply(s,n),c=e.divide(u,l)}),!0),c}return t}function ee(t){""===t.fname&&t.power.equals(1)&&(t=t.args[0]);var r=t.multiplier.sign()<0;if(u.PARSE2NUMBER){if(t.isConstant()&&!r)return new Fe(Math.sqrt(t.multiplier.toDecimal()));if(t.isImaginary())return y.sqrt(t);if(t.group===h)return e.symfunction("sqrt",[t])}var n,i,s=t.isConstant();if(t.group===d&&t.isLinear()){var a=ee(Fe(t.multiplier));for(var o in t.symbols){var l=t.symbols[o];a=e.multiply(a,ee(l))}i=a}else if(t.fname===x){o=t.args[0];var c=t.multiplier;o.setPower(t.power.multiply(new Le(.25))),i=o,c.equals(1)||(i=e.multiply(ee(e.parse(c)),i))}else if(t.power.isInteger())if(t.multiplier<0&&t.group===h){var p=e.parse(t.multiplier).negate(),f=e.parse(t).toUnitMultiplier().negate();i=e.multiply(e.symfunction(u.SQRT,[f]),ee(p))}else{var m=t.power.sign();t.power=t.power.abs(),s&&t.multiplier.lessThan(0)&&(n=Fe.imaginary(),t.multiplier=t.multiplier.abs());var g=t.multiplier.toDecimal(),v=Math.abs(g),b=Math.sqrt(v);if(j(b))a=new Fe(b);else if(j(g)){var w=Oe.ifactor(g),S=1;for(var l in w){var E=(I=w[l])-I%2;if(E){var A=Math.pow(l,E);S*=Math.pow(l,E/2),g/=A}}a=e.multiply(e.symfunction(x,[new Fe(g)]),new Fe(S))}else{for(var T=[new Fe(t.multiplier.num),new Fe(t.multiplier.den)],M=[new Fe(1),new Fe(1)],_=[new Fe(1),new Fe(1)],N=0;N<2;N++){var I;oe(I=T[N]).each((function(t){var r=(t=Fe.unwrapPARENS(t)).clone().toLinear(),n=Number(t.power),i=n%2,s=(n-i)/2;M[N]=e.multiply(M[N],e.pow(r,new Fe(s))),_[N]=e.multiply(_[N],ee(e.pow(r,new Fe(i))))}))}a=e.divide(e.multiply(M[0],_[0]),e.multiply(M[1],_[1]))}i=(t=t.toUnitMultiplier(!0)).isOne()?t:ie(t.power.toString())?e.pow(t.clone(),new Fe(.5)):e.symfunction(x,[t]),m<0&&i.power.negate(),a&&(i=e.multiply(a,i)),n&&(i=e.multiply(n,i))}else t.setPower(t.power.multiply(new Le(.5))),i=t;return r&&u.PARSE2NUMBER?e.parse(i):i}function ne(t){if(!t.isConstant(!0)){var r,n=t.power/3,i=e.pow(e.parse(t.multiplier),new Fe(1/3)),s=t.toUnitMultiplier();return j(n)?r=e.pow(s.toLinear(),e.parse(n)):s.group===d?(r=new Fe(1),s.each((function(t){r=e.multiply(r,ne(t))}))):r=e.symfunction("cbrt",[s]),e.multiply(i,r)}return ae(t,new Fe(3))}function ae(t,r,n,i){if((r=he(e.parse(r))).equals(0))throw new ve("Unable to calculate nthroots of zero");if(t<0&&ie(r))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!t.isConstant(!0))return e.symfunction("nthroot",arguments);t.group!==l&&(t=he(t)),void 0===i&&(i=!0),n=n||25;var s,a,o=t.sign();return o<0&&(t=B(t)),j(t)&&r.isConstant()?(s=t<0x10000000000000000?Le.create(Math.pow(t,1/r)):Oe.nthroot(t,r),i&&(a=new Fe(s)),a=new Fe(s.toDecimal(n)),e.multiply(new Fe(o),a)):void 0}function oe(t){if(t.greaterThan(9999999999998891e26)||t.equals(-1))return t;if(t.equals(Math.PI))return new Fe(Math.PI);if((t=he(t.clone())).isConstant()){var r=new Fe(1),n=t.toString();if(j(n)){var i=Oe.ifactor(n);for(var s in i){var a=i[s];r=e.multiply(r,e.symfunction("parens",[new Fe(s).setPower(new Le(a))]))}}else{var o=oe(new Fe(t.multiplier.num)),u=oe(new Fe(t.multiplier.den));r=e.multiply(e.symfunction("parens",[o]),e.symfunction("parens",[u]).invert())}}else r=e.symfunction("pfactor",arguments);return r}function pe(e){return e.realpart()}function fe(e){return e.imagpart()}function xe(t){var r=t.realpart(),n=t.imagpart();return e.add(r,e.multiply(n.negate(),Fe.imaginary()))}function be(t){var r=t.realpart(),n=t.imagpart();return r.isConstant()&&n.isConstant()?new Fe(Math.atan2(n,r)):e.symfunction("atan2",[n,r])}function be(t){var r=t.realpart(),n=t.imagpart();return r.isConstant()&&n.isConstant()?n.equals(0)&&r.equals(-1)?e.parse("pi"):n.equals(1)&&r.equals(0)?e.parse("pi/2"):n.equals(1)&&r.equals(1)?e.parse("pi/4"):new Fe(Math.atan2(n,r)):e.symfunction("atan2",[n,r])}function Te(e,t){var r,n,i;for(t.map((function(e){e.numVal=he(e).multiplier}));;){if((r=t.length)<2)return t[0];n=t.pop(),i=t[r-2],("min"===e?n.numVal<i.numVal:n.numVal>i.numVal)&&(t.pop(),t.push(n))}}function Me(t,r){if(t.equals(1))return new Fe(0);var n;if(t.fname===x&&t.multiplier.equals(1))return e.divide(Me(t.args[0]),new Fe(2));if(t.equals(0))throw new ve(u.LOG+"(0) is undefined!");if(t.isImaginary())return y.evaluate(t,u.LOG);if(t.isConstant()&&void 0!==r&&r.isConstant()){var i=Math.log(t),s=Math.log(r);n=new Fe(i/s)}else if(t.group===p&&t.power.multiplier.lessThan(0)||"-1"===t.power.toString())t.power.negate(),n=Me(t).negate();else if("e"===t.value&&t.multiplier.equals(1)){var a=t.power;n=U(a)?a:new Fe(a)}else if(t.group===f&&"exp"===t.fname){var o=t.args[0];n=t.multiplier.equals(1)?e.multiply(o,new Fe(t.power)):e.symfunction(u.LOG,[t])}else if(u.PARSE2NUMBER&&G(t)){var l;t.multiplier.lessThan(0)&&(t.negate(),l=e.multiply(new Fe(Math.PI),new Fe("i"))),n=new Fe(Math.log(t.multiplier.toDecimal())),l&&(n=e.add(n,l))}else t.power.equals(1)||(o=t.group===p?t.power:new Fe(t.power),t.toLinear()),n=arguments.length>1&&C(arguments)?new Fe(1):e.symfunction(u.LOG,arguments),o&&(n=e.multiply(o,n));return n}function Ne(t,r){var n,i,s,a,o=r&&r.isConstant()||void 0===r;return t.isConstant()&&o?(n=t,r&&r.lessThan(0)&&(r=B(r),n=(i=Number(t).toExponential().toString().split("e"))[0],s=i[1]),a=new Fe(re(n,Number(r||0))),e.multiply(a,e.pow(new Fe(10),new Fe(s||0)))):e.symfunction("round",arguments)}function Ie(e){var t=e%2;return t<0&&(t=2+t),t>=0&&t<=.5?1:t>.5&&t<=1?2:t>1&&t<=1.5?3:4}function De(e){if(!isFinite(e)){var t=Math.sign(e),r=new Fe(String(Math.abs(e)));return r.multiplier=r.multiplier.multiply(new Le(t)),r}if(U(e))return e;if("number"==typeof e)try{e=Le.simple(e)}catch(t){e=new Le(e)}var n=new Fe(0);return n.multiplier=e,n}function Re(t){if(t.group===f&&""===t.fname)return e.expand(t.args[0]);if(!t.symbols)return t;var r=t.clone();try{if(!t.symbols)return t;for(var n in t.symbols){var i=t.symbols[n];t.symbols[n]=Re(i)}var s=(t=e.parse(t)).power,a=t.multiplier.clone(),o=Number(s);if(j(o)&&o>0&&t.isComposite()){var u=new Fe(0);for(var i in t.symbols){var l=t.symbols[i];l.power.greaterThan(1)&&(l=e.expand(l)),u=e.add(u,l)}for(var c=o-1,h=u.clone(),m=0;m<c;m++){var g=new Fe(0);for(var i in u.symbols){var y=u.symbols[i];for(var v in h.symbols){var x=e.multiply(y.clone(),h.symbols[v]);x.group===d&&(x=e.expand(x)),g=e.add(g,x)}}h=g}if(!a.equals(1))for(var n in h.symbols)(i=h.symbols[n]).multiplier=i.multiplier.multiply(a),i.isComposite()&&i.distributeMultiplier(),t.symbols[n]=i;return h}if(t.group===d){var b=!1,w=t.power.clone(),S=t.power.sign();for(var i in t.symbols){var E=t.symbols[i];if(E.isComposite()){b=!0;break}U(E.power)||U(w)?(E.power=e.multiply(E.power,Fe(w)),E.group=p):E.power=E.power.multiply(w)}if(t.toLinear(),t=e.parse(t.text()),!b)return t;h=new Fe(0);var A=[],T=new Fe(t.multiplier);for(var n in t.symbols)if((i=t.symbols[n]).group!==p)if(i.isComposite()){s=i.power;var M=!1;j(s)&&s<0&&(i.power.negate(),M=!0),M?(i.power.negate(),T=e.multiply(T,i)):A.push(i)}else T=e.multiply(T,i);for(h=A.pop();A.length;)n=A.pop(),g=new Fe(0),h.each((function(t){n.each((function(r){var n=e.multiply(t.clone(),r.clone());g=e.add(g,n)}))})),h=g;var _=new Fe(0);h.each((function(t){_=e.add(_,Re(e.multiply(T,t)))})),_.power=_.power.multiply(w.abs()),t=e.expand(_),S<0&&t.invert()}}catch(e){return r}return t}function Ue(e){if(!U(e.power)&&e.power.absEquals(.5)){var t=e.power.sign(),r=ee(e.group===c?new Fe(e.value):e.toLinear());return t<0&&r.invert(),r}return e}function ze(e){if(e.group===c){var t=e.value,r=function(e){if(R(e))return[e];for(var t=e,r=1,n=[];r<t;){var i=e/r,s=Math.floor(i);i-s<=2220446049250313e-31&&r>1&&(-1!==a.indexOf(r)&&(a[r]=r),n.push(r),t=s),r++}return n.sort((function(e,t){return e-t}))}(t)[0];if(!r)return O("Unable to compute prime factors. This should not happen. Please review and report."),e;var n=new Le(Math.log(t)/Math.log(r)).multiply(e.power);if(n.den>e.power.den)return e;e=j(n)?Fe(Math.pow(r,n)):new Fe(r).setPower(n)}return e}this.toTeX=function(t,r){r=r||{};var n="string"==typeof t?this.toObject(t):t,i=[],s=void 0===r.cdot?"\\cdot":r.cdot;if(K(n)){for(var a,o,l=[],c=0;c<n.length;c++)a=n[c],"^"===n[c+1]?(o=n[c+2],l.push(Pe.braces(this.toTeX([a]))+"^"+Pe.braces(this.toTeX([o]))),c+=2):l.push(a);n=l}c=0;for(var h=n.length;c<h;c++){var p=n[c];if("*"===p&&(p=s),U(p))if(p.group===f){var m,d=p.fname;if(d===x)m="\\sqrt"+Pe.braces(this.toTeX(p.args));else if(d===b)m=Pe.brackets(this.toTeX(p.args),"abs");else if(d===v)m=Pe.brackets(this.toTeX(p.args),"parens");else if(d===u.LOG10)m="\\"+u.LOG10_LATEX+"\\left( "+this.toTeX(p.args)+"\\right)";else if("integrate"===d){var g=z(p.args);m="\\int "+(y=Pe.braces(this.toTeX(g[0])))+"\\, d"+(E=this.toTeX(g[1]))}else if("defint"===d){g=z(p.args);var y=Pe.braces(this.toTeX(g[0])),E=this.toTeX(g[3]);m="\\int\\limits_{"+this.toTeX(g[1])+"}^{"+this.toTeX(g[2])+"} "+y+"\\, d"+E}else if("diff"===d){if(g=z(p.args),E="",y=Pe.braces(this.toTeX(g[0])),1===g.length){var A=[];for(M=0;M<g[0].length;M++)3===g[0][M].group&&A.push(g[0][M].value);A.sort(),E=A.length>0?"\\frac{d}{d "+A[0]+"}":"\\frac{d}{d x}"}else E=2===g.length?"\\frac{d}{d "+g[1]+"}":"\\frac{d^{"+g[2]+"}}{d "+this.toTeX(g[1])+"^{"+g[2]+"}}";m=E+"\\left("+y+"\\right)"}else if("sum"===d||"product"===d){var T=[[],[],[],[]],M=0;for(c=0;c<p.args.length;c++)","!==p.args[c]?T[M].push(p.args[c]):M++;m=("sum"===d?"\\sum_":"\\prod_")+Pe.braces(this.toTeX(T[1])+" = "+this.toTeX(T[2])),m+="^"+Pe.braces(this.toTeX(T[3]))+Pe.braces(this.toTeX(T[0]))}else if("limit"===d){var _=z(p.args).map((function(t){return Array.isArray(t)?e.toTeX(t.join("")):e.toTeX(String(t))}));m="\\lim_"+Pe.braces(_[1]+"\\to "+_[2])+" "+Pe.braces(_[0])}else m=d===w||d===S?this.toTeX(p.args)+(d===w?"!":"!!"):Pe.latex(p);i.push(m)}else i.push(Pe.latex(p));else K(p)?i.push(Pe.brackets(this.toTeX(p))):"/"===p?i.push(Pe.frac(P(i.pop()),P(this.toTeX([n[++c]])))):i.push(p)}return i.join(" ")},this.expand=Re,this.round=Ne,this.clean=function t(r){var n,i=r.group;if(i===g){var s=r.getNum(),a=r.getDenom()||new Fe(1),o=Number(r.power),u=new Fe(1);if(1===Math.abs(o)){a.each((function(r){r.group===d?u=e.multiply(u,t(r.getDenom())):r.power.lessThan(0)&&(u=e.multiply(u,t(r.clone().toUnitMultiplier())))}));var l,c=new Fe(0);a.each((function(t){c=e.add(e.divide(t,u.clone()),c)})),u.invert(),s.isComposite()?(l=new Fe(0),s.each((function(r){l=e.add(e.multiply(t(r),u.clone()),l)}))):l=e.multiply(u,s),n=e.divide(l,c)}}else i===d?(n=new Fe(1),r.each((function(t){n=e.multiply(n,e.clean(t))}))):i===f&&1===r.args.length&&r.args[0].isConstant()&&(n=le("PARSE2NUMBER",(function(){return e.parse(r)}),!0));return n||(n=r),n},this.sqrt=ee,this.cbrt=ne,this.abs=B,this.log=Me,this.rationalize=Z,this.nthroot=ae,this.arg=be,this.conjugate=xe,this.imagpart=fe,this.realpart=pe,this.getFunction=function(e){return k[e][0]},this.addPreprocessor=function(e,t,n,i){var s=r.names,a=r.actions;if("function"!=typeof t)throw new PreprocessorError("Incorrect parameters. Function expected!");n?i?(s.splice(n,0,e),a.splice(n,0,t)):(s[n]=e,a[n]=t):(s.push(e),a.push(t))},this.getPreprocessors=function(){for(var e={},t=0,r=e.names.length;t<r;t++)e[e.names[t]]={order:t,action:e.actions[t]};return e},this.removePreprocessor=function(e,t){var n=r.names.indexOf(e);t?(ue(r.names,n),ue(r.actions,n)):(r.names[n]=void 0,r.actions[n]=void 0)},this.mapped_function=function(){for(var t={},r=this.params,n=0;n<r.length;n++)t[r[n]]=arguments[n];return e.parse(this.body,t)},this.add=function(t,r){var n=U(t),i=U(r);if(n&&i){if(t.unit||r.unit)return e.Unit.add(t,r);if(t.isInfinity||r.isInfinity){var s=t.multiplier.lessThan(0),a=r.multiplier.lessThan(0);if(t.isInfinity&&r.isInfinity&&s!==a)throw new ve("("+t+")+("+r+") is not defined!");var o=Fe.infinity();return a&&o.negate(),o}if(t.isComposite()&&t.isLinear()&&r.isComposite()&&r.isLinear()&&(t.distributeMultiplier(),r.distributeMultiplier()),t.multiplier.equals(0))return r;if(r.multiplier.equals(0))return t;if(t.isConstant()&&r.isConstant()&&u.PARSE2NUMBER)return new Fe(t.multiplier.add(r.multiplier).toDecimal(u.PRECISION));var y=t.group,v=r.group,b=t.power.toString(),w=r.power.toString();if(y<v||y===v&&b>w&&w>0)return this.add(r,t);if(y===d&&v===m&&t.value===r.value){var S=t;t=r,r=S,y=t.group,v=r.group,b=t.power.toString(),w=r.power.toString()}var E,A,T,M=b===w,N=t.value,I=r.value,C=t.isComposite(),O=r.isComposite();if(C&&(E=ke(t,"hash")),O&&(A=ke(r,"hash")),y===g&&v===g&&r.isLinear()&&!t.isLinear()&&E!==A)return this.add(r,t);y===m&&v===m&&(N=E,I=A);var k=y===c&&v===l,D=t.value===r.multiplier.toString(),R=N===I||E===A&&void 0!==E||k&&D;if(R&&M&&y===v)if(k&&(r=r.convert(c)),y!==m||v!==h&&v!==c)if(T=t,t.multiplier.isOne()&&r.multiplier.isOne()&&y===g&&t.isLinear()&&r.isLinear())for(var L in r.symbols){var F=r.symbols[L];T.attach(F)}else T.multiplier=T.multiplier.add(r.multiplier);else t.distributeMultiplier(),T=t.attach(r);else if(R&&y!==m)y===g&&v===m?(r.insert(t),T=r):(T=Fe.shell(m).attach([t,r])).value=y===m?E:N;else if(C&&t.isLinear()){var z=y===v,P=y===m&&v===m;if(P&&(z=t.value===r.value),t.distributeMultiplier(),r.isComposite()&&r.isLinear()&&z){for(var L in r.distributeMultiplier(),r.symbols)F=r.symbols[L],t.attach(F);T=t}else P&&t.value!==A||y===m&&!R?(T=Fe.shell(g).attach([t,r])).updateHash():T=t.attach(r)}else{if(y===f&&t.fname===x&&v!==p&&r.power.equals(.5)){var B=r.multiplier.clone();(r=ee(r.toUnitMultiplier().toLinear())).multiplier=B}2===t.length&&2===r.length&&ie(t.power)&&ie(r.power)?T=e.add(Re(t),Re(r)):(T=Fe.shell(g).attach([t,r])).updateHash()}return T.multiplier.equals(0)&&(T=new Fe(0)),1===T.length&&(B=T.multiplier,(T=J(T.symbols)).multiplier=T.multiplier.multiply(B)),T}i&&!n&&(S=t,t=r,r=S,S=i,i=n,n=S);var $=q(r);if(n&&$){var G=new Ve;r.eachElement((function(r,n,i){G.set(n,i,e.add(t.clone(),r))})),r=G}else if(q(t)&&$)r=t.add(r);else if(n&&V(r))r.each((function(n,i){i--,r.elements[i]=e.add(t.clone(),r.elements[i])}));else if(V(t)&&V(r))r.each((function(n,i){i--,r.elements[i]=e.add(t.elements[i],r.elements[i])}));else{if(V(t)&&q(r))return e.add(r,t);if(q(t)&&V(r)){if(r.elements.length===t.rows()){G=new Ve;var K=t.cols();return r.each((function(r,n){for(var i=[],s=0;s<K;s++)i.push(e.add(t.elements[n-1][s].clone(),r.clone()));G.elements.push(i)})),G}_("Dimensions must match!")}}return r},this.subtract=function(t,r){var n=n=U(t),i=U(r);if(n&&i)return t.unit||r.unit?e.Unit.subtract(t,r):this.add(t,r.negate());if(i&&V(t))r=t.map((function(t){return e.subtract(t,r.clone())}));else if(n&&V(r))r=r.map((function(r){return e.subtract(t.clone(),r)}));else if(V(t)&&V(r))t.dimensions()===r.dimensions()?r=t.subtract(r):e.error("Unable to subtract vectors. Dimensions do not match.");else if(q(t)&&V(r)){if(r.elements.length===t.rows()){var s=new Ve,a=t.cols();return r.each((function(r,n){for(var i=[],o=0;o<a;o++)i.push(e.subtract(t.elements[n-1][o].clone(),r.clone()));s.elements.push(i)})),s}_("Dimensions must match!")}else{if(V(t)&&q(r))return s=r.clone().negate(),e.add(s,t);q(t)&&q(r)?r=t.subtract(r):q(t)&&i?(s=new Ve,t.each((function(t,n,i){s.set(n,i,e.subtract(t,r.clone()))})),r=s):n&&q(r)&&(s=new Ve,r.each((function(r,n,i){s.set(n,i,e.subtract(t.clone(),r))})),r=s)}return r},this.multiply=function(t,r){var i=U(t),a=U(r);if(i&&r instanceof s)return r.elements.push(t),r;if(i&&a){if(r.isUnit){var o=t.clone();return t.unit=r,o}if(t.unit||r.unit)return e.Unit.multiply(t,r);if(t.isInfinity||r.isInfinity){if(t.equals(0)||r.equals(0))throw new ve(t+"*"+r+" is undefined!");if(r.power.lessThan(0)){if(t.isInfinity)throw new ve("Infinity/Infinity is not defined!");return new Fe(0)}var y=t.multiplier.multiply(r.multiplier).sign(),v=Fe.infinity();if(t.isConstant()||r.isConstant()||t.isInfinity&&r.isInfinity)return y<0&&v.negate(),v}if(t.isConstant()&&r.isConstant()&&u.PARSE2NUMBER)return new Fe(b=new n(t.multiplier.toDecimal()).times(new n(r.multiplier.toDecimal())).toFixed());if(t.isOne())return r.clone();if(r.isOne())return t.clone();if(t.multiplier.equals(0)||r.multiplier.equals(0))return new Fe(0);if(r.group>t.group&&r.group!==g)return this.multiply(r,t);if(t.group===d&&r.group===m&&t.value===r.value){var b=t;t=r,r=b}var S=t.group,E=r.group,A=r.multiplier.num,T=r.multiplier.den;if(S!==f||t.fname!==x||r.isConstant()||t.args[0].value!==r.value||t.args[0].multiplier.lessThan(0))S===f&&t.fname===x&&t.multiplier.equals(1)&&t.power.equals(-1)&&r.isConstant()&&t.args[0].equals(r)&&(t=e.symfunction(x,[r.clone()]),r=new Fe(1));else{var M=t.power;(t=t.args[0].clone()).setPower(new Le(.5).multiply(M)),S=t.group}var N=t.value,I=r.value,C=(y=new Le(t.sign()),S===c&&E===l&&r.multiplier.equals(t.value)),O=C?new Le(1).multiply(t.multiplier).abs():t.multiplier.multiply(r.multiplier).abs();if(o=t.clone().toUnitMultiplier(),r=r.clone().toUnitMultiplier(!0),S===f&&E===f){var k=t.args[0].clone(),D=r.args[0].clone();if(t.fname===x&&r.fname===x&&t.isLinear()&&r.isLinear()){var R=e.divide(k,D).invert();R.gt(1)&&j(R)&&(o=e.multiply(t.args[0].clone(),ee(R.clone())),r=new Fe(1))}else if(t.fname===w&&r.fname===w&&!k.isConstant()&&!D.isConstant()&&r.power<0){var L=e.subtract(k.clone(),D.clone());if(L.isConstant())if(b=new Fe(1),L<0){for(var F=0,z=Math.abs(L);F<=z;F++){var P=e.add(k.clone(),new Fe(F));b=e.multiply(b,P)}o=e.multiply(e.pow(k,new Fe(t.power)),e.pow(b,new Fe(r.power))),r=new Fe(1)}else{for(F=0,z=Math.abs(L);F<=z;F++)P=e.add(D.clone(),new Fe(F)),b=e.multiply(b,P);o=e.multiply(e.pow(b,new Fe(t.power)),e.pow(D,new Fe(r.power))),r=new Fe(1)}else r=new Fe(1)}}if(N===I&&S===m&&S===E&&(N=t.text("hash"),I=r.text("hash")),E===p&&r.previousGroup===m&&S===m&&(N=ke(t,"hash",p)),N!==I&&!C||S===m&&(E===h||E===c||E===f)||S===m&&E===d)if(S===d&&t.isLinear())if(E===d&&r.distributeExponent(),E===d&&r.isLinear()){for(var P in r.symbols){var B=r.symbols[P];o=o.combine(B)}o.multiplier=o.multiplier.multiply(r.multiplier)}else o.combine(r);else if(S!==l){if(S===d)o.distributeExponent(),o.combine(r);else if(!r.isOne()){var $=r.multiplier.clone();r.toUnitMultiplier(),(o=Fe.shell(d).combine([o,r])).multiplier=o.multiplier.multiply($)}}else o=r.clone().toUnitMultiplier();else{var G=t.power,K=r.power,H=U(G),W=U(K),X=H||W;S===m&&E!==m&&r.previousGroup!==m&&G.equals(1)?(o=new Fe(0),t.each((function(t){o=e.add(o,e.multiply(t,r.clone()))}),!0)):(o.power=X?e.add(U(G)?G:new Fe(G),U(K)?K:new Fe(K)):S===l?G:G.add(K),o.power.equals(0)&&(o=o.convert(l)),X&&o.convert(p),t.imaginary&&r.imaginary&&ie(o.power%2)&&(o=new Fe(1),O.negate()),o.group!==p&&o.previousGroup&&(o.previousGroup=void 0),o.multiplier=o.multiplier.multiply(r.multiplier))}if(o.group===c){var Y=Math.log(o.value),Z=Math.log(A)/Y,Q=Math.log(T)/Y,te=O.num/A,re=O.den/T;0!==Z&&j(Z)&&j(te)&&(o.power=o.power.add(new Le(Z)),O.num/=A),0!==Q&&j(Q)&&j(re)&&(o.power=o.power.subtract(new Le(Q)),O.den/=T)}1===o.length&&(b=o.multiplier,(o=J(o.symbols)).multiplier=o.multiplier.multiply(b));var ne=o.power.toString();if(ie(ne)&&o.fname===x){y*=o.sign();var se=o.power;o=o.args[0],o=e.multiply(new Fe(O),e.pow(o,new Fe(se.divide(new Le(2))))),y<0&&o.negate()}else o.multiplier=o.multiplier.multiply(O).multiply(y),o.group===g&&o.isImaginary()&&o.distributeMultiplier();return o.group===c&&j(o.power.toDecimal())&&(o=o.convert(l)),o}a&&!i&&(b=t,t=r,r=b,b=a,a=i,i=b);var ae=q(r),oe=q(t);if(i&&ae){var ue=new Ve;r.eachElement((function(r,n,i){ue.set(n,i,e.multiply(t.clone(),r))})),r=ue}else if(oe&&ae)r=t.multiply(r);else if(i&&V(r))r.each((function(n,i){i--,r.elements[i]=e.multiply(t.clone(),r.elements[i])}));else if(V(t)&&V(r))r.each((function(n,i){i--,r.elements[i]=e.multiply(t.elements[i],r.elements[i])}));else{if(V(t)&&q(r))return this.multiply(r,t);if(q(t)&&V(r)){if(r.elements.length===t.rows()){ue=new Ve;var le=t.cols();return r.each((function(r,n){for(var i=[],s=0;s<le;s++)i.push(e.multiply(t.elements[n-1][s].clone(),r.clone()));ue.elements.push(i)})),ue}_("Dimensions must match!")}}return r},this.divide=function(t,r){var n=U(t),i=U(r);if(n&&i){if(t.unit||r.unit)return e.Unit.divide(t,r);var s;if(r.equals(0))throw new ge("Division by zero not allowed!");return t.isConstant()&&r.isConstant()?(s=t.clone()).multiplier=s.multiplier.divide(r.multiplier):(r.invert(),s=e.multiply(t,r)),s}var a=V(t),o=V(r);if(n&&o)r=r.map((function(r){return e.divide(t.clone(),r)}));else if(a&&i)r=t.map((function(t){return e.divide(t,r.clone())}));else if(a&&o)t.dimensions()===r.dimensions()?r=r.map((function(r,n){return e.divide(t.elements[--n],r)})):e.error("Cannot divide vectors. Dimensions do not match!");else{var u=q(t),l=q(r);if(u&&i){var c=new Ve;t.eachElement((function(t,n,i){c.set(n,i,e.divide(t,r.clone()))})),r=c}else n&&l?(c=new Ve,r.eachElement((function(r,n,i){c.set(n,i,e.divide(t.clone(),r))})),r=c):u&&l?(c=new Ve,t.rows()===r.rows()&&t.cols()===r.cols()?(t.eachElement((function(t,n,i){c.set(n,i,e.divide(t,r.elements[n][i]))})),r=c):e.error("Dimensions do not match!")):u&&o&&(t.cols()===r.dimensions()?(c=new Ve,t.eachElement((function(t,n,i){c.set(n,i,e.divide(t,r.elements[n].clone()))})),r=c):e.error("Unable to divide matrix by vector."))}return r},this.pow=function(t,r){var n=U(t),i=U(r);if(n&&i){if(t.unit||r.unit)return e.Unit.pow(t,r);if(t.isInfinity||r.isInfinity){if(t.isInfinity&&r.isInfinity)throw new ve("("+t+")^("+r+") is undefined!");if(t.isConstant()&&r.isInfinity){if(t.equals(0)){if(r.lessThan(0))throw new ve("0^Infinity is undefined!");return new Fe(0)}if(t.equals(1))throw new ve("1^"+r.toString()+" is undefined!");if(r.lessThan(0))return new Fe(0);if(!t.lessThan(0))return Fe.infinity()}if(t.isInfinity&&r.isConstant()){if(r.equals(0))throw new ve(t+"^0 is undefined!");return r.lessThan(0)?new Fe(0):e.multiply(Fe.infinity(),e.pow(new Fe(t.sign()),r.clone()))}}var s=t.equals(0),a=r.equals(0);if(s&&a)throw new ve("0^0 is undefined!");if(s&&r.isConstant()&&r.multiplier.greaterThan(0))return new Fe(0);if(a)return new Fe(1);var o,c,h,m,g=r.isConstant(),y=t.isConstant(),w=r.isInteger(),S=t.multiplier,A=t.clone();if(y&&g&&t.equals(0)&&r.lessThan(0))throw new ve("Division by zero is not allowed!");if(u.PARSE2NUMBER&&y&&g&&t.sign()<0&&se(r))return o=Math.PI*r,D=new Fe(Math.cos(o)),R=e.multiply(Fe.imaginary(),new Fe(Math.sin(o))),e.add(D,R);if(u.PARSE2NUMBER&&t.isImaginary()&&g&&j(r)&&!r.lessThan(0)&&(D=t.realpart(),R=t.imagpart(),D.isConstant("all")&&R.isConstant("all")))return ae=new Fe(Math.atan2(R,D)*r),k=e.pow(Fe.hyp(D,R),r),c=e.multiply(k.clone(),e.trig.cos(ae.clone())),h=e.multiply(k,e.trig.sin(ae)),e.add(c,e.multiply(Fe.imaginary(),h));if(A.toUnitMultiplier(),A.group!==f||A.fname!==x||g){var T=S.sign();se(r)&&T<0&&(A.negate(),(A=e.symfunction(v,[A])).negate()),A.multiplyPower(r)}else(H=A.args[0]).multiplyPower(new Fe(.5)),H.multiplier.multiply(A.multiplier),H.multiplyPower(r),A=H;if(y&&g&&u.PARSE2NUMBER)T<0&&(t.negate(),m=r.multiplier.den.equals(2)?new Fe(u.IMAGINARY):j(r.multiplier)?ie(r.multiplier)?new Fe(1):new Fe(-1):ie(r.multiplier.den)?e.pow(e.symfunction(v,[new Fe(T)]),r.clone()):new Fe(Math.pow(T,r.multiplier.num))),A=new Fe(Math.pow(t.multiplier.toDecimal(),r.multiplier.toDecimal())),m&&(A=e.multiply(A,m));else if(w&&!S.equals(1)){if(r.abs().gt(u.MAX_EXP))return r.sign()<0?new Fe(0):Fe.infinity();var M=r.multiplier.toDecimal(),_=Math.sign(M);M=Math.abs(M);var N=new Le(1);N.num=S.num.pow(M),N.den=S.den.pow(M),_<0&&N.invert(),A.multiplier=A.multiplier.multiply(N)}else if(T=t.sign(),r.isConstant()&&t.isConstant()&&!r.multiplier.den.equals(1)&&T<0)if(r.multiplier.den.equals(2)){var I=new Fe(u.IMAGINARY);t.negate(),r.lessThan(0)&&(I.negate(),r.negate()),A=e.multiply(e.pow(t,r),I)}else{(L=t.clone()).multiplier.negate(),A=e.pow(e.symfunction(v,[new Fe(T)]),r.clone());var C=e.pow(new Fe(L.multiplier.num),r.clone()),O=e.pow(new Fe(L.multiplier.den),r.clone()),k=e.divide(C,O);A=e.multiply(A,k)}else if(u.PARSE2NUMBER&&r.isImaginary()){var D,R,L,F,z,P;L=t.clone().toLinear(),D=r.realpart(),R=r.imagpart(),F=e.pow(L.clone(),D),z=E.cos(e.multiply(R.clone(),Me(L.clone()))),P=e.multiply(E.sin(e.multiply(R,Me(L))),Fe.imaginary()),A=e.multiply(F,e.add(z,P)),A=e.expand(e.parse(A))}else{var $=t.group===l&&T<0,G=Ue(new Fe($?S.num:Math.abs(S.num)).setPower(r.clone())),K=Ue(new Fe(S.den).setPower(r.clone()).invert());if(t.imaginary)if(w){var H;H=Math.sign(r),M=B(r),A=new Fe(ie(J=M%4)?-1:u.IMAGINARY),(0===J||H<0&&1===J||H>0&&3===J)&&A.negate()}else{var W=r.multiplier.multiply(Le.quick(1,2)),X=Math.pow(-1,W.num);A=ie(W.den)?new Fe(-1).setPower(W,!0):new Fe(X)}if(T<0&&!$&&A.negate(),g&&t.group!==p){var Y=ie(r.multiplier.den),Z=ie(t.power),J=A.power.toDecimal(),Q=ie(J);Y&&Z&&!Q&&(1===J?A=e.symfunction(b,[A]):j(J)?A=e.multiply(e.symfunction(b,[A.clone().toLinear()]),A.clone().setPower(new Le(J-1))):(M=A.power,A=e.symfunction(b,[A.toLinear()]).setPower(M)),u.POSITIVE_MULTIPLIERS&&A.fname===b&&(A=A.args[0]))}if(r.equals(2)&&A.group===d){var ee=new Fe(1);A.each((function(t){ee=e.multiply(ee,e.pow(t,r))})),A=ee}}if(A=Ue(A),G&&K&&(A=e.multiply(A,ze(e.multiply(G,K)))),A.fname===x){var te=A.group===p,re=te?A.power.multiplier.toString():A.power.toString();if(ie(re)){var ne=te?e.divide(A.power,new Fe(2)):new Fe(A.power.divide(new Le(2)));S=A.multiplier,(A=e.pow(A.args[0],ne)).multiplier=A.multiplier.multiply(S)}}else if(!u.IGNORE_E&&A.isE()&&A.group===p&&A.power.contains("pi")&&A.power.contains(u.IMAGINARY)){var ae=r.stripVar(u.IMAGINARY);A=e.add(E.cos(ae),e.multiply(Fe.imaginary(),E.sin(ae)))}return A}if(V(t)&&i)t=t.map((function(t){return e.pow(t,r.clone())}));else if(q(t)&&i){var oe=new Ve;t.eachElement((function(t,n,i){oe.set(n,i,e.pow(t,r.clone()))})),t=oe}else n&&q(r)&&(oe=new Ve,r.eachElement((function(r,n,i){oe.set(n,i,e.pow(t.clone(),r))})),t=oe);return t},this.comma=function(e,t){return e instanceof s||(e=s.create(e)),e.append(t),e},this.mod=function(e,t){return X(e,t)},this.slice=function(e,t){return new i(e,t)},this.equals=function(e,t){return e.group===h||e.isLinear()||_("Cannot set equality for "+e.toString()),A[e.value]=t.clone(),t},this.percent=function(t){return e.divide(t,new Fe(100))},this.assign=function(t,r){if(t instanceof s&&r instanceof s)return t.elements.map((function(t,n){return e.assign(t,r.elements[n])})),Be.fromArray(r.elements);if(t.parent){var n=t.parent;return n.elements[n.getter]=r,delete n.getter,n}if(t.group!==h)throw new _e("Cannot complete operation. Incorrect LH value for "+t);return A[t.value]=r,r},this.function_assign=function(e,t){var r=e.elements.pop();return Q(r,e.elements,t)};var $e=function(e){return new Fe(!0===e?1:0)};this.eq=function(e,t){return $e(e.equals(t))},this.gt=function(e,t){return $e(e.gt(t))},this.gte=function(e,t){return $e(e.gte(t))},this.lt=function(e,t){return $e(e.lt(t))},this.lte=function(e,t){return $e(e.lte(t))},this.factorial=function(e){return this.symfunction(w,[e])},this.dfactorial=function(e){return this.symfunction(S,[e])}}u.FUNCTION_MODULES.push(Oe),oe(Oe),Math.sign=Math.sign||function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},Math.cosh=Math.cosh||function(e){var t=Math.exp(e);return(t+1/t)/2},Math.sech=Math.sech||function(e){return 1/Math.cosh(e)},Math.csch=Math.csch||function(e){return 1/Math.sinh(e)},Math.coth=Math.coth||function(e){return 1/Math.tanh(e)},Math.sinh=Math.sinh||function(e){var t=Math.exp(e);return(t-1/t)/2},Math.tanh=Math.tanh||function(e){if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)},Math.asinh=Math.asinh||function(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))},Math.acosh=Math.acosh||function(e){return Math.log(e+Math.sqrt(e*e-1))},Math.atanh=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},Math.log10=Math.log10||function(e){return Math.log(e)*Math.LOG10E},Math.trunc=Math.trunc||function(e){return isNaN(e)?NaN:e>0?Math.floor(e):Math.ceil(e)},De.getExpression=function(e,t){"last"!==e&&e||(e=E.length),"first"===e&&(e=1);var r=E[e-1];return r?new De(r):r},De.prototype={text:function(e,t){return t=t||19,e=e||"decimals",this.symbol.text_?this.symbol.text_(e):ke(this.symbol,e,void 0,t)},latex:function(e){return this.symbol.latex?this.symbol.latex(e):Pe.latex(this.symbol,e)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){var e,r=arguments[0],n=1;"string"==typeof r?e="%"===r.charAt(0)?De.getExpression(r.substr(1)).text():r:r instanceof De||U(r)?e=r.text():(e=this.symbol.text(),n--);var i=arguments[n]||{},s=new De(le("PARSE2NUMBER",(function(){return t.parse(e,i)}),!0));return s},buildFunction:function(e){return $e.build(this.symbol,e)},isNumber:function(){return G(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},variables:function(){return P(this.symbol)},toString:function(){try{return K(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch(e){return""}},toDecimal:function(e){u.precision=e;var t=ke(this.symbol,"decimals");return u.precision=void 0,t},isFraction:function(){return F(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(e,r){return new De(this.symbol.sub(t.parse(e),t.parse(r)))},operation:function(e,r){return z(r)?r=r.symbol:U(r)||(r=t.parse(r)),new De(t[e](this.symbol.clone(),r.clone()))},add:function(e){return this.operation("add",e)},subtract:function(e){return this.operation("subtract",e)},multiply:function(e){return this.operation("multiply",e)},divide:function(e){return this.operation("divide",e)},pow:function(e){return this.operation("pow",e)},expand:function(){return new De(t.expand(this.symbol))},each:function(e,t){if(this.symbol.each)this.symbol.each(e,t);else if(K(this.symbol))for(t=0;t<this.symbol.length;t++)e.call(this.symbol,this.symbol[t],t);else e.call(this.symbol)},eq:function(e){U(e)||(e=t.parse(e));try{return t.subtract(this.symbol.clone(),e).equals(0)}catch(e){return!1}},lt:function(e){U(e)||(e=t.parse(e));try{return he(t.subtract(this.symbol.clone(),e)).lessThan(0)}catch(e){return!1}},gt:function(e){U(e)||(e=t.parse(e));try{return he(t.subtract(this.symbol.clone(),e)).greaterThan(0)}catch(e){return!1}},gte:function(e){return this.gt(e)||this.eq(e)},lte:function(e){return this.lt(e)||this.eq(e)},numerator:function(){return new De(this.symbol.getNum())},denominator:function(){return new De(this.symbol.getDenom())},hasFunction:function(e){return this.symbol.containsFunction(e)},contains:function(e){return this.symbol.contains(e)}},De.prototype.toTeX=De.prototype.latex,Re.prototype={fromScientific:function(e){var t=String(e).toLowerCase().split("e");return this.coeff=t[0],this.exponent=t[1],this},convert:function(e){var t=e.split("."),r=t[0]||"",n=t[1]||"";r=Re.removeLeadingZeroes(r),n=Re.removeTrailingZeroes(n);var i=r.length,s=r+n,a=Re.leadingZeroes(s).length;this.exponent=i-(a+1);var o=Re.removeLeadingZeroes(s);return this.coeff=o.charAt(0)+"."+(o.substr(1,o.length)||"0"),this},round:function(e){var t=this.copy();if(0===(e=Number(e)))t.coeff=t.coeff.charAt(0);else{var r=this.coeff.substring(0,e+1),n=this.coeff.substring(e+1,e+3),i=n.charAt(0);n.charAt(1)>4&&i++,t.coeff=r+i}return t},copy:function(){var e=new Re(0);return e.coeff=this.coeff,e.exponent=this.exponent,e.sign=this.sign,e},toString:function(e){var t,r=void 0===e?this.coeff:Re.round(this.coeff,e);return t=0===this.exponent&&u.SCIENTIFIC_IGNORE_INTS?this.coeff:r+"e"+this.exponent,(-1===this.sign?"-":"")+t}},Re.isScientific=function(e){return/\d+\.?\d*e[\+\-]*\d+/i.test(e)},Re.leadingZeroes=function(e){var t=e.match(/^(0*).*$/);return t?t[1]:""},Re.removeLeadingZeroes=function(e){var t=e.match(/^0*(.*)$/);return t?t[1]:""},Re.removeTrailingZeroes=function(e){var t=e.match(/0*$/);return t?e.substring(0,e.length-t[0].length):""},Re.round=function(e,t){var r=re(e,t),n=t-String(r).split(".").pop().length;return n>0&&(r+=new Array(n+1).join(0)),r},Re.prototype={fromScientific:function(e){var t=String(e).toLowerCase().split("e");return this.coeff=t[0],this.exponent=t[1],this},convert:function(e){var t=e.split("."),r=t[0]||"",n=t[1]||"";r=Re.removeLeadingZeroes(r),n=Re.removeTrailingZeroes(n);var i=r.length,s=r+n,a=Re.leadingZeroes(s).length;this.exponent=i-(a+1);var o=Re.removeLeadingZeroes(s);this.coeff=o.charAt(0)+"."+(o.substr(1,o.length)||"0");var u=this.coeff.split(".")[1]||"";return this.decp="0"===u?0:u.length,this.dec=n,this.wholes=r,this},round:function(e){var t=this.copy();if(0===(e=Number(e)))t.coeff=t.coeff.charAt(0);else{var r=this.coeff.substring(0,e+1),n=this.coeff.substring(e+1,e+3),i=n.charAt(0);n.charAt(1)>4&&i++,t.coeff=r+i}return t},copy:function(){var e=new Re(0);return e.coeff=this.coeff,e.exponent=this.exponent,e.sign=this.sign,e},toString:function(e){var t;if(u.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&0===this.exponent&&this.decp<e)t=0===this.decp?this.wholes:this.coeff;else{var r=void 0===e?this.coeff:Re.round(this.coeff,Math.min(e,this.decp||1));t=0===this.exponent?r:r+"e"+this.exponent}return(-1===this.sign?"-":"")+t}},Re.isScientific=function(e){return/\d+\.?\d*e[\+\-]*\d+/i.test(e)},Re.leadingZeroes=function(e){var t=e.match(/^(0*).*$/);return t?t[1]:""},Re.removeLeadingZeroes=function(e){var t=e.match(/^0*(.*)$/);return t?t[1]:""},Re.removeTrailingZeroes=function(e){var t=e.match(/0*$/);return t?e.substring(0,e.length-t[0].length):""},Le.create=function(e){if(e instanceof Le)return e;var t="-"===(e=e.toString()).charAt(0);t&&(e=e.substr(1,e.length-1));var r=new Le(e);return t&&r.negate(),r},Le.isFrac=function(e){return e instanceof Le},Le.quick=function(e,t){var n=new Le;return n.num=new r(e),n.den=new r(t),n},Le.simple=function(e){for(var t=String(D(e)).split("."),r=t.join(""),n=1,i=(t[1]||"").length,s=0;s<i;s++)n+="0";return Le.quick(r,n).simplify()},Le.prototype={multiply:function(e){if(this.isOne())return e.clone();if(e.isOne())return this.clone();var t=this.clone();return t.num=t.num.multiply(e.num),t.den=t.den.multiply(e.den),t.simplify()},divide:function(e){if(e.equals(0))throw new ge("Division by zero not allowed!");return this.clone().multiply(e.clone().invert()).simplify()},subtract:function(e){return this.clone().add(e.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(e){var t=this.den,r=e.den,n=this.clone(),i=n.num,s=e.num;return t.equals(r)?n.num=i.add(s):(n.num=i.multiply(r).add(s.multiply(t)),n.den=t.multiply(r)),n.simplify()},mod:function(e){var t=this.clone(),r=e.clone();return t.num=t.num.multiply(r.den),t.den=t.den.multiply(r.den),r.num=r.num.multiply(this.den),r.den=r.den.multiply(this.den),t.num=t.num.mod(r.num),t.simplify()},simplify:function(){var e=r.gcd(this.num,this.den);return this.num=this.num.divide(e),this.den=this.den.divide(e),this},clone:function(){var e=new Le;return e.num=new r(this.num),e.den=new r(this.den),e},decimal:function(e){var t=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";e=e||u.PRECISION,e++;for(var r=[],n=this.num.abs(),i=this.den,s=0;s<e;s++){var a=n.divide(i),o=n.subtract(a.multiply(i));if(r.push(a),o.equals(0))break;n=o.times(10)}var l=r.shift();if(0===r.length)return t+l.toString();if(s===e){var c=[];for(s=0;s<2;s++)c.unshift(r.pop());r.push(Math.round(c.join(".")))}return t+(l.toString()+".")+r.join("")},toDecimal:function(e){return e||u.PRECISION?this.decimal(e):this.num/this.den},qcompare:function(e){return[this.num.multiply(e.den),e.num.multiply(this.den)]},equals:function(e){isNaN(e)||(e=new Le(e));var t=this.qcompare(e);return t[0].equals(t[1])},absEquals:function(e){isNaN(e)||(e=new Le(e));var t=this.qcompare(e);return t[0].abs().equals(t[1])},greaterThan:function(e){isNaN(e)||(e=new Le(e));var t=this.qcompare(e);return t[0].gt(t[1])},gte:function(e){return this.greaterThan(e)||this.equals(e)},lte:function(e){return this.lessThan(e)||this.equals(e)},lessThan:function(e){isNaN(e)||(e=new Le(e));var t=this.qcompare(e);return t[0].lt(t[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var e=this.den;if(!this.num.equals(0)){var t=this.num.isNegative();this.den=this.num.abs(),this.num=e,t&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(e){return Le.quick(r.gcd(e.num,this.num),r.lcm(e.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){return u.USE_BIG?new n(this.num.toString()).div(new n(this.den.toString())):this.num/this.den},isNegative:function(){return this.toDecimal()<0}},Fe.imaginary=function(){var e=new Fe(u.IMAGINARY);return e.imaginary=!0,e},Fe.infinity=function(e){var t=new Fe("Infinity");return-1===e&&t.negate(),t},Fe.shell=function(e,t){var r=new Fe(t);return r.group=e,r.symbols={},r.length=0,r},Fe.unwrapSQRT=function(e,t){var r=e.power;if(e.fname===x&&(e.isLinear()||t)){var n=e.args[0].clone();n.power=n.power.multiply(new Le(.5)),n.multiplier=n.multiplier.multiply(e.multiplier),e=n,t&&(e.power=r.multiply(new Le(.5)))}return e},Fe.hyp=function(e,r){return e=e||new Fe(0),r=r||new Fe(0),t.sqrt(t.add(t.pow(e.clone(),new Fe(2)),t.pow(r.clone(),new Fe(2))))},Fe.toPolarFormArray=function(e){var r,n;return r=e.realpart(),n=e.imagpart(),[Fe.hyp(r,n),r.equals(0)?t.parse("pi/2"):t.trig.atan(t.divide(n,r))]},Fe.unwrapPARENS=function(e){if(""===e.fname){var t=e.args[0];return t.power=t.power.multiply(e.power),t.multiplier=t.multiplier.multiply(e.multiplier),""===e.fname?Fe.unwrapPARENS(t):t}return e},Fe.create=function(e,r){return r=void 0===r?1:r,t.parse("("+e+")^("+r+")")},Fe.prototype={isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===d){var e=[],r=this.multiplier.sign();this.each((function(t){var r=t.power;if(U(r)||r.equals(1))return this.clone();e.push(r)}));var n=new Le(ee(e)),i=(r=this.multiplier.sign(),this.multiplier.clone().abs()),s=Oe.ifactor(i),a=new Le(1),o=new Le(1);for(var u in s){var l=new Le(s[u]);l.lessThan(n)||(l=l.divide(n).subtract(new Le(1)),o=o.multiply(new Le(u))),a=a.multiply(t.parse(X(u)+"^"+X(l)).multiplier)}var c=new Fe(o);this.each((function(e){(e=e.clone()).power=e.power.divide(n),c=t.multiply(c,e)}));var h=t.symfunction(v,[c]);return h.power=n,h.multiplier=r<0?a.negate():a,h}return this.clone()},equals:function(e){return U(e)||(e=new Fe(e)),this.value===e.value&&this.power.equals(e.power)&&this.multiplier.equals(e.multiplier)&&this.group===e.group},abs:function(){var e=this.clone();return e.multiplier.abs(),e},gt:function(e){return U(e)||(e=new Fe(e)),this.isConstant()&&e.isConstant()&&this.multiplier.greaterThan(e.multiplier)},gte:function(e){return U(e)||(e=new Fe(e)),this.equals(e)||this.isConstant()&&e.isConstant()&&this.multiplier.greaterThan(e.multiplier)},lt:function(e){return U(e)||(e=new Fe(e)),this.isConstant()&&e.isConstant()&&this.multiplier.lessThan(e.multiplier)},lte:function(e){return U(e)||(e=new Fe(e)),this.equals(e)||this.isConstant()&&e.isConstant()&&this.multiplier.lessThan(e.multiplier)},isPoly:function(e){var t=this.group,r=this.power;if(!j(r)||r<0)return!1;if(t===l||t===h||this.isConstant(!0))return!0;var n=P(this);if(t===d&&1===n.length){var i=n[0];if(!i)return!0;for(var s in this.symbols){var a=this.symbols[s];if(a.group===f&&!a.args[0].isConstant())return!1;if(!a.contains(i)&&!a.isConstant(!0))return!1}return!0}if(this.isComposite()||t===d&&e){if(!e&&n.length>1)return!1;for(var s in this.symbols)if(!this.symbols[s].isPoly(e))return!1;return!0}return!1},stripVar:function(e,r){var n;return this.group!==m&&this.group!==h||this.value!==e?this.group===d&&this.isLinear()?(n=new Fe(1),this.each((function(r){r.contains(e,!0)||(n=t.multiply(n,r.clone()))})),n.multiplier=n.multiplier.multiply(this.multiplier)):this.group!==g||this.isLinear()?this.group===g&&this.isLinear()?(n=new Fe(0),this.each((function(r){if(!r.contains(e)){var i=r.clone();i.multiplier=i.multiplier.multiply(this.multiplier),n=t.add(n,i)}})),n.equals(0)&&(n=new Fe(this.multiplier))):n=this.group===p&&this.power.contains(e,!0)||this.group===f&&this.contains(e)?new Fe(this.multiplier):this.clone():n=new Fe(this.multiplier):n=new Fe(r?0:this.multiplier),n},toArray:function(e,r){r=r||{arr:[],add:function(e,r){var n=this.arr[r];this.arr[r]=n?t.add(n,e):e}};var n=this.group;if(n===h&&this.contains(e))r.add(new Fe(this.multiplier),this.power);else if(n===d){var i=this.stripVar(e),s=t.divide(this.clone(),i.clone()),a=s.isConstant()?0:s.power;r.add(i,a)}else if(n===m&&this.value===e)this.each((function(t,n){r.add(t.stripVar(e),n)}));else if(n===g)this.each((function(t){t.toArray(e,r)}));else{if(this.contains(e))throw new be("Cannot convert to array! Exiting");r.add(this.clone(),0)}r=r.arr;for(var o=0;o<r.length;o++)r[o]||(r[o]=new Fe(0));return r},hasFunc:function(e){var t=this.group===f||this.group===p;if(t&&!e||t&&this.contains(e))return!0;if(this.symbols)for(var r in this.symbols)if(this.symbols[r].hasFunc(e))return!0;return!1},sub:function(e,r){e=U(e)?e.clone():t.parse(e),r=U(r)?r.clone():t.parse(r),e.group!==l&&e.group!==c||_("Cannot substitute a number. Must be a variable");var n,i=!1,s=e.multiplier.equals(1),a=this.multiplier.clone();if(this.value===e.value&&(this.group!==m&&e.group!==m||this.group===m&&e.group===m))(s||e.multiplier.equals(this.multiplier))&&(e.isLinear()?n=r:e.power.equals(this.power)&&(n=r,i=!0),e.multiplier.equals(this.multiplier)&&(a=new Le(1)));else if(this.group===d||this.previousGroup===d)n=new Fe(1),this.each((function(i){var s=t.parse(i.sub(e,r));n=t.multiply(n,s)}));else if(this.isComposite())if(e.isComposite()&&this.isComposite()&&this.isLinear()&&e.isLinear()){var o=function(e,t){for(var r in e.symbols){var n=e.symbols[r];if(n.isComposite()&&o(n,t)||n.equals(t))return!0}return!1};for(var u in e.symbols)if(!o(this,e.symbols[u]))return this.clone();n=t.add(t.subtract(this.clone(),e),r)}else n=new Fe(0),this.each((function(i){n=t.add(n,i.sub(e,r))}));else if(this.group===p)n=t.parse(this.value).sub(e,r);else if(this.group===f){for(var h=[],g=0;g<this.args.length;g++){var y=this.args[g];U(y)||(y=t.parse(y)),h.push(y.sub(e,r))}n=t.symfunction(this.fname,h)}if(n){if(!i){var v=this.group===p?this.power.sub(e,r):t.parse(this.power);n=t.pow(n,v)}return n.multiplier=n.multiplier.multiply(a),n}return this.clone()},isMonomial:function(){if(this.group===h)return!0;if(this.group!==d)return!1;for(var e in this.symbols)if(this.symbols[e].group!==h)return!1;return!0},isPi:function(){return this.group===h&&"pi"===this.value},sign:function(){return this.multiplier.sign()},isE:function(){return"e"===this.value},isSQRT:function(){return this.fname===x},isConstant:function(e,t){if(t&&this.group===d)for(var r in this.symbols)if(this.symbols[r].isConstant(!0))return!0;if("all"===e&&(this.isPi()||this.isE()))return!0;if(e&&this.group===f){for(var n=0;n<this.args.length;n++)if(!this.args[n].isConstant(e))return!1;return!0}return e?G(this):this.value===y},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols)for(var e in this.symbols)if(this.symbols[e].isImaginary())return!0;return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new Fe(0);if(this.isComposite()){var e=new Fe(0);return this.each((function(r){e=t.add(e,r.realpart())})),e}return this.isImaginary()?new Fe(0):this.clone()},imagpart:function(){if(this.group===h&&this.isImaginary())return new Fe(this.multiplier);if(this.isComposite()){var e=new Fe(0);return this.each((function(r){e=t.add(e,r.imagpart())})),e}return this.group===d?this.stripVar(u.IMAGINARY):new Fe(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(e){if(e){if(this.isConstant())return!0;if(this.group===h)return this.value!==e||this.power.equals(1);if(this.isComposite()&&this.power.equals(1)){for(var t in this.symbols)if(!this.symbols[t].isLinear(e))return!1;return!0}return!(this.group!==d||!this.symbols[e])&&this.symbols[e].isLinear(e)}return this.power.equals(1)},containsFunction:function(e){if("string"==typeof e&&(e=[e]),this.group===f&&-1!==e.indexOf(this.fname))return!0;if(this.symbols)for(var t in this.symbols)if(this.symbols[t].containsFunction(e))return!0;return!1},multiplyPower:function(e){if(this.group===l&&this.multiplier.equals(1))return this;var r=this.power;if(this.group!==p&&e.group===l){var n=e.multiplier;this.group!==l||n.isInteger()||this.convert(c),this.power=r.equals(1)?n.clone():r.multiply(n),this.group===c&&j(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(l))}else this.group!==p&&(r=new Fe(r),this.convert(p)),this.power=t.multiply(r,e);return this},setPower:function(e,t){if(this.group===l&&this.multiplier.equals(1))return this;if(this.group!==p||U(e)){var r=!1;U(e)&&(e.group===l?e=e.multiplier:r=!0);var n=r?p:c;this.power=e,this.group===l&&n&&this.convert(n,t)}else this.group=this.previousGroup,delete this.previousGroup,this.group===l?(this.multiplier=new Le(this.value),this.value=y):this.power=e;return this},isInverse:function(){return this.group===p?this.power.multiplier.lessThan(0):this.power<0},clone:function(e){var t,r=e||new Fe(0),n=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],i=n.length;if(this.symbols)for(var s in r.symbols={},this.symbols)r.symbols[s]=this.symbols[s].clone();for(t=0;t<i;t++)void 0!==this[n[t]]&&(r[n[t]]=this[n[t]]);return r.power=this.power.clone(),r.multiplier=this.multiplier.clone(),this.isConversion&&(r.isConversion=this.isConversion),this.isUnit&&(r.isUnit=this.isUnit),r},toUnitMultiplier:function(e){return this.multiplier.num=new r(this.multiplier.num.isNegative()&&e?-1:1),this.multiplier.den=new r(1),this},toLinear:function(){return this.setPower(new Le(1)),this},each:function(e,t){if(this.symbols)for(var r in this.symbols){var n=this.symbols[r];if(n.group===m&&t)for(var i in n.symbols)e.call(r,n.symbols[i],i);else e.call(this,n,r)}else e.call(this,this,this.value)},valueOf:function(){return this.group===l?this.multiplier.valueOf():0===this.power?1:0===this.multiplier?0:ke(this,"decimals")},contains:function(e,t){e=String(e);var r=this.group;if(this.value===e)return!0;if(this.symbols)for(var n in this.symbols)if(this.symbols[n].contains(e,t))return!0;if(r===f||this.previousGroup===f)for(var i=0;i<this.args.length;i++)if(this.args[i].contains(e,t))return!0;if(r===p){if(t&&this.power.contains(e,t))return!0;if(this.value===e)return!0}return this.value===e},negate:function(){return this.multiplier.negate(),this.group!==g&&this.group!==m||this.distributeMultiplier(),this},invert:function(e,t){return e||(this.multiplier=this.multiplier.invert()),U(this.power)?this.power.negate():this.group===d&&t?this.each((function(e){return e.invert()})):this.power&&this.group!==l&&this.power.negate(),this},distributeMultiplier:function(e){var t=e?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&t&&this.group!==d&&!this.multiplier.equals(1)){for(var r in this.symbols){var n=this.symbols[r];n.multiplier=n.multiplier.multiply(this.multiplier),n.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var e=this.power;for(var r in this.symbols){var n=this.symbols[r];n.group===p?n.power=t.multiply(n.power,new Fe(e)):this.symbols[r].power=this.symbols[r].power.multiply(e)}this.toLinear()}return this},convert:function(e,t){if(e>f){var r=this.clone();this.symbols={},e===d?r.toUnitMultiplier():this.toUnitMultiplier(),this.group===f&&(r.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[r.keyForGroup(e)]=r,this.group=e,this.length=1}else if(e===p)this.group===l&&this.multiplier.equals(1)||(this.group!==p&&(this.previousGroup=this.group),this.group===l?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=ke(this,"hash"),this.group=p);else if(e===l){var n=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new Fe(this.group===c?n*Math.pow(this.value,this.power):n).clone(this)}else e===c&&this.group===l&&(this.value=t?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!t),this.group=c);return this},insert:function(e,r){if(U(e)||_("Object "+e+" is not of type Symbol!"),this.symbols){var n=this.group;if(n>f){var i=e.keyForGroup(n),s=i in this.symbols&&this.symbols[i];if("add"===r){var a=i;s?(this.symbols[a]=t.add(s,e),this.symbols[a].multiplier.equals(0)&&(delete this.symbols[a],this.length--,0===this.length&&(this.convert(l),this.multiplier=new Le(0)))):(this.symbols[i]=e,this.length++)}else e.group===c&&j(e.power)&&e.convert(l),e.group!==p?(this.multiplier=this.multiplier.multiply(e.multiplier),e.toUnitMultiplier()):(e.parens=e.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(e.multiplier.clone().abs()),e.toUnitMultiplier(!0)),s&&((e=t.multiply(ue(this.symbols,i),e)).isConstant()&&(this.multiplier=this.multiplier.multiply(e.multiplier),e=new Fe(1)),this.length--),e.isOne(!0)?e.multiplier.lessThan(0)&&this.negate():(this.symbols[i]=e,this.length++);0===this.length&&this.convert(l),this.group!==g&&this.group!==d||this.updateHash()}}return this},attach:function(e){if(K(e)){for(var t=0;t<e.length;t++)this.insert(e[t],"add");return this}return this.insert(e,"add")},combine:function(e){if(K(e)){for(var t=0;t<e.length;t++)this.insert(e[t],"multiply");return this}return this.insert(e,"multiply")},updateHash:function(){if(this.group!==l)if(this.group===f){for(var e="",t=this.args,r=this.fname===v,n=0;n<t.length;n++)e+=(0===n?"":",")+ke(t[n]);var i=r?"":this.fname;this.value=i+(r?e:X(e))}else this.group!==h&&this.group!==m&&(this.value=ke(this,"hash"))},keyForGroup:function(e){var t,r=this.group;if(r===l)t=this.value;else if(r===h||r===c)t=e===m?this.power.toDecimal():this.value;else if(r===f)t=e===m?this.power.toDecimal():ke(this,"hash");else{if(r===m)return e===d?ke(this,"hash"):e===g?this.power.equals(1)?this.value:X(ke(this,"hash"))+u.POWER_OPERATOR+this.power.toDecimal():e===m?this.power.toString():this.value;r===g?(e===g&&(t=ke(this,"hash")),t=e===m?this.power.toDecimal():this.value):r===d?t=e===m?this.power.toDecimal():ke(this,"hash"):r===p&&(t=e===m?ke(this.power):ke(this,"hash"))}return t},collectSymbols:function(e,t,r,n){var i=[];if(this.symbols)for(var s in this.symbols){var a=this.symbols[s];!n||a.group!==m&&a.group!==g?i.push(e?e(a,t):a):i=i.concat(a.collectSymbols())}else i.push(this);return null===r&&(r=void 0),i.sort(r)},latex:function(e){return Pe.latex(this,e)},text:function(e){return ke(this,e)},isOne:function(e){var t=e?"absEquals":"equals";return this.group===l?this.multiplier[t](1):this.power.equals(0)},isComposite:function(){var e=this.group,t=this.previousGroup;return e===g||e===m||t===m||t===g},isCombination:function(){var e=this.group,t=this.previousGroup;return e===d||t===d},lessThan:function(e){return this.multiplier.lessThan(e)},greaterThan:function(e){return this.multiplier.greaterThan(e)},getDenom:function(){var e,r;if(r=this.clone(),this.group===d&&this.power.lessThan(0)&&(r=t.expand(r)),r.power.lessThan(0)){var n=t.parse(r.multiplier.den);(e=r.toUnitMultiplier()).power.negate(),e=t.multiply(n,e)}else if(r.group===d)for(var i in e=t.parse(r.multiplier.den),r.symbols)r.symbols[i].power<0&&(e=t.multiply(e,r.symbols[i].clone().invert()));else e=t.parse(r.multiplier.den);return e},getNum:function(){var e,r;return(r=this.clone()).group===d&&r.power.lessThan(0)&&(r=t.expand(r)),r.power.greaterThan(0)&&r.group!==d?e=t.multiply(t.parse(r.multiplier.num),r.toUnitMultiplier()):r.group===d?(e=t.parse(r.multiplier.num),r.each((function(r){(r.power>0||r.group===p&&r.power.multiplier>0)&&(e=t.multiply(e,r.clone()))}))):e=t.parse(r.multiplier.num),e},toString:function(){return this.text()}};var ze={convert:function(e,t){var r;if(0===e)r=[0,1];else if(e<1e-6||e>1e20){var n=this.quickConversion(Number(e));if(n[1]<=1e20){var i=Math.abs(e),s=e/i;(r=this.fullConversion(i.toFixed((n[1]+"").length-1)))[0]=r[0]*s}else r=n}else r=this.fullConversion(e);return r},quickConversion:function(e){var t=(e.toExponential()+"").split("e"),r=t[0].split(".")[1],n=(r?r.length:0)-parseInt(t[1]);return[Math.round(Math.pow(10,n)*t[0]),Math.pow(10,Math.abs(t[1])+n)]},fullConversion:function(e){for(var t=!1,r=0,n=1,i=1,s=0,a=0,o=e;!t;){++a>1e4&&(t=!0);var u=Math.floor(o),l=r+u*i,c=n+u*s,h=o-u;h<1e-16&&(t=!0),o=1/h,r=i,n=s,i=l,s=c,(Math.abs(l/c-e)<1e-16||a>30)&&(t=!0)}return[l,c]}},Pe={parser:function(){var e=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],t=new Ue;for(var r in t)-1===e.indexOf(r)&&delete t[r];return t.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(e){return e}}),t.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(e){return e}}),t.getBrackets()["{"].maps_to=void 0,t}(),space:"~",dot:" \\cdot ",latex:function(e,r){if(e.clone&&(e=e.clone()),e instanceof t.classes.Collection&&(e=e.elements),K(e)){for(var n=[],i=0;i<e.length;i++){var s=e[i];U(s)||(s=t.parse(s)),n.push(this.latex(s,r))}return this.brackets(n.join(", "),"square")}if(q(e)){var a="\\begin{pmatrix}\n";for(i=0;i<e.elements.length;i++){for(var o=[],u=e.elements[i],l=0;l<u.length;l++)o.push(this.latex(u[l],r));a+=o.join(" & "),i<e.elements.length-1&&(a+="\\\\\n")}return a+"\\end{pmatrix}"}if(V(e)){for(a="\\left[",i=0;i<e.elements.length;i++)a+=this.latex(e.elements[i],r)+" "+(i!==e.elements.length-1?",\\,":"");return a+"\\right]"}if($(e)){for(a="\\{",i=0;i<e.elements.length;i++)a+=this.latex(e.elements[i],r)+" "+(i!==e.elements.length-1?",\\,":"");return a+"\\}"}var h,p="decimal"===r||"decimals"===r,f=(e=e.clone()).power,m=H(f),g=e.multiplier.lessThan(0);if(e.group===c&&p)return String(e.multiplier.toDecimal()*Math.pow(e.value,e.power.toDecimal()));e.multiplier=e.multiplier.abs(),h=p?[String(e.multiplier.toDecimal()),""]:[e.multiplier.num,e.multiplier.den];var y,v=this.value(e,m,r,g);m&&f.negate(),p?(y=U(f)?Pe.latex(f,r):String(f.toDecimal()),"1"===String(y)&&(y="")):y=U(f)?this.latex(f,r):this.formatFrac(f,!0);var x=["",""];return x[m?1:0]=y,((g?"-":"")+this.set(h,v,x,e.group===d)).replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(e,t,r,n){var i=e.group,s=e.previousGroup,a=["",""],o=t?1:0;if(e.isInfinity)a[o]="\\infty";else if(i===h||i===c||s===h||s===c||s===l){(F=e.value).replace&&(F=F.replace(/(.+)_$/,"$1\\_"));var m=String(F).split("_"),y=this.greek[m[0]];y&&(m[0]=y,F=m.join("_")),(e=this.symbols[m[0]])&&(m[0]=e,F=m.join("_")),a[o]=F}else if(i===f||s===f){for(var E=[],A=e.fname,T=0;T<e.args.length;T++){var M;M="string"==typeof(_=e.args[T])?_:this.latex(_,r),E.push(M)}if(A===x)a[o]="\\sqrt"+this.braces(E.join(","));else if(A===b)a[o]=this.brackets(E.join(","),"abs");else if(A===v)a[o]=this.brackets(E.join(","),"parens");else if("limit"===A)a[o]=" \\lim\\limits_{"+E[1]+" \\to "+E[2]+"} "+E[0];else if("integrate"===A)a[o]="\\int"+this.braces(E[0])+this.braces("d"+E[1]);else if("defint"===A)a[o]="\\int\\limits_"+this.braces(E[1])+"^"+this.braces(E[2])+" "+E[0]+" d"+E[3];else if(A===w||A===S){var _;(_=e.args[0]).power.equals(1)&&(_.isComposite()||_.isCombination())&&(E[0]=this.brackets(E[0])),a[o]=E[0]+(A===w?"!":"!!")}else if("floor"===A)a[o]="\\left \\lfloor"+this.braces(E[0])+"\\right \\rfloor";else if("ceil"===A)a[o]="\\left \\lceil"+this.braces(E[0])+"\\right \\rceil";else if(A===u.LOG&&E.length>1)a[o]="\\mathrm"+this.braces(u.LOG)+"_"+this.braces(E[1])+this.brackets(E[0]);else if(A===u.LOG10)a[o]="\\mathrm"+this.braces(u.LOG)+"_"+this.braces(10)+this.brackets(E[0]);else if("sum"===A){var N=E[0],I=E[1],C=E[2],O=E[3];a[o]="\\sum\\limits_{"+this.braces(I)+"="+this.braces(C)+"}^"+this.braces(O)+" "+this.braces(N)}else if("product"===A)N=E[0],I=E[1],C=E[2],O=E[3],a[o]="\\prod\\limits_{"+this.braces(I)+"="+this.braces(C)+"}^"+this.braces(O)+" "+this.braces(N);else if("nthroot"===A)a[o]="\\sqrt["+E[1]+"]"+this.braces(E[0]);else if("mod"===A)a[o]=E[0]+" \\bmod "+E[1];else if("realpart"===A)a[o]="\\operatorname{Re}"+this.brackets(E[0]);else if("imagpart"===A)a[o]="\\operatorname{Im}"+this.brackets(E[0]);else{var k=""!==A?"\\mathrm"+this.braces(A.replace(/_/g,"\\_")):"";e.isConversion?a[o]=k+this.brackets(E.join(""),"parens"):a[o]=k+this.brackets(E.join(","),"parens")}}else if(e.isComposite()){var D=e.collectSymbols().sort(i===g||s===g?function(e,t){return t.group-e.group}:function(e,t){var r=U(e.power)?-1:e.power;return(U(t.power)?-1:t.power)-r}),R=[],L=D.length;for(T=0;T<L;T++)R.push(Pe.latex(D[T],r));var F=R.join("+");a[o]=e.isLinear()&&e.multiplier.equals(1)&&!n?F:this.brackets(F,"parens")}else if(i===d||s===p||s===d){i===d&&e.distributeExponent();var z=[],P=[],B=[],V=[],q=0,$=0,G=function(e,t,r){if(r>1&&t.length>0)for(var n=t.length,i=0;i<n;i++){var s=t[i],a=e[s];/^\\left\(.+\\right\)\^\{.+\}$/g.test(a)||/^\\left\(.+\\right\)$/g.test(a)||(e[s]=Pe.brackets(a,"parens"))}return e};e.each((function(t){var n;H(t.power)?(n=Pe.latex(t.invert(),r),$++,t.isComposite()&&(1!=e.multiplier.den&&1==Math.abs(t.power)&&(n=Pe.brackets(n,"parens")),B.push(z.length)),z.push(n)):(n=Pe.latex(t,r),q++,t.isComposite()&&(1!=e.multiplier.num&&1==Math.abs(t.power)&&(n=Pe.brackets(n,"parens")),V.push(P.length)),P.push(n))})),G(P,V,q),a[0]=P.join(this.dot),G(z,B,$),a[1]=z.join(this.dot)}return a},set:function(e,t,r,n){var i=function(e){return/^\\left\(.+\\right\)$/.test(e)};if(r&&(r=this.formatP(r)),n){var s=r[0];r[0]=""}t=this.merge(t,r);var a=e[0],o=e[1],u=t[0],l=t[1];u&&1===Number(a)&&(a=""),1===Number(o)&&(o="");var c=this.join(a,u,i(u)?"":this.dot),h=this.join(o,l,i(l)?"":this.dot);if(c&&h){var p=this.frac(c,h);return n&&s&&(p=this.brackets(p)+s),p}return c},merge:function(e,t){for(var r=[],n=0;n<2;n++)r[n]=e[n]+t[n];return r},join:function(e,t,r){return e||t?e&&!t?e:t&&!e?t:e+r+t:""},formatP:function(e){for(var t=0;t<2;t++){var r=e[t];r&&(e[t]="^"+this.braces(r))}return e},formatFrac:function(e,t){var r=e.num.toString(),n=e.den.toString();return t&&"1"===r&&"1"===n?"":"1"===n?r:this.frac(r,n)},frac:function(e,t){return"\\frac"+this.braces(e)+this.braces(t)},braces:function(e){return"{"+e+"}"},brackets:function(e,t){var r={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]}[t=t||"parens"];return"\\left"+r[0]+e+"\\right"+r[1]},filterTokens:function(e){for(var t=[],r=["\\","left","right","big","Big","large","Large"],n=0,i=e.length;n<i;n++){var s=e[n];K(s)?t.push(Pe.filterTokens(s)):-1===r.indexOf(s.value)&&t.push(s)}return t},parse:function(e){var t,r,n="",i=this.filterTokens(e),s={cdot:"",times:"",infty:"Infinity"},a=function(){return i[++t]},o=function(){return Pe.parse(a())},u=function(e){return e in s?s[e]:e};for(t=0,r=i.length;t<r;t++){var l=i[t];if("frac"===l.value)n+=o()+"/"+o();else if(l.value in Pe.symbols)n+=l.value+o();else if("int"===l.value){var c=o();t++;var h=a().value;h=u(h.substring(1,h.length)),n+="integrate"+X(c+","+h)}else if("mathrm"===l.value)n+=(c=i[++t][0].value)+o();else if("sum_"===l.value||"prod_"===l.value){var p="sum_"===l.value?"sum":"product",f=a();t++;var m=o();c=o(),n+=p+X([c,u(f[0]),u(f[2]),u(m)].join(","))}else"lim_"===l.value?(f=a(),n+="limit"+X([o(),u(f[0]),u(f[2])].join(","))):Array.isArray(l)?n+=u(Pe.parse(l)):n+=u(l.value.toString())}return X(n)}};function Be(e){V(e)?this.elements=e.items.slice(0):K(e)?this.elements=e.slice(0):this.elements=[].slice.call(arguments)}function Ve(){var e,t,r,n,i=arguments,s=i.length,a=[];if(q(i))for(e=0;e<s;e++)a.push(i[e].slice(0));else for(e=0;e<s;e++)t=i[e],V(t)&&(t=t.elements),K(t)||(t=[t]),n=t.length,r&&r!==n&&_("Unable to create Matrix. Row dimensions do not match!"),a.push(t),r=n;this.elements=a}function qe(e){if(this.elements=[],V(e)||(e=Be.fromArray(arguments)),e)for(var t=e.elements,r=0,n=t.length;r<n;r++)this.add(t[r])}Be.arrayPrefill=function(e,t){var r=[];t=t||0;for(var n=0;n<e;n++)r[n]=t;return r},Be.fromArray=function(e){var t=new Be;return t.elements=e,t},Be.fromSet=function(e){return Be.fromArray(e.elements)},Be.prototype={custom:!0,e:function(e){return e<1||e>this.elements.length?null:this.elements[e-1]},set:function(e,t){U(t)||(t=new Fe(t)),this.elements[e]=t},dimensions:function(){return this.elements.length},modulus:function(){return le("SAFE",(function(){return t.pow(this.dot(this.clone()),new Fe(.5))}),void 0,this)},eql:function(e){var r=this.elements.length,n=e.elements||e;if(r!==n.length)return!1;do{if(Math.abs(t.subtract(this.elements[r-1],n[r-1]).valueOf())>PRECISION)return!1}while(--r);return!0},clone:function(){for(var e=new Be,t=this.elements.length,r=0;r<t;r++)e.elements.push(this.elements[r].clone());return this.getter&&(e.getter=this.getter.clone()),e},map:function(e){var t=[];return this.each((function(r,n){t.push(e(r,n))})),new Be(t)},each:function(e){var t,r=this.elements.length,n=r;do{t=n-r,e(this.elements[t],t+1)}while(--r)},toUnitVector:function(){return le("SAFE",(function(){var e=this.modulus();return 0===e.valueOf()?this.clone():this.map((function(r){return t.divide(r,e)}))}),void 0,this)},angleFrom:function(e){return le("SAFE",(function(){var r=e.elements||e;if(this.elements.length!==r.length)return null;var n=new Fe(0),i=new Fe(0),s=new Fe(0);this.each((function(e,a){n=t.add(n,t.multiply(e,r[a-1])),i=t.add(i,t.multiply(e,e)),s=t.add(s,t.multiply(r[a-1],r[a-1]))})),i=t.pow(i,new Fe(.5)),s=t.pow(s,new Fe(.5));var a=t.multiply(i,s);if(0===a.valueOf())return null;var o=t.divide(n,a),u=o.valueOf();return u<-1&&(o=-1),u>1&&(o=1),new Fe(Math.acos(o))}),void 0,this)},isParallelTo:function(e){var t=this.angleFrom(e).valueOf();return null===t?null:t<=PRECISION},isAntiparallelTo:function(e){var t=this.angleFrom(e).valueOf();return null===t?null:Math.abs(t-Math.PI)<=PRECISION},isPerpendicularTo:function(e){var t=this.dot(e);return null===t?null:Math.abs(t)<=PRECISION},add:function(e){return le("SAFE",(function(){var r=e.elements||e;return this.elements.length!==r.length?null:this.map((function(e,n){return t.add(e,r[n-1])}))}),void 0,this)},subtract:function(e){return le("SAFE",(function(){var r=e.elements||e;return this.elements.length!==r.length?null:this.map((function(e,n){return t.subtract(e,r[n-1])}))}),void 0,this)},multiply:function(e){return this.map((function(t){return t.clone()*e.clone()}))},x:function(e){return this.multiply(e)},dot:function(e){return le("SAFE",(function(){var r=e.elements||e,n=new Fe(0),i=this.elements.length;if(i!==r.length)return null;do{n=t.add(n,t.multiply(this.elements[i-1],r[i-1]))}while(--i);return n}),void 0,this)},cross:function(e){var r=e.elements||e;if(3!==this.elements.length||3!==r.length)return null;var n=this.elements;return le("SAFE",(function(){return new Be([t.subtract(t.multiply(n[1],r[2]),t.multiply(n[2],r[1])),t.subtract(t.multiply(n[2],r[0]),t.multiply(n[0],r[2])),t.subtract(t.multiply(n[0],r[1]),t.multiply(n[1],r[0]))])}),void 0,this)},max:function(){var e,t=0,r=this.elements.length,n=r;do{e=n-r,Math.abs(this.elements[e].valueOf())>Math.abs(t.valueOf())&&(t=this.elements[e])}while(--r);return t},magnitude:function(){var e=new Fe(0);return this.each((function(r){e=t.add(e,t.pow(r,new Fe(2)))})),t.sqrt(e)},indexOf:function(e){var t,r=null,n=this.elements.length,i=n;do{t=i-n,null===r&&this.elements[t].valueOf()===e.valueOf()&&(r=t+1)}while(--n);return r},text:function(e){return ke(this)},toString:function(){return this.text()},latex:function(e){for(var t=[],r=0;r<this.elements.length;r++)t.push(Pe.latex.call(Pe,this.elements[r],e));return"["+t.join(", ")+"]"}},Ve.identity=function(e){for(var t=new Ve,r=0;r<e;r++){t.elements.push([]);for(var n=0;n<e;n++)t.set(r,n,new Fe(r===n?1:0))}return t},Ve.fromArray=function(e){function t(e){return Ve.apply(this,e)}return t.prototype=Ve.prototype,new t(e)},Ve.zeroMatrix=function(e,t){for(var r=new Ve,n=0;n<e;n++)r.elements.push(Be.arrayPrefill(t,new Fe(0)));return r},Ve.prototype={custom:!0,get:function(e,t){if(this.elements[e])return this.elements[e][t]},map:function(e,t){var r=new Ve;return this.each((function(n,i,s){r.set(i,s,e.call(r,n),t)})),r},set:function(e,t,r,n){this.elements[e]||(this.elements[e]=[]),this.elements[e][t]=n||U(r)?r:new Fe(r)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(e){return!e||e>this.cols()?[]:this.elements[e-1]},col:function(e){var t=this.rows(),r=[];if(e>this.cols()||!e)return r;for(var n=0;n<t;n++)r.push(this.elements[n][e-1]);return r},eachElement:function(e){var t,r,n=this.rows(),i=this.cols();for(t=0;t<n;t++)for(r=0;r<i;r++)e.call(this,this.elements[t][r],t,r)},determinant:function(){if(!this.isSquare())return null;var e,r=this.toRightTriangular(),n=r.elements[0][0],i=r.elements.length-1,s=i;do{e=s-i+1,n=t.multiply(n,r.elements[e][e])}while(--i);return n},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&0===this.determinant()},augment:function(e){var t=this.rows();t!==e.rows()&&_("Cannot augment matrix. Rows don't match.");for(var r=0;r<t;r++)this.elements[r]=this.elements[r].concat(e.elements[r]);return this},clone:function(){for(var e=this.rows(),t=this.cols(),r=new Ve,n=0;n<e;n++){r.elements[n]=[];for(var i=0;i<t;i++){var s=this.elements[n][i];r.elements[n][i]=U(s)?s.clone():s}}return r},invert:function(){return this.isSquare()||_("Matrix is not square!"),le("SAFE",(function(){var e,r,n,i,s,a,o,u=this.elements.length,l=u,c=Ve.identity(u),h=this.augment(c).toRightTriangular(),p=h.elements[0].length,f=[];do{s=[],n=p,f[e=u-1]=[],a=h.elements[e][e];do{i=p-n,o=t.divide(h.elements[e][i],a.clone()),s.push(o),i>=l&&f[e].push(o)}while(--n);for(h.elements[e]=s,r=0;r<e;r++){s=[],n=p;do{i=p-n,s.push(t.subtract(h.elements[r][i].clone(),t.multiply(h.elements[e][i].clone(),h.elements[r][e].clone())))}while(--n);h.elements[r]=s}}while(--u);return Ve.fromArray(f)}),void 0,this)},toRightTriangular:function(){return le("SAFE",(function(){var e,r,n,i,s,a=this.clone(),o=this.elements.length,u=o,l=this.elements[0].length;do{if(n=u-o,0===a.elements[n][n].valueOf())for(var c=n+1;c<u;c++)if((r=a.elements[c][n])&&0!==r.valueOf()){e=[],i=l;do{s=l-i,e.push(t.add(a.elements[n][s].clone(),a.elements[c][s].clone()))}while(--i);a.elements[n]=e;break}if(0!==a.elements[n][n].valueOf())for(c=n+1;c<u;c++){var h=t.divide(a.elements[c][n].clone(),a.elements[n][n].clone());e=[],i=l;do{s=l-i,e.push(s<=n?new Fe(0):t.subtract(a.elements[c][s].clone(),t.multiply(a.elements[n][s].clone(),h.clone())))}while(--i);a.elements[c]=e}}while(--o);return a}),void 0,this)},transpose:function(){var e,t,r,n=this.elements.length,i=this.elements[0].length,s=new Ve,a=i;do{e=i-a,s.elements[e]=[],t=n;do{r=n-t,s.elements[e][r]=this.elements[r][e].clone()}while(--t)}while(--a);return s},canMultiplyFromLeft:function(e){var t=q(e)?e.elements.length:e.length;return this.elements[0].length===t},sameSize:function(e){return this.rows()===e.rows()&&this.cols()===e.cols()},multiply:function(e){return le("SAFE",(function(){var r=e.elements||e;if(!this.canMultiplyFromLeft(r)){if(this.sameSize(e)){for(var n=new Ve,i=this.rows(),s=0;s<i;s++){var a=t.multiply(new Be(this.elements[s]),new Be(e.elements[s]));n.elements[s]=a.elements}return n}return null}var o,u,l,c,h,p=this.elements.length,f=p,m=r[0].length,d=this.elements[0].length,g=[];do{g[s=f-p]=[],o=m;do{u=m-o,l=new Fe(0),c=d;do{h=d-c,l=t.add(l,t.multiply(this.elements[s][h],r[h][u]))}while(--c);g[s][u]=l}while(--o)}while(--p);return Ve.fromArray(g)}),void 0,this)},add:function(e,r){var n=new Ve;return this.sameSize(e)&&this.eachElement((function(i,s,a){var o=t.add(i.clone(),e.elements[s][a].clone());r&&(o=r.call(n,o,i,e.elements[s][a])),n.set(s,a,o)})),n},subtract:function(e,r){var n=new Ve;return this.sameSize(e)&&this.eachElement((function(i,s,a){var o=t.subtract(i.clone(),e.elements[s][a].clone());r&&(o=r.call(n,o,i,e.elements[s][a])),n.set(s,a,o)})),n},negate:function(){return this.each((function(e){return e.negate()})),this},toVector:function(){if(1===this.rows()||1===this.cols()){var e=new Be;return e.elements=this.elements,e}return this},toString:function(e,t){var r=this.rows(),n=[];e=void 0===e?"\n":e;for(var i=0;i<r;i++)n.push("["+this.elements[i].map((function(e){var r=t?e.multiplier.toDecimal():e.toString();return void 0!==e?r:""})).join(",")+"]");return"matrix"+X(n.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(e){var t=this.cols(),r=this.elements;return Y("\\begin{vmatrix}{0}\\end{vmatrix}",(function(){var n=[];for(var i in r){for(var s=[],a=0;a<t;a++)s.push(Pe.latex.call(Pe,r[i][a],e));n.push(s.join(" & "))}return n.join(" \\cr ")}))}},Ve.prototype.each=Ve.prototype.eachElement,qe.fromArray=function(e){function t(e){return qe.apply(this,e)}return t.prototype=qe.prototype,new t(e)},qe.prototype={add:function(e){this.contains(e)||this.elements.push(e.clone())},contains:function(e){for(var t=0;t<this.elements.length;t++){var r=this.elements[t];if(e.equals(r))return!0}return!1},each:function(e){for(var t=this.elements,r=new qe,n=0,i=t.length;n<i;n++){var s=t[n];e.call(this,s,r,n)}return r},clone:function(){var e=new qe;return this.each((function(t){e.add(t.clone())})),e},union:function(e){var t=this.clone();return e.each((function(e){t.add(e)})),t},difference:function(e){var t=this.clone();return e.each((function(e){t.remove(e)})),t},remove:function(e){for(var t=0,r=this.elements.length;t<r;t++)if(this.elements[t].equals(e))return ue(this.elements,t),!0;return!1},intersection:function(e){var t=new qe,r=this;return e.each((function(e){r.contains(e)&&t.add(e)})),t},intersects:function(e){return this.intersection(e).elements.length>0},is_subset:function(e){for(var t=e.elements,r=0,n=t.length;r<n;r++)if(!this.contains(t[r]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var $e={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":Oe.gamma},gamma_incomplete:{"Math2.factorial":Oe.factorial},Li:{"Math2.Ei":Oe.Ei,"Math2.bigLog":Oe.bigLog,Frac:Le},Ci:{"Math2.factorial":Oe.factorial},Ei:{"Math2.factorial":Oe.factorial},Si:{"Math2.factorial":Oe.factorial},Shi:{"Math2.factorial":Oe.factorial},Chi:{isInt:j,nround:re,"Math2.num_integrate":Oe.num_integrate},factor:{"Math2.ifactor":Oe.ifactor,Symbol:Fe},num_integrate:{"Math2.simpson":Oe.simpson,nround:re},fib:{even:ie}},reformat:{diff:function(e,t){var r="var f = "+$e.build(e.args[0].toString())+";";return t[1]+="var diff = "+Oe.diff.toString()+";",t[1]+=r,["diff(f)("+e.args[1].toString()+")",t]}},getProperName:function(e){return{continued_fraction:"continuedFraction"}[e]||e},compileDependencies:function(e,t){var r=$e.dependencies[e],n=t&&t[1]?t[1]:"",i=t&&t[0]?t[0]:{};for(var s in r)if("object"!=typeof r[s]){var a=s.split(".");n+="var "+(a.length>1?a[1]:a[0])+"="+r[s]+";",i[s]=a.pop()}return[i,n]},getArgsDeps:function(e,t){for(var r=e.args,n=0;n<r.length;n++)e.args[n].each((function(e){e.group===f&&(t=$e.compileDependencies(e.fname,t))}));return t},build:function(e,r){e=le("PARSE2NUMBER",(function(){return t.parse(e)}),!0);var n=P(e),i=[],s=[],a=function(e,r){r=r||[];var n,o=[],u=e.group,m="",g=function(t){var n=t===d?"*":"+",i=[];for(var s in e.symbols){var o=e.symbols[s],u=a(o,r)[0];o.isComposite()&&(u=X(u)),i.push(u)}var l=i.join(n);return l&&!e.multiplier.equals(1)?X(l):l},y=function(t){var n;return t in Math?n="Math."+t:(t=$e.getProperName(t),-1===i.indexOf(t)&&(r.push("var "+t+" = "+Oe[t].toString()+"; "),i.push(t)),n=t),n+X(e.args.map((function(e){return a(e,r)[0]})).join(","))};if(u===l?o.push(e.multiplier.toDecimal()):e.multiplier.equals(-1)?m="-":e.multiplier.equals(1)||o.push(e.multiplier.toDecimal()),u===h||u===c)n=e.value;else if(u===f)if(s=$e.compileDependencies(e.fname,s),s=$e.getArgsDeps(e,s),$e.reformat[e.fname]){var v=$e.reformat[e.fname](e,s);s=v[1],n=v[0]}else n=y(e.fname);else if(u===p){var x=e.previousGroup;x===l||x===h?n=e.value:x===f?(n=y(e.fname),s=$e.compileDependencies(e.fname,s),s=$e.getArgsDeps(e,s)):n=g(e.previousGroup)}else n=g(e.group);if(e.group!==l&&!e.power.equals(1)){var b=a(t.parse(e.power));r.push(b[1]),n="Math.pow"+X(n+","+b[0])}return n&&o.push(m+n),[o.join("*"),r.join("").replace(/\n+\s+/g," ")]};if(r){for(var o=0;o<n.length;o++){var u=n[o];-1===r.indexOf(u)&&_(u+" not found in argument array")}n=r}var m=a(e);for(var g in s[0]){var y=s[0][g];m[1]=m[1].replace(g,y),s[1]=s[1].replace(g,y)}return new Function(n,(s[1]||"")+m[1]+" return "+m[0]+";")}};oe(t.CONSTANTS),oe(t.functions),t.initConstants(),t.error||(t.error=_),u.LOG_FNS={log:t.functions.log,log10:t.functions.log10};var Ge={allSame:C,allNumeric:function(e){for(var t=0;t<e.length;t++)if(!L(e[t]))return!1;return!0},arguments2Array:ce,arrayAddSlices:function(e,t){t=t||20;var r,n,i=[];i.push(e[0]);for(var s=0;s<e.length-1;s++){r=e[s],n=(e[s+1]-r)/t;for(var a=0;a<t;a++)r+=n,i.push(r)}return i},arrayClone:function(e){for(var t=[],r=e.length,n=0;n<r;n++)t[n]=e[n].clone();return t},arrayMax:function(e){return Math.max.apply(void 0,e)},arrayMin:ee,arrayUnique:ae,arraySum:function(e){var r=new Fe(0);return e.map((function(e){r=t.add(r,e)})),r},block:le,build:$e.build,clearU:function(e){var t=T.indexOf(e);-1!==t&&(T[t]=void 0)},comboSort:function(e,t){for(var r=e.length,n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);n.sort((function(e,t){return e[0]-t[0]}));var s=[],a=[];for(i=0;i<r;i++)s.push(n[i][0]),a.push(n[i][1]);return[s,a]},compare:function(e,r,n){for(var i,s={},a=0;a<n.length;a++)s[n[a]]=new Fe(Math.floor(5*Math.random())+1);return le("PARSE2NUMBER",(function(){i=t.parse(e,s).equals(t.parse(r,s))})),i},convertToVector:pe,customError:N,customType:function(e){return void 0!==e&&e.custom},decompose_fn:te,each:ne,evaluate:he,even:ie,evenFraction:se,fillHoles:function(e,t){t=t||e.length;for(var r=0;r<t;r++)e[r]||(e[r]=new Fe(0));return e},firstObject:J,format:Y,generatePrimes:fe,getCoeffs:function(e,r){var n=[];e.each((function(e){if(e.contains(r))var i=e.stripVar(r),s=t.divide(e.clone(),i.clone()).power.toDecimal();else i=e,s=0;var a=n[s];n[s]=a?t.add(a,i):i}),!0);for(var i=0;i<n.length;i++)n[i]||(n[i]=new Fe(0));return n},getU:function(e){for(var t="u",r=0,n=P(e);-1!==T.indexOf(t)||-1!==n.indexOf(t);)t="u"+r++;for(var i=0,s=T.length;i<=s;i++)if(!T[i]){T[i]=t;break}return t},importFunctions:function(){var e={};for(var r in t.functions)e[r]=t.functions[r][0];return e},inBrackets:X,isArray:K,isExpression:z,isFraction:F,isInt:j,isMatrix:q,isNegative:H,isNumericSymbol:G,isPrime:R,isReserved:I,isSymbol:U,isVariableSymbol:function(e){return e.group===h&&e.multiplier.equals(1)&&e.power.equals(1)},isVector:V,keys:Z,nroots:function(e){var r,n;if(e.group===f&&""===e.fname?(r=Fe.unwrapPARENS(t.parse(e).toLinear()),n=t.parse(e.power)):e.group===c&&(r=t.parse(e.value),n=t.parse(e.power)),r&&n&&r.group===l&&n.group===l&&r.multiplier.isNegative()){for(var i=[],s=Fe.toPolarFormArray(he(e))[0],a=t.arg(r),o=n.multiplier.den.toString(),h=n.multiplier.num.toString(),p=0;p<o;p++){var m=he(t.parse(Y("(({0})+2*pi*({1}))/({2})",a,p,o))).multiplier.toDecimal();i.push(he(t.parse(Y("(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",s,o,u.IMAGINARY,m,h))))}return Be.fromArray(i)}if(e.isConstant(!0,!0)){var d=e.sign(),g=(a=he(e.abs()),t.sqrt(a));i=[g.clone(),g.negate()],d<0&&(i=i.map((function(e){return t.multiply(e,Fe.imaginary())})))}else i=[t.parse(e)];return Be.fromArray(i)},remove:ue,reserveNames:oe,range:function(e,t,r){var n=[];r=r||1;for(var i=e;i<=t;i++)n.push(i*r);return n},round:re,sameSign:function(e,t){return e<0==t<0},scientificToDecimal:D,separate:B,stringReplace:function(e,t,r,n){return e.substr(0,t)+n+e.substr(r,e.length)},text:ke,validateName:k,variables:P,warn:O},Ke={groups:i,Symbol:Fe,Expression:De,Frac:Le,Vector:Be,Matrix:Ve,Parser:Ue,Fraction:ze,Math2:Oe,LaTeX:Pe,Utils:Ge,PARSER:t,PARENTHESIS:v,Settings:u,err:_,bigInt:r,bigDec:n,exceptions:Ie},je=function(e,r,n,i){var a=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(e);if(a)return s.setFunction(a[1],a[2].split(","),a[3]);e instanceof De&&(e=e.toString());var o=K(n),l=o?-1!==n.indexOf("numer"):"numer"===n;(o?-1!==n.indexOf("expand"):"expand"===n)&&(e=Y("{0}({1})","expand",e));var c=le("PARSE2NUMBER",(function(){return t.parse(e,r)}),l||u.PARSE2NUMBER);return i?E[i-1]=c:E.push(c),new De(c)};return je.rpn=function(e){return t.tokenize(t.toRPN(e))},je.convertToLaTeX=function(e,r){return t.toTeX(e,r)},je.convertFromLaTeX=function(e){var r=Pe.parse(t.tokenize(e));return new De(t.parse(r))},je.version=function(e){if(e)try{return Ke[e].version}catch(t){return"No module named "+e+" found!"}return"1.1.5"},je.getWarnings=function(){return M},je.setConstant=function(e,r){if(k(e),!I(e))if("delete"===r||""===r)delete t.CONSTANTS[e];else{if(isNaN(r))throw new be("Constant must be a number!");t.CONSTANTS[e]=r}return this},je.getConstant=function(e){return String(t.constant[e])},je.setFunction=Q,je.getCore=function(){return Ke},je.getExpression=je.getEquation=De.getExpression,je.reserved=function(e){return e?T:T.join(", ")},je.clear=function(e,t){if("all"===e)E=[];else if("last"===e)E.pop();else if("first"===e)E.shift();else{var r=e?e-1:E.length;!0===t?E[r]=void 0:ue(E,r)}return this},je.flush=function(){return this.clear("all"),this},je.expressions=function(e,t,r){for(var n=e?{}:[],i=0;i<E.length;i++){var s=t?Pe.latex(E[i],r):ke(E[i],r);e?n[i+1]=s:n.push(s)}return n},je.register=function(e){var r=this.getCore();if(K(e))for(var n=0;n<e.length;n++)e&&this.register(e[n]);else if(e&&-1===u.exclude.indexOf(e.name)){if(e.dependencies)for(n=0;n<e.dependencies.length;n++)if(!r[e.dependencies[n]])throw new Error(Y("{0} requires {1} to be loaded!",e.name,e.dependencies[n]));var i=e.parent,s=e.build.call(r);i&&(r[i]||(r[e.parent]={}),("nerdamer"===i?this:r[i])[e.name]=s),e.visible&&(t.functions[e.name]=[s,e.numargs])}},je.validateName=k,je.validVarName=function(e){try{return k(e),-1===T.indexOf(e)}catch(e){return!1}},je.supported=function(){return Z(t.functions)},je.numEquations=je.numExpressions=function(){return E.length},je.setVar=function(e,r){return k(e),e in t.CONSTANTS&&_("Cannot set value for constant "+e),"delete"===r||""===r?delete A[e]:A[e]=U(r)?r:t.parse(r),this},je.getVar=function(e){return A[e]},je.clearVars=function(){return A={},this},je.load=function(e){return e.call(this),this},je.getVars=function(e,t){var r={};if("object"===(e=e||"text"))r=A;else for(var n in A)"latex"===e?r[n]=A[n].latex(t):"text"===e&&(r[n]=A[n].text(t));return r},je.set=function(e,r){if("object"==typeof e)for(var i in e)je.set(i,e[i]);-1!==["SAFE"].indexOf(e)&&_("Cannot modify setting: "+e),"PRECISION"===e?n.set({precision:r}):"USE_LN"===e&&!0===r?(u.LOG="LN",u.LOG10="log",t.functions.log=u.LOG_FNS.log10,t.functions.log[0]=function(e){return e.isConstant()?new Fe(Math.log10(e)):t.symfunction(u.LOG10,[e])},t.functions.LN=u.LOG_FNS.log,delete t.functions.log10):u[e]=r},je.get=function(e){return u[e]},je.api=function(e){var r=function(e){return function(){for(var r=[].slice.call(arguments),n=0;n<r.length;n++)r[n]=t.parse(r[n]);return new De(le("PARSE2NUMBER",(function(){return t.callfunction(e,r)})))}};for(var n in t.functions)n in je&&!e||(je[n]=r(n))},je.replaceFunction=function(e,r,n){var i=t.functions[e],s=void 0===n?i[1]:n;t.functions[e]=[r.call(void 0,i[0],Ke),s]},je.setOperator=function(e,r){t.setOperator(e,r)},je.getOperator=function(e){return t.getOperator(e)},je.aliasOperator=function(e,r){t.aliasOperator(e,r)},je.tree=function(e){return t.tree(t.toRPN(t.tokenize(e)))},je.htmlTree=function(e,t){return'<div class="tree">\n    <ul>\n        <li>\n'+this.tree(e).toHTML(3,t)+"\n        </li>\n    </ul>\n</div>"},je.addPeeker=function(e,r){t.peekers[e]&&t.peekers[e].push(r)},je.removePeeker=function(e,r){ue(t.peekers[e],r)},je.parse=function(e){return String(e).split(";").map((function(e){return t.parse(e)}))},je.api(),je}({bigInt:(i=function(e){"use strict";var t=1e7,r=9007199254740992,n=c(r),s=Math.log(r);function a(e,t){return void 0===e?a[0]:void 0!==t?10==+t?K(e):P(e,t):K(e)}function o(e,t){this.value=e,this.sign=t,this.isSmall=!1}function u(e){this.value=e,this.sign=e<0,this.isSmall=!0}function l(e){return-r<e&&e<r}function c(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function h(e){p(e);var r=e.length;if(r<4&&_(e,n)<0)switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function p(e){for(var t=e.length;0===e[--t];);e.length=t+1}function f(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function m(e){return e>0?Math.floor(e):Math.ceil(e)}function d(e,r){var n,i,s=e.length,a=r.length,o=new Array(s),u=0,l=t;for(i=0;i<a;i++)u=(n=e[i]+r[i]+u)>=l?1:0,o[i]=n-u*l;for(;i<s;)u=(n=e[i]+u)===l?1:0,o[i++]=n-u*l;return u>0&&o.push(u),o}function g(e,t){return e.length>=t.length?d(e,t):d(t,e)}function y(e,r){var n,i,s=e.length,a=new Array(s),o=t;for(i=0;i<s;i++)n=e[i]-o+r,r=Math.floor(n/o),a[i]=n-r*o,r+=1;for(;r>0;)a[i++]=r%o,r=Math.floor(r/o);return a}function v(e,t){var r,n,i=e.length,s=t.length,a=new Array(i),o=0;for(r=0;r<s;r++)(n=e[r]-o-t[r])<0?(n+=1e7,o=1):o=0,a[r]=n;for(r=s;r<i;r++){if(!((n=e[r]-o)<0)){a[r++]=n;break}n+=1e7,a[r]=n}for(;r<i;r++)a[r]=e[r];return p(a),a}function x(e,t,r){var n,i,s=e.length,a=new Array(s),l=-t;for(n=0;n<s;n++)i=e[n]+l,l=Math.floor(i/1e7),i%=1e7,a[n]=i<0?i+1e7:i;return"number"==typeof(a=h(a))?(r&&(a=-a),new u(a)):new o(a,r)}function b(e,t){var r,n,i,s,a=e.length,o=t.length,u=f(a+o);for(i=0;i<a;++i){s=e[i];for(var l=0;l<o;++l)r=s*t[l]+u[i+l],n=Math.floor(r/1e7),u[i+l]=r-1e7*n,u[i+l+1]+=n}return p(u),u}function w(e,r){var n,i,s=e.length,a=new Array(s),o=t,u=0;for(i=0;i<s;i++)n=e[i]*r+u,u=Math.floor(n/o),a[i]=n-u*o;for(;u>0;)a[i++]=u%o,u=Math.floor(u/o);return a}function S(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function E(e,r,n){return new o(e<t?w(r,e):b(r,c(e)),n)}function A(e){var t,r,n,i,s=e.length,a=f(s+s);for(n=0;n<s;n++){r=0-(i=e[n])*i;for(var o=n;o<s;o++)t=i*e[o]*2+a[n+o]+r,r=Math.floor(t/1e7),a[n+o]=t-1e7*r;a[n+s]=r}return p(a),a}function T(e,t){var r,n,i,s,a=e.length,o=f(a);for(i=0,r=a-1;r>=0;--r)i=(s=1e7*i+e[r])-(n=m(s/t))*t,o[r]=0|n;return[o,0|i]}function M(e,r){var n,i,s=K(r),l=e.value,d=s.value;if(0===d)throw new Error("Cannot divide by zero");if(e.isSmall)return s.isSmall?[new u(m(l/d)),new u(l%d)]:[a[0],e];if(s.isSmall){if(1===d)return[e,a[0]];if(-1==d)return[e.negate(),a[0]];var g=Math.abs(d);if(g<t){i=h((n=T(l,g))[0]);var y=n[1];return e.sign&&(y=-y),"number"==typeof i?(e.sign!==s.sign&&(i=-i),[new u(i),new u(y)]):[new o(i,e.sign!==s.sign),new u(y)]}d=c(g)}var x=_(l,d);if(-1===x)return[a[0],e];if(0===x)return[a[e.sign===s.sign?1:-1],a[0]];i=(n=l.length+d.length<=200?function(e,r){var n,i,s,a,o,u,l,c=e.length,p=r.length,m=t,d=f(r.length),g=r[p-1],y=Math.ceil(m/(2*g)),v=w(e,y),x=w(r,y);for(v.length<=c&&v.push(0),x.push(0),g=x[p-1],i=c-p;i>=0;i--){for(n=m-1,v[i+p]!==g&&(n=Math.floor((v[i+p]*m+v[i+p-1])/g)),s=0,a=0,u=x.length,o=0;o<u;o++)s+=n*x[o],l=Math.floor(s/m),a+=v[i+o]-(s-l*m),s=l,a<0?(v[i+o]=a+m,a=-1):(v[i+o]=a,a=0);for(;0!==a;){for(n-=1,s=0,o=0;o<u;o++)(s+=v[i+o]-m+x[o])<0?(v[i+o]=s+m,s=0):(v[i+o]=s,s=1);a+=s}d[i]=n}return v=T(v,y)[0],[h(d),h(v)]}(l,d):function(e,t){for(var r,n,i,s,a,o=e.length,u=t.length,l=[],c=[];o;)if(c.unshift(e[--o]),p(c),_(c,t)<0)l.push(0);else{i=1e7*c[(n=c.length)-1]+c[n-2],s=1e7*t[u-1]+t[u-2],n>u&&(i=1e7*(i+1)),r=Math.ceil(i/s);do{if(_(a=w(t,r),c)<=0)break;r--}while(r);l.push(r),c=v(c,a)}return l.reverse(),[h(l),h(c)]}(l,d))[0];var b=e.sign!==s.sign,S=n[1],E=e.sign;return"number"==typeof i?(b&&(i=-i),i=new u(i)):i=new o(i,b),"number"==typeof S?(E&&(S=-S),S=new u(S)):S=new o(S,E),[i,S]}function _(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function N(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function I(e,t){for(var r,n,s,o=e.prev(),u=o,l=0;u.isEven();)u=u.divide(2),l++;e:for(n=0;n<t.length;n++)if(!e.lesser(t[n])&&!(s=i(t[n]).modPow(u,e)).equals(a[1])&&!s.equals(o)){for(r=l-1;0!=r;r--){if((s=s.square().mod(e)).isUnit())return!1;if(s.equals(o))continue e}return!1}return!0}o.prototype=Object.create(a.prototype),u.prototype=Object.create(a.prototype),o.prototype.add=function(e){var t=K(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new o(y(r,Math.abs(n)),this.sign):new o(g(r,n),this.sign)},o.prototype.plus=o.prototype.add,u.prototype.add=function(e){var t=K(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(l(r+n))return new u(r+n);n=c(Math.abs(n))}return new o(y(n,Math.abs(r)),r<0)},u.prototype.plus=u.prototype.add,o.prototype.subtract=function(e){var t=K(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,n=t.value;return t.isSmall?x(r,Math.abs(n),this.sign):function(e,t,r){var n;return _(e,t)>=0?n=v(e,t):(n=v(t,e),r=!r),"number"==typeof(n=h(n))?(r&&(n=-n),new u(n)):new o(n,r)}(r,n,this.sign)},o.prototype.minus=o.prototype.subtract,u.prototype.subtract=function(e){var t=K(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new u(r-n):x(n,Math.abs(r),r>=0)},u.prototype.minus=u.prototype.subtract,o.prototype.negate=function(){return new o(this.value,!this.sign)},u.prototype.negate=function(){var e=this.sign,t=new u(-this.value);return t.sign=!e,t},o.prototype.abs=function(){return new o(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},o.prototype.multiply=function(e){var r,n,i,s=K(e),u=this.value,l=s.value,h=this.sign!==s.sign;if(s.isSmall){if(0===l)return a[0];if(1===l)return this;if(-1===l)return this.negate();if((r=Math.abs(l))<t)return new o(w(u,r),h);l=c(r)}return new o(-.012*(n=u.length)-.012*(i=l.length)+15e-6*n*i>0?function e(t,r){var n=Math.max(t.length,r.length);if(n<=30)return b(t,r);n=Math.ceil(n/2);var i=t.slice(n),s=t.slice(0,n),a=r.slice(n),o=r.slice(0,n),u=e(s,o),l=e(i,a),c=e(g(s,i),g(o,a)),h=g(g(u,S(v(v(c,u),l),n)),S(l,2*n));return p(h),h}(u,l):b(u,l),h)},o.prototype.times=o.prototype.multiply,u.prototype._multiplyBySmall=function(e){return l(e.value*this.value)?new u(e.value*this.value):E(Math.abs(e.value),c(Math.abs(this.value)),this.sign!==e.sign)},o.prototype._multiplyBySmall=function(e){return 0===e.value?a[0]:1===e.value?this:-1===e.value?this.negate():E(Math.abs(e.value),this.value,this.sign!==e.sign)},u.prototype.multiply=function(e){return K(e)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,o.prototype.square=function(){return new o(A(this.value),!1)},u.prototype.square=function(){var e=this.value*this.value;return l(e)?new u(e):new o(A(c(Math.abs(this.value))),!1)},o.prototype.divmod=function(e){var t=M(this,e);return{quotient:t[0],remainder:t[1]}},u.prototype.divmod=o.prototype.divmod,o.prototype.divide=function(e){return M(this,e)[0]},u.prototype.over=u.prototype.divide=o.prototype.over=o.prototype.divide,o.prototype.mod=function(e){return M(this,e)[1]},u.prototype.remainder=u.prototype.mod=o.prototype.remainder=o.prototype.mod,o.prototype.pow=function(e){var t,r,n,i=K(e),s=this.value,o=i.value;if(0===o)return a[1];if(0===s)return a[0];if(1===s)return a[1];if(-1===s)return i.isEven()?a[1]:a[-1];if(i.sign)return a[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&l(t=Math.pow(s,o)))return new u(m(t));for(r=this,n=a[1];!0&o&&(n=n.times(r),--o),0!==o;)o/=2,r=r.square();return n},u.prototype.pow=o.prototype.pow,o.prototype.modPow=function(e,t){if(e=K(e),(t=K(t)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=a[1],n=this.mod(t);e.isPositive();){if(n.isZero())return a[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},u.prototype.modPow=o.prototype.modPow,o.prototype.compareAbs=function(e){var t=K(e),r=this.value,n=t.value;return t.isSmall?1:_(r,n)},u.prototype.compareAbs=function(e){var t=K(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},o.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=K(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:_(r,n)*(this.sign?-1:1)},o.prototype.compareTo=o.prototype.compare,u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=K(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},u.prototype.compareTo=u.prototype.compare,o.prototype.equals=function(e){return 0===this.compare(e)},u.prototype.eq=u.prototype.equals=o.prototype.eq=o.prototype.equals,o.prototype.notEquals=function(e){return 0!==this.compare(e)},u.prototype.neq=u.prototype.notEquals=o.prototype.neq=o.prototype.notEquals,o.prototype.greater=function(e){return this.compare(e)>0},u.prototype.gt=u.prototype.greater=o.prototype.gt=o.prototype.greater,o.prototype.lesser=function(e){return this.compare(e)<0},u.prototype.lt=u.prototype.lesser=o.prototype.lt=o.prototype.lesser,o.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},u.prototype.geq=u.prototype.greaterOrEquals=o.prototype.geq=o.prototype.greaterOrEquals,o.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},u.prototype.leq=u.prototype.lesserOrEquals=o.prototype.leq=o.prototype.lesserOrEquals,o.prototype.isEven=function(){return 0==(1&this.value[0])},u.prototype.isEven=function(){return 0==(1&this.value)},o.prototype.isOdd=function(){return 1==(1&this.value[0])},u.prototype.isOdd=function(){return 1==(1&this.value)},o.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},o.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},o.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return 1===Math.abs(this.value)},o.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return 0===this.value},o.prototype.isDivisibleBy=function(e){var t=K(e),r=t.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(t).equals(a[0])))},u.prototype.isDivisibleBy=o.prototype.isDivisibleBy,o.prototype.isPrime=function(e){var t=N(this);if(void 0!==t)return t;var r=this.abs(),n=r.bitLength();if(n<=64)return I(r,[2,325,9375,28178,450775,9780504,1795265022]);for(var s=Math.log(2)*n,a=Math.ceil(!0===e?2*Math.pow(s,2):s),o=[],u=0;u<a;u++)o.push(i(u+2));return I(r,o)},u.prototype.isPrime=o.prototype.isPrime,o.prototype.isProbablePrime=function(e){var t=N(this);if(void 0!==t)return t;for(var r=this.abs(),n=void 0===e?5:e,s=[],a=0;a<n;a++)s.push(i.randBetween(2,r.minus(2)));return I(r,s)},u.prototype.isProbablePrime=o.prototype.isProbablePrime,o.prototype.modInv=function(e){for(var t,r,n,s=i.zero,a=i.one,o=K(e),u=this.abs();!u.equals(i.zero);)t=o.divide(u),r=s,n=o,s=a,o=u,a=r.subtract(t.multiply(a)),u=n.subtract(t.multiply(u));if(!o.equals(1))throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===s.compare(0)&&(s=s.add(e)),this.isNegative()?s.negate():s},u.prototype.modInv=o.prototype.modInv,o.prototype.next=function(){var e=this.value;return this.sign?x(e,1,this.sign):new o(y(e,1),this.sign)},u.prototype.next=function(){var e=this.value;return e+1<r?new u(e+1):new o(n,!1)},o.prototype.prev=function(){var e=this.value;return this.sign?new o(y(e,1),!0):x(e,1,this.sign)},u.prototype.prev=function(){var e=this.value;return e-1>-r?new u(e-1):new o(n,!0)};for(var C=[1];2*C[C.length-1]<=t;)C.push(2*C[C.length-1]);var O=C.length,k=C[O-1];function D(e){return("number"==typeof e||"string"==typeof e)&&+Math.abs(e)<=t||e instanceof o&&e.value.length<=1}function R(e,t,r){t=K(t);for(var n=e.isNegative(),s=t.isNegative(),a=n?e.not():e,o=s?t.not():t,u=0,l=0,c=null,h=null,p=[];!a.isZero()||!o.isZero();)u=(c=M(a,k))[1].toJSNumber(),n&&(u=k-1-u),l=(h=M(o,k))[1].toJSNumber(),s&&(l=k-1-l),a=c[0],o=h[0],p.push(r(u,l));for(var f=0!==r(n?1:0,s?1:0)?i(-1):i(0),m=p.length-1;m>=0;m-=1)f=f.multiply(k).add(i(p[m]));return f}function L(e){var r=e.value,n="number"==typeof r?r|1<<30:r[0]+r[1]*t|1073758208;return n&-n}function F(e,t){return e=K(e),t=K(t),e.greater(t)?e:t}function U(e,t){return e=K(e),t=K(t),e.lesser(t)?e:t}function z(e,t){if(e=K(e).abs(),t=K(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=a[1];e.isEven()&&t.isEven();)r=Math.min(L(e),L(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(L(e));do{for(;t.isEven();)t=t.divide(L(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}o.prototype.shiftLeft=function(e){if(!D(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftRight(-e);var t=this;if(t.isZero())return t;for(;e>=O;)t=t.multiply(k),e-=O-1;return t.multiply(C[e])},u.prototype.shiftLeft=o.prototype.shiftLeft,o.prototype.shiftRight=function(e){var t;if(!D(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftLeft(-e);for(var r=this;e>=O;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=M(r,k))[1].isNegative()?t[0].prev():t[0],e-=O-1}return(t=M(r,C[e]))[1].isNegative()?t[0].prev():t[0]},u.prototype.shiftRight=o.prototype.shiftRight,o.prototype.not=function(){return this.negate().prev()},u.prototype.not=o.prototype.not,o.prototype.and=function(e){return R(this,e,(function(e,t){return e&t}))},u.prototype.and=o.prototype.and,o.prototype.or=function(e){return R(this,e,(function(e,t){return e|t}))},u.prototype.or=o.prototype.or,o.prototype.xor=function(e){return R(this,e,(function(e,t){return e^t}))},u.prototype.xor=o.prototype.xor,o.prototype.bitLength=function(){var e=this;return e.compareTo(i(0))<0&&(e=e.negate().subtract(i(1))),0===e.compareTo(i(0))?i(0):i(function e(t,r){if(r.compareTo(t)<=0){var n=e(t,r.square(r)),s=n.p,a=n.e,o=s.multiply(r);return o.compareTo(t)<=0?{p:o,e:2*a+1}:{p:s,e:2*a}}return{p:i(1),e:0}}(e,i(2)).e).add(i(1))},u.prototype.bitLength=o.prototype.bitLength;var P=function(e,t){for(var r=e.length,n=Math.abs(t),i=0;i<r;i++)if("-"!==(c=e[i].toLowerCase())&&/[a-z0-9]/.test(c)){if(/[0-9]/.test(c)&&+c>=n){if("1"===c&&1===n)continue;throw new Error(c+" is not a valid digit in base "+t+".")}if(c.charCodeAt(0)-87>=n)throw new Error(c+" is not a valid digit in base "+t+".")}if(2<=t&&t<=36&&r<=s/Math.log(t)){var a=parseInt(e,t);if(isNaN(a))throw new Error(c+" is not a valid digit in base "+t+".");return new u(parseInt(e,t))}t=K(t);var o=[],l="-"===e[0];for(i=l?1:0;i<e.length;i++){var c,h=(c=e[i].toLowerCase()).charCodeAt(0);if(48<=h&&h<=57)o.push(K(c));else if(97<=h&&h<=122)o.push(K(c.charCodeAt(0)-87));else{if("<"!==c)throw new Error(c+" is not a valid character");var p=i;do{i++}while(">"!==e[i]);o.push(K(e.slice(p+1,i)))}}return B(o,t,l)};function B(e,t,r){var n,i=a[0],s=a[1];for(n=e.length-1;n>=0;n--)i=i.add(e[n].times(s)),s=s.times(t);return r?i.negate():i}function V(e){return e<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e):"<"+e+">"}function q(e,t){if((t=i(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+e-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.equals(1))return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+e)).map(Number.prototype.valueOf,1),isNegative:n};for(var s,a=[],o=e;o.isNegative()||o.compareAbs(t)>=0;){s=o.divmod(t),o=s.quotient;var u=s.remainder;u.isNegative()&&(u=t.minus(u).abs(),o=o.next()),a.push(u.toJSNumber())}return a.push(o.toJSNumber()),{value:a.reverse(),isNegative:n}}function $(e,t){var r=q(e,t);return(r.isNegative?"-":"")+r.value.map(V).join("")}function G(e){if(l(+e)){var t=+e;if(t===m(t))return new u(t);throw new Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var n=e.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==m(i)||!l(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var s=n[0],a=s.indexOf(".");if(a>=0&&(i-=s.length-a-1,s=s.slice(0,a)+s.slice(a+1)),i<0)throw new Error("Cannot include negative exponent part for integers");e=s+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);for(var c=[],h=e.length,f=h-7;h>0;)c.push(+e.slice(f,h)),(f-=7)<0&&(f=0),h-=7;return p(c),new o(c,r)}function K(e){return"number"==typeof e?function(e){if(l(e)){if(e!==m(e))throw new Error(e+" is not an integer.");return new u(e)}return G(e.toString())}(e):"string"==typeof e?G(e):e}o.prototype.toArray=function(e){return q(this,e)},u.prototype.toArray=function(e){return q(this,e)},o.prototype.toString=function(e){if(void 0===e&&(e=10),10!==e)return $(this,e);for(var t,r=this.value,n=r.length,i=String(r[--n]);--n>=0;)t=String(r[n]),i+="0000000".slice(t.length)+t;return(this.sign?"-":"")+i},u.prototype.toString=function(e){return void 0===e&&(e=10),10!=e?$(this,e):String(this.value)},o.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},o.prototype.valueOf=function(){return parseInt(this.toString(),10)},o.prototype.toJSNumber=o.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf;for(var j=0;j<1e3;j++)a[j]=new u(j),j>0&&(a[-j]=new u(-j));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=F,a.min=U,a.gcd=z,a.lcm=function(e,t){return e=K(e).abs(),t=K(t).abs(),e.divide(z(e,t)).multiply(t)},a.isInstance=function(e){return e instanceof o||e instanceof u},a.randBetween=function(e,r){var n=U(e=K(e),r=K(r)),i=F(e,r).subtract(n).add(1);if(i.isSmall)return n.add(Math.floor(Math.random()*i));for(var s=[],a=!0,l=i.value.length-1;l>=0;l--){var c=a?i.value[l]:t,p=m(Math.random()*c);s.unshift(p),p<c&&(a=!1)}return s=h(s),n.add("number"==typeof s?new u(s):new o(s,!1))},a.fromArray=function(e,t,r){return B(e.map(K),K(t||10),r)},a}(),e.hasOwnProperty("exports")&&(e.exports=i),void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n),i),bigDec:function(e){"use strict";var t,r,n,i=9e15,s=1e9,a="0123456789abcdef",o="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",u="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",l={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-i,maxE:i,crypto:!1},c=!0,h="[DecimalError] ",p=h+"Invalid argument: ",f=h+"Precision limit exceeded",m=h+"crypto unavailable",d=Math.floor,g=Math.pow,y=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,v=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,w=1e7,S=o.length-1,E=u.length-1,A={name:"[object Decimal]"};function T(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(s+=F(r)),s+=n;(r=7-(n=(a=e[t])+"").length)&&(s+=F(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function M(e,t,r){if(e!==~~e||e<t||e>r)throw Error(p+e)}function _(e,t,r,n){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=g(10,7-t),o=e[i]%s|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(e[i+1]/s/100|0)==g(10,t-2)-1||(o==s/2||0==o)&&0==(e[i+1]/s/100|0):t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==g(10,t-3)-1,a}function N(e,t,r){for(var n,i,s=[0],o=0,u=e.length;o<u;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=a.indexOf(e.charAt(o++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}A.absoluteValue=A.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),C(e)},A.ceil=function(){return C(new this.constructor(this),this.e+1,2)},A.comparedTo=A.cmp=function(e){var t,r,n,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,u=s.s,l=e.s;if(!a||!o)return u&&l?u!==l?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-l:0;if(u!==l)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(t=0,r=(n=a.length)<(i=o.length)?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},A.cosine=A.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?(r=Math.ceil(i/3),n=Math.pow(4,-r).toString()):(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=K(e,1,t.times(n),new e(1));for(var s=r;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(i,j(i,r)),i.precision=e,i.rounding=t,C(2==n||3==n?r.neg():r,e,t,!0)):new i(1):new i(NaN)},A.cubeRoot=A.cbrt=function(){var e,t,r,n,i,s,a,o,u,l,h=this,p=h.constructor;if(!h.isFinite()||h.isZero())return new p(h);for(c=!1,(s=h.s*Math.pow(h.s*h,1/3))&&Math.abs(s)!=1/0?n=new p(s.toString()):(r=T(h.d),(s=((e=h.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=Math.pow(r,1/3),e=d((e+1)/3)-(e%3==(e<0?-1:2)),(n=new p(r=s==1/0?"5e"+e:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=h.s),a=(e=p.precision)+3;;)if(l=(u=(o=n).times(o).times(o)).plus(h),n=I(l.plus(h).times(o),l.plus(u),a+2,1),T(o.d).slice(0,a)===(r=T(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(C(n,e+1,1),t=!n.times(n).times(n).eq(h));break}if(!i&&(C(o,e+1,0),o.times(o).times(o).eq(h))){n=o;break}a+=4,i=1}return c=!0,C(n,e,p.rounding,t)},A.decimalPlaces=A.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=7*((e=t.length-1)-d(this.e/7)),e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},A.dividedBy=A.div=function(e){return I(this,new this.constructor(e))},A.dividedToIntegerBy=A.divToInt=function(e){var t=this.constructor;return C(I(this,new t(e),0,1,1),t.precision,t.rounding)},A.equals=A.eq=function(e){return 0===this.cmp(e)},A.floor=function(){return C(new this.constructor(this),this.e+1,3)},A.greaterThan=A.gt=function(e){return this.cmp(e)>0},A.greaterThanOrEqualTo=A.gte=function(e){var t=this.cmp(e);return 1==t||0===t},A.hyperbolicCosine=A.cosh=function(){var e,t,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?(e=Math.ceil(i/3),t=Math.pow(4,-e).toString()):(e=16,t="2.3283064365386962890625e-10"),s=K(a,1,s.times(t),new a(1),!0);for(var u,l=e,c=new a(8);l--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return C(s,a.precision=r,a.rounding=n,!0)},A.hyperbolicSine=A.sinh=function(){var e,t,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=K(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=K(s,2,i=i.times(Math.pow(5,-e)),i,!0);for(var a,o=new s(5),u=new s(16),l=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(l))))}return s.precision=t,s.rounding=r,C(i,t,r,!0)},A.hyperbolicTangent=A.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,I(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},A.inverseCosine=A.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,s=r.rounding;return-1!==n?0===n?t.isNeg()?R(r,i,s):new r(0):new r(NaN):t.isZero()?R(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=R(r,i+4,s).times(.5),r.precision=i,r.rounding=s,e.minus(t))},A.inverseHyperbolicCosine=A.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,c=!1,r=r.times(r).minus(1).sqrt().plus(r),c=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},A.inverseHyperbolicSine=A.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,c=!1,r=r.times(r).plus(1).sqrt().plus(r),c=!0,n.precision=e,n.rounding=t,r.ln())},A.inverseHyperbolicTangent=A.atanh=function(){var e,t,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?C(new s(i),e,t,!0):(s.precision=r=n-i.e,i=I(i.plus(1),new s(1).minus(i),r+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},A.inverseSine=A.asin=function(){var e,t,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==t?0===t?((e=R(s,r+4,n).times(.5)).s=i.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},A.inverseTangent=A.atan=function(){var e,t,r,n,i,s,a,o,u,l=this,h=l.constructor,p=h.precision,f=h.rounding;if(l.isFinite()){if(l.isZero())return new h(l);if(l.abs().eq(1)&&p+4<=E)return(a=R(h,p+4,f).times(.25)).s=l.s,a}else{if(!l.s)return new h(NaN);if(p+4<=E)return(a=R(h,p+4,f).times(.5)).s=l.s,a}for(h.precision=o=p+10,h.rounding=1,e=r=Math.min(28,o/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(c=!1,t=Math.ceil(o/7),n=1,u=l.times(l),a=new h(l),i=l;-1!==e;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===s.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),c=!0,C(a,h.precision=p,h.rounding=f,!0)},A.isFinite=function(){return!!this.d},A.isInteger=A.isInt=function(){return!!this.d&&d(this.e/7)>this.d.length-2},A.isNaN=function(){return!this.s},A.isNegative=A.isNeg=function(){return this.s<0},A.isPositive=A.isPos=function(){return this.s>0},A.isZero=function(){return!!this.d&&0===this.d[0]},A.lessThan=A.lt=function(e){return this.cmp(e)<0},A.lessThanOrEqualTo=A.lte=function(e){return this.cmp(e)<1},A.logarithm=A.log=function(e){var t,r,n,i,s,a,o,u,l=this.constructor,h=l.precision,p=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)s=!0;else{for(i=r[0];i%10==0;)i/=10;s=1!==i}if(c=!1,a=V(this,o=h+5),n=t?D(l,o+10):V(e,o),_((u=I(a,n,o,1)).d,i=h,p))do{if(a=V(this,o+=10),n=t?D(l,o+10):V(e,o),u=I(a,n,o,1),!s){+T(u.d).slice(i+1,i+15)+1==1e14&&(u=C(u,h+1,0));break}}while(_(u.d,i+=10,p));return c=!0,C(u,h,p)},A.minus=A.sub=function(e){var t,r,n,i,s,a,o,u,l,h,p,f,m=this,g=m.constructor;if(e=new g(e),!m.d||!e.d)return m.s&&e.s?m.d?e.s=-e.s:e=new g(e.d||m.s!==e.s?m:NaN):e=new g(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(l=m.d,f=e.d,o=g.precision,u=g.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new g(3===u?-0:0);e=new g(m)}return c?C(e,o,u):e}if(r=d(e.e/7),h=d(m.e/7),l=l.slice(),s=h-r){for((p=s<0)?(t=l,s=-s,a=f.length):(t=f,r=h,a=l.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for((p=(n=l.length)<(a=f.length))&&(a=n),n=0;n<a;n++)if(l[n]!=f[n]){p=l[n]<f[n];break}s=0}for(p&&(t=l,l=f,f=t,e.s=-e.s),a=l.length,n=f.length-a;n>0;--n)l[a++]=0;for(n=f.length;n>s;){if(l[--n]<f[n]){for(i=n;i&&0===l[--i];)l[i]=w-1;--l[i],l[n]+=w}l[n]-=f[n]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=k(l,r),c?C(e,o,u):e):new g(3===u?-0:0)},A.modulo=A.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?C(new n(r),n.precision,n.rounding):(c=!1,9==n.modulo?(t=I(r,e.abs(),0,3,1)).s*=e.s:t=I(r,e,0,n.modulo,1),t=t.times(e),c=!0,r.minus(t))},A.naturalExponential=A.exp=function(){return B(this)},A.naturalLogarithm=A.ln=function(){return V(this)},A.negated=A.neg=function(){var e=new this.constructor(this);return e.s=-e.s,C(e)},A.plus=A.add=function(e){var t,r,n,i,s,a,o,u,l,h,p=this,f=p.constructor;if(e=new f(e),!p.d||!e.d)return p.s&&e.s?p.d||(e=new f(e.d||p.s===e.s?p:NaN)):e=new f(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(l=p.d,h=e.d,o=f.precision,u=f.rounding,!l[0]||!h[0])return h[0]||(e=new f(p)),c?C(e,o,u):e;if(s=d(p.e/7),n=d(e.e/7),l=l.slice(),i=s-n){for(i<0?(r=l,i=-i,a=h.length):(r=h,n=s,a=l.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=l.length)-(i=h.length)<0&&(i=a,r=h,h=l,l=r),t=0;i;)t=(l[--i]=l[i]+h[i]+t)/w|0,l[i]%=w;for(t&&(l.unshift(t),++n),a=l.length;0==l[--a];)l.pop();return e.d=l,e.e=k(l,n),c?C(e,o,u):e},A.precision=A.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(p+e);return r.d?(t=L(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},A.round=function(){var e=this,t=e.constructor;return C(new t(e),e.e+1,t.rounding)},A.sine=A.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return K(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=K(e,2,t=t.times(Math.pow(5,-r)),t);for(var i,s=new e(5),a=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}(i,j(i,r)),i.precision=e,i.rounding=t,C(n>2?r.neg():r,e,t,!0)):new i(NaN)},A.squareRoot=A.sqrt=function(){var e,t,r,n,i,s,a=this,o=a.d,u=a.e,l=a.s,h=a.constructor;if(1!==l||!o||!o[0])return new h(!l||l<0&&(!o||o[0])?NaN:o?a:1/0);for(c=!1,0==(l=Math.sqrt(+a))||l==1/0?(((t=T(o)).length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=d((u+1)/2)-(u<0||u%2),n=new h(t=l==1/0?"1e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new h(l.toString()),r=(u=h.precision)+3;;)if(n=(s=n).plus(I(a,s,r+2,1)).times(.5),T(s.d).slice(0,r)===(t=T(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(C(n,u+1,1),e=!n.times(n).eq(a));break}if(!i&&(C(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1}return c=!0,C(n,u,h.rounding,e)},A.tangent=A.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(r=r.sin()).s=1,r=I(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,C(2==n||4==n?r.neg():r,e,t,!0)):new i(NaN)},A.times=A.mul=function(e){var t,r,n,i,s,a,o,u,l,h=this,p=h.constructor,f=h.d,m=(e=new p(e)).d;if(e.s*=h.s,!(f&&f[0]&&m&&m[0]))return new p(!e.s||f&&!f[0]&&!m||m&&!m[0]&&!f?NaN:f&&m?0*e.s:e.s/0);for(r=d(h.e/7)+d(e.e/7),(u=f.length)<(l=m.length)&&(s=f,f=m,m=s,a=u,u=l,l=a),s=[],n=a=u+l;n--;)s.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)o=s[i]+m[n]*f[i-n-1]+t,s[i--]=o%w|0,t=o/w|0;s[i]=(s[i]+t)%w|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=k(s,r),c?C(e,p.precision,p.rounding):e},A.toBinary=function(e,t){return H(this,2,e,t)},A.toDecimalPlaces=A.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(M(e,0,s),void 0===t?t=n.rounding:M(t,0,8),C(r,e+r.e+1,t))},A.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=O(n,!0):(M(e,0,s),void 0===t?t=i.rounding:M(t,0,8),r=O(n=C(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},A.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=O(i):(M(e,0,s),void 0===t?t=a.rounding:M(t,0,8),r=O(n=C(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},A.toFraction=function(e){var t,r,n,i,s,a,o,u,l,h,f,m,d=this,y=d.d,v=d.constructor;if(!y)return new v(d);if(l=r=new v(1),n=u=new v(0),a=(s=(t=new v(n)).e=L(y)-d.e-1)%7,t.d[0]=g(10,a<0?7+a:a),null==e)e=s>0?t:l;else{if(!(o=new v(e)).isInt()||o.lt(l))throw Error(p+o);e=o.gt(t)?s>0?t:l:o}for(c=!1,o=new v(T(y)),h=v.precision,v.precision=s=7*y.length*2;f=I(o,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,i=l,l=u.plus(f.times(i)),u=i,i=t,t=o.minus(f.times(i)),o=i;return i=I(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=d.s,m=I(l,n,s,1).minus(d).abs().cmp(I(u,r,s,1).minus(d).abs())<1?[l,n]:[u,r],v.precision=h,c=!0,m},A.toHexadecimal=A.toHex=function(e,t){return H(this,16,e,t)},A.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:M(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(c=!1,r=I(r,e,0,t,1).times(e),c=!0,C(r)):(e.s=r.s,r=e),r},A.toNumber=function(){return+this},A.toOctal=function(e,t){return H(this,8,e,t)},A.toPower=A.pow=function(e){var t,r,n,i,s,a,o=this,u=o.constructor,l=+(e=new u(e));if(!(o.d&&e.d&&o.d[0]&&e.d[0]))return new u(g(+o,l));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,e.eq(1))return C(o,n,s);if((t=d(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=9007199254740991)return i=U(u,o,r,n),e.s<0?new u(1).div(i):C(i,n,s);if((a=o.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(r=g(+o,l))&&isFinite(r)?new u(r+"").e:d(l*(Math.log("0."+T(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(c=!1,u.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=B(e.times(V(o,n+r)),n)).d&&_((i=C(i,n+5,1)).d,n,s)&&(t=n+10,+T((i=C(B(e.times(V(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=C(i,n+1,0))),i.s=a,c=!0,u.rounding=s,C(i,n,s))},A.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=O(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(M(e,1,s),void 0===t?t=i.rounding:M(t,0,8),r=O(n=C(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},A.toSignificantDigits=A.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(M(e,1,s),void 0===t?t=r.rounding:M(t,0,8)),C(new r(this),e,t)},A.toString=function(){var e=this,t=e.constructor,r=O(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},A.truncated=A.trunc=function(){return C(new this.constructor(this),this.e+1,1)},A.valueOf=A.toJSON=function(){var e=this,t=e.constructor,r=O(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var I=function(){function e(e,t,r){var n,i=0,s=e.length;for(e=e.slice();s--;)n=e[s]*t+i,e[s]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,s,a,o,u,l){var c,h,p,f,m,g,y,v,x,b,S,E,A,T,M,_,N,I,O,k,D=i.constructor,R=i.s==s.s?1:-1,L=i.d,F=s.d;if(!(L&&L[0]&&F&&F[0]))return new D(i.s&&s.s&&(L?!F||L[0]!=F[0]:F)?L&&0==L[0]||!F?0*R:R/0:NaN);for(l?(m=1,h=i.e-s.e):(l=w,m=7,h=d(i.e/m)-d(s.e/m)),O=F.length,N=L.length,b=(x=new D(R)).d=[],p=0;F[p]==(L[p]||0);p++);if(F[p]>(L[p]||0)&&h--,null==a?(T=a=D.precision,o=D.rounding):T=u?a+(i.e-s.e)+1:a,T<0)b.push(1),g=!0;else{if(T=T/m+2|0,p=0,1==O){for(f=0,F=F[0],T++;(p<N||f)&&T--;p++)M=f*l+(L[p]||0),b[p]=M/F|0,f=M%F|0;g=f||p<N}else{for((f=l/(F[0]+1)|0)>1&&(F=e(F,f,l),L=e(L,f,l),O=F.length,N=L.length),_=O,E=(S=L.slice(0,O)).length;E<O;)S[E++]=0;(k=F.slice()).unshift(0),I=F[0],F[1]>=l/2&&++I;do{f=0,(c=t(F,S,O,E))<0?(A=S[0],O!=E&&(A=A*l+(S[1]||0)),(f=A/I|0)>1?(f>=l&&(f=l-1),1==(c=t(y=e(F,f,l),S,v=y.length,E=S.length))&&(f--,n(y,O<v?k:F,v,l))):(0==f&&(c=f=1),y=F.slice()),(v=y.length)<E&&y.unshift(0),n(S,y,E,l),-1==c&&(c=t(F,S,O,E=S.length))<1&&(f++,n(S,O<E?k:F,E,l)),E=S.length):0===c&&(f++,S=[0]),b[p++]=f,c&&S[0]?S[E++]=L[_]||0:(S=[L[_]],E=1)}while((_++<N||void 0!==S[0])&&T--);g=void 0!==S[0]}b[0]||b.shift()}if(1==m)x.e=h,r=g;else{for(p=1,f=b[0];f>=10;f/=10)p++;x.e=p+h*m-1,C(x,u?a+x.e+1:a,o,g)}return x}}();function C(e,t,r,n){var i,s,a,o,u,l,h,p,f,m=e.constructor;e:if(null!=t){if(!(p=e.d))return e;for(i=1,o=p[0];o>=10;o/=10)i++;if((s=t-i)<0)s+=7,a=t,u=(h=p[f=0])/g(10,i-a-1)%10|0;else if((f=Math.ceil((s+1)/7))>=(o=p.length)){if(!n)break e;for(;o++<=f;)p.push(0);h=u=0,i=1,a=(s%=7)-7+1}else{for(h=o=p[f],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:h/g(10,i-a-1)%10|0}if(n=n||t<0||void 0!==p[f+1]||(a<0?h:h%g(10,i-a-1)),l=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?h/g(10,i-a):0:p[f-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,l?(t-=e.e+1,p[0]=g(10,(7-t%7)%7),e.e=-t||0):p[0]=e.e=0,e;if(0==s?(p.length=f,o=1,f--):(p.length=f+1,o=g(10,7-s),p[f]=a>0?(h/g(10,i-a)%g(10,a)|0)*o:0),l)for(;;){if(0==f){for(s=1,a=p[0];a>=10;a/=10)s++;for(a=p[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,p[0]==w&&(p[0]=1));break}if(p[f]+=o,p[f]!=w)break;p[f--]=0,o=1}for(s=p.length;0===p[--s];)p.pop()}return c&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function O(e,t,r){if(!e.isFinite())return q(e);var n,i=e.e,s=T(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+F(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+F(-i-1)+s,r&&(n=r-a)>0&&(s+=F(n))):i>=a?(s+=F(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+F(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=F(n))),s}function k(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function D(e,t,r){if(t>S)throw c=!0,r&&(e.precision=r),Error(f);return C(new e(o),t,1,!0)}function R(e,t,r){if(t>E)throw Error(f);return C(new e(u),t,r,!0)}function L(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function F(e){for(var t="";e--;)t+="0";return t}function U(e,t,r,n){var i,s=new e(1),a=Math.ceil(n/7+4);for(c=!1;;){if(r%2&&W((s=s.times(t)).d,a)&&(i=!0),0===(r=d(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}W((t=t.times(t)).d,a)}return c=!0,s}function z(e){return 1&e.d[e.d.length-1]}function P(e,t,r){for(var n,i=new e(t[0]),s=0;++s<t.length;){if(!(n=new e(t[s])).s){i=n;break}i[r](n)&&(i=n)}return i}function B(e,t){var r,n,i,s,a,o,u,l=0,h=0,p=0,f=e.constructor,m=f.rounding,d=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(c=!1,u=d):u=t,o=new f(.03125);e.e>-2;)e=e.times(o),p+=5;for(u+=n=Math.log(g(2,p))/Math.LN10*2+5|0,r=s=a=new f(1),f.precision=u;;){if(s=C(s.times(e),u,1),r=r.times(++h),T((o=a.plus(I(s,r,u,1))).d).slice(0,u)===T(a.d).slice(0,u)){for(i=p;i--;)a=C(a.times(a),u,1);if(null!=t)return f.precision=d,a;if(!(l<3&&_(a.d,u-n,m,l)))return C(a,f.precision=d,m,c=!0);f.precision=u+=10,r=s=o=new f(1),h=0,l++}a=o}}function V(e,t){var r,n,i,s,a,o,u,l,h,p,f,m=1,d=e,g=d.d,y=d.constructor,v=y.rounding,x=y.precision;if(d.s<0||!g||!g[0]||!d.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=d.s?NaN:g?0:d);if(null==t?(c=!1,h=x):h=t,y.precision=h+=10,n=(r=T(g)).charAt(0),!(Math.abs(s=d.e)<15e14))return l=D(y,h+2,x).times(s+""),d=V(new y(n+"."+r.slice(1)),h-10).plus(l),y.precision=x,null==t?C(d,x,v,c=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=T((d=d.times(e)).d)).charAt(0),m++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),p=d,u=a=d=I(d.minus(1),d.plus(1),h,1),f=C(d.times(d),h,1),i=3;;){if(a=C(a.times(f),h,1),T((l=u.plus(I(a,new y(i),h,1))).d).slice(0,h)===T(u.d).slice(0,h)){if(u=u.times(2),0!==s&&(u=u.plus(D(y,h+2,x).times(s+""))),u=I(u,new y(m),h,1),null!=t)return y.precision=x,u;if(!_(u.d,h-10,v,o))return C(u,y.precision=x,v,c=!0);y.precision=h+=10,l=a=d=I(p.minus(1),p.plus(1),h,1),f=C(d.times(d),h,1),i=o=1}u=l,i+=2}}function q(e){return String(e.s*e.s/0)}function $(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),c&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function G(e,r){var n,i,s,a,o,u,l,h,f;if("Infinity"===r||"NaN"===r)return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(v.test(r))n=16,r=r.toLowerCase();else if(y.test(r))n=2;else{if(!x.test(r))throw Error(p+r);n=8}for((a=r.search(/p/i))>0?(l=+r.slice(a+1),r=r.substring(2,a)):r=r.slice(2),o=(a=r.indexOf("."))>=0,i=e.constructor,o&&(a=(u=(r=r.replace(".","")).length)-a,s=U(i,new i(n),a,2*a)),a=f=(h=N(r,n,w)).length-1;0===h[a];--a)h.pop();return a<0?new i(0*e.s):(e.e=k(h,f),e.d=h,c=!1,o&&(e=I(e,s,4*u)),l&&(e=e.times(Math.abs(l)<54?Math.pow(2,l):t.pow(2,l))),c=!0,e)}function K(e,t,r,n,i){var s,a,o,u,l=e.precision,h=Math.ceil(l/7);for(c=!1,u=r.times(r),o=new e(n);;){if(a=I(o.times(u),new e(t++*t++),l,1),o=i?n.plus(a):n.minus(a),n=I(a.times(u),new e(t++*t++),l,1),void 0!==(a=o.plus(n)).d[h]){for(s=h;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s}return c=!0,a.d.length=h+1,a}function j(e,t){var r,i=t.s<0,s=R(e,e.precision,1),a=s.times(.5);if((t=t.abs()).lte(a))return n=i?4:1,t;if((r=t.divToInt(s)).isZero())n=i?3:2;else{if((t=t.minus(r.times(s))).lte(a))return n=z(r)?i?2:3:i?4:1,t;n=z(r)?i?1:4:i?3:2}return t.minus(s).abs()}function H(e,t,n,i){var o,u,l,c,h,p,f,m,d,g=e.constructor,y=void 0!==n;if(y?(M(n,1,s),void 0===i?i=g.rounding:M(i,0,8)):(n=g.precision,i=g.rounding),e.isFinite()){for(y?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(l=(f=O(e)).indexOf("."))>=0&&(f=f.replace(".",""),(d=new g(1)).e=f.length-l,d.d=N(O(d),10,o),d.e=d.d.length),u=h=(m=N(f,10,o)).length;0==m[--h];)m.pop();if(m[0]){if(l<0?u--:((e=new g(e)).d=m,e.e=u,m=(e=I(e,d,n,i,0,o)).d,u=e.e,p=r),l=m[n],c=o/2,p=p||void 0!==m[n+1],p=i<4?(void 0!==l||p)&&(0===i||i===(e.s<0?3:2)):l>c||l===c&&(4===i||p||6===i&&1&m[n-1]||i===(e.s<0?8:7)),m.length=n,p)for(;++m[--n]>o-1;)m[n]=0,n||(++u,m.unshift(1));for(h=m.length;!m[h-1];--h);for(l=0,f="";l<h;l++)f+=a.charAt(m[l]);if(y){if(h>1)if(16==t||8==t){for(l=16==t?4:3,--h;h%l;h++)f+="0";for(h=(m=N(f,o,t)).length;!m[h-1];--h);for(l=1,f="1.";l<h;l++)f+=a.charAt(m[l])}else f=f.charAt(0)+"."+f.slice(1);f=f+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)f="0"+f;f="0."+f}else if(++u>h)for(u-=h;u--;)f+="0";else u<h&&(f=f.slice(0,u)+"."+f.slice(u))}else f=y?"0p+0":"0";f=(16==t?"0x":2==t?"0b":8==t?"0o":"")+f}else f=q(e);return e.s<0?"-"+f:f}function W(e,t){if(e.length>t)return e.length=t,!0}function X(e){return new this(e).abs()}function Y(e){return new this(e).acos()}function Z(e){return new this(e).acosh()}function J(e,t){return new this(e).plus(t)}function Q(e){return new this(e).asin()}function ee(e){return new this(e).asinh()}function te(e){return new this(e).atan()}function re(e){return new this(e).atanh()}function ne(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,s=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?R(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=R(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,r=this.atan(I(e,t,s,1)),t=R(this,s,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(I(e,t,s,1)):(r=R(this,s,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ie(e){return new this(e).cbrt()}function se(e){return C(e=new this(e),e.e+1,2)}function ae(e){if(!e||"object"!=typeof e)throw Error(h+"Object expected");var t,r,n,a=!0===e.defaults,o=["precision",1,s,"rounding",0,8,"toExpNeg",-i,0,"toExpPos",0,i,"maxE",0,i,"minE",-i,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],a&&(this[r]=l[r]),void 0!==(n=e[r])){if(!(d(n)===n&&n>=o[t+1]&&n<=o[t+2]))throw Error(p+r+": "+n);this[r]=n}if(r="crypto",a&&(this[r]=l[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(p+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(m);this[r]=!0}else this[r]=!1}return this}function oe(e){return new this(e).cos()}function ue(e){return new this(e).cosh()}function le(e,t){return new this(e).div(t)}function ce(e){return new this(e).exp()}function he(e){return C(e=new this(e),e.e+1,3)}function pe(){var e,t,r=new this(0);for(c=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return c=!0,new this(1/0);r=t}return c=!0,r.sqrt()}function fe(e){return e instanceof t||e&&"[object Decimal]"===e.name||!1}function me(e){return new this(e).ln()}function de(e,t){return new this(e).log(t)}function ge(e){return new this(e).log(2)}function ye(e){return new this(e).log(10)}function ve(){return P(this,arguments,"lt")}function xe(){return P(this,arguments,"gt")}function be(e,t){return new this(e).mod(t)}function we(e,t){return new this(e).mul(t)}function Se(e,t){return new this(e).pow(t)}function Ee(e){var t,r,n,i,a=0,o=new this(1),u=[];if(void 0===e?e=this.precision:M(e,1,s),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(m);for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(u.push(i%1e7),a+=4);a=n/4}else for(;a<n;)u[a++]=1e7*Math.random()|0;for(e%=7,(n=u[--a])&&e&&(i=g(10,7-e),u[a]=(n/i|0)*i);0===u[a];a--)u.pop();if(a<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=7)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return o.e=r,o.d=u,o}function Ae(e){return C(e=new this(e),e.e+1,this.rounding)}function Te(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Me(e){return new this(e).sin()}function _e(e){return new this(e).sinh()}function Ne(e){return new this(e).sqrt()}function Ie(e,t){return new this(e).sub(t)}function Ce(e){return new this(e).tan()}function Oe(e){return new this(e).tanh()}function ke(e){return C(e=new this(e),e.e+1,1)}return(t=function e(t){var r,n,i;function s(e){var t,r,n,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,e instanceof s)return i.s=e.s,void(c?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(c?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):$(i,e.toString())}if("string"!==n)throw Error(p+e);return 45===e.charCodeAt(0)?(e=e.slice(1),i.s=-1):i.s=1,b.test(e)?$(i,e):G(i,e)}if(s.prototype=A,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=ae,s.clone=e,s.isDecimal=fe,s.abs=X,s.acos=Y,s.acosh=Z,s.add=J,s.asin=Q,s.asinh=ee,s.atan=te,s.atanh=re,s.atan2=ne,s.cbrt=ie,s.ceil=se,s.cos=oe,s.cosh=ue,s.div=le,s.exp=ce,s.floor=he,s.hypot=pe,s.ln=me,s.log=de,s.log10=ye,s.log2=ge,s.max=ve,s.min=xe,s.mod=be,s.mul=we,s.pow=Se,s.random=Ee,s.round=Ae,s.sign=Te,s.sin=Me,s.sinh=_e,s.sqrt=Ne,s.sub=Ie,s.tan=Ce,s.tanh=Oe,s.trunc=ke,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return s.config(t),s}(l)).default=t.Decimal=t,o=new t(o),u=new t(u),t}()});e.exports=s},7905:(e,t,r)=>{"use strict";e=r.nmd(e);var n=[],i=void 0===r.g?window:r.g,s=Math.pow(256,6),a=Math.pow(2,52),o=2*a,u=Math.random;function l(e){var t,r=e.length,n=this,i=0,s=n.i=n.j=0,a=n.S=[];for(r||(e=[r++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[s=255&s+e[i%r]+(t=a[i])],a[s]=t;(n.g=function(e){for(var t,r=0,i=n.i,s=n.j,a=n.S;e--;)t=a[i=255&i+1],r=256*r+a[255&(a[i]=a[s=255&s+t])+(a[s]=t)];return n.i=i,n.j=s,r})(256)}function c(e,t){var r,n=[],i=(typeof e)[0];if(t&&"o"==i)for(r in e)try{n.push(c(e[r],t-1))}catch(e){}return n.length?n:"s"==i?e:e+"\0"}function h(e,t){for(var r,n=e+"",i=0;i<n.length;)t[255&i]=255&(r^=19*t[255&i])+n.charCodeAt(i++);return f(t)}function p(e){try{return i.crypto.getRandomValues(e=new Uint8Array(256)),f(e)}catch(e){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,f(n)]}}function f(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,r){if(r&&!0===r.global)return r.global=!1,Math.random=e.exports(t,r),r.global=!0,Math.random;var i=r&&r.entropy||!1,u=[],m=(h(c(i?[t,f(n)]:0 in arguments?t:p(),3),u),new l(u));return h(f(m.S),n),function(){for(var e=m.g(6),t=s,r=0;e<a;)e=256*(e+r),t*=256,r=m.g(1);for(;e>=o;)e/=2,t/=2,r>>>=1;return(e+r)/t}},e.exports.resetGlobal=function(){Math.random=u},h(Math.random(),n)},2287:function(e,t){"use strict";var r,n;void 0===(n="function"==typeof(r=function(){function e(){return!0}function t(){return!1}function r(){}return function n(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],s={name:"any",test:e},a=[],o=[],u={types:i,conversions:o,ignore:a};function l(e){var t=P(u.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return s;var r=P(u.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(e){return e===s?999:u.types.indexOf(e)}function h(e){var t=P(u.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function p(e){return e.map((function(e){var t=e.types.map(b);return(e.restParam?"...":"")+t.join("|")})).join(",")}function f(e,t){var r=0===e.indexOf("..."),n=(r?e.length>3?e.slice(3):"any":e).split("|").map(k).filter(D).filter(O),i=function(e,t){var r={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||r[e.from]||(r[e.from]=e)})),Object.keys(r).map((function(e){return r[e]}))}(t,n),s=n.map((function(e){var t=l(e);return{name:e,typeIndex:c(t),test:t.test,conversion:null,conversionIndex:-1}})),a=i.map((function(e){var r=l(e.from);return{name:e.from,typeIndex:c(r),test:r.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:s.concat(a),restParam:r}}function m(e){var t=F(e);return!!t&&t.restParam}function d(e){return e.types.some((function(e){return null!=e.conversion}))}function g(t){if(t&&0!==t.types.length){if(1===t.types.length)return l(t.types[0].name).test;if(2===t.types.length){var r=l(t.types[0].name).test,n=l(t.types[1].name).test;return function(e){return r(e)||n(e)}}var i=t.types.map((function(e){return l(e.name).test}));return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function y(e){var t,r,n,i;if(m(e)){var s=(t=(i=e,i.slice(0,i.length-1)).map(g)).length,a=g(F(e));return function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return function(e){for(var t=s;t<e.length;t++)if(!a(e[t]))return!1;return!0}(e)&&e.length>=s+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(r=g(e[0]),function(e){return r(e[0])&&1===e.length}):2===e.length?(r=g(e[0]),n=g(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length}):(t=e.map(g),function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length})}function v(e,t){return t<e.params.length?e.params[t]:m(e.params)?F(e.params):null}function x(e,t,r){var n=v(e,t);return(n?r?n.types.filter(w):n.types:[]).map(b)}function b(e){return e.name}function w(e){return null===e.conversion||void 0===e.conversion}function S(e,t){var r=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return Object.keys(t)}(B(e,(function(e){return x(e,t,!1)})));return-1!==r.indexOf("any")?["any"]:r}function E(e,t,r){var n,i,s,a=e||"unnamed",o=r;for(s=0;s<t.length;s++){var u=o.filter((function(e){var r=g(v(e,s));return(s<e.params.length||m(e.params))&&r(t[s])}));if(0===u.length){if((i=S(o,s)).length>0){var l=h(t[s]);return(n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+l+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:l,expected:i},n}}else o=u}var c=o.map((function(e){return m(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,c))return i=S(o,s),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:a,index:t.length,expected:i},n;var p=Math.max.apply(null,c);return t.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:t.map(h)},n)}function A(e){for(var t=999,r=0;r<e.types.length;r++)w(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function T(e){for(var t=999,r=0;r<e.types.length;r++)w(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function M(e,t){var r;return 0!=(r=e.restParam-t.restParam)||0!=(r=d(e)-d(t))||0!=(r=A(e)-A(t))?r:T(e)-T(t)}function _(e,t){var r,n,i=Math.min(e.params.length,t.params.length);if(0!=(n=e.params.some(d)-t.params.some(d)))return n;for(r=0;r<i;r++)if(0!=(n=d(e.params[r])-d(t.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=M(e.params[r],t.params[r])))return n;return e.params.length-t.params.length}function N(e){var t,r,n,i,s=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(s.push(l(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=s[0],n=a[0],function(e){return t(e)?n(e):e};case 2:return t=s[0],r=s[1],n=a[0],i=a[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(s[t](e))return a[t](e);return e}}}function I(e,t){return function e(r,n,i){if(n<r.length){var s,a=r[n],o=t?a.types.filter(w):a.types;if(a.restParam){var u=o.filter(w);s=u.length<o.length?[u,o]:[o]}else s=o.map((function(e){return[e]}));return B(s,(function(t){return e(r,n+1,i.concat([t]))}))}return[i.map((function(e,t){return{types:e,restParam:t===r.length-1&&m(r)}}))]}(e,0,[])}function C(e,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(e){return function(e,t,r){var n=[];return""!==e.trim()&&(n=e.split(",").map(k).map((function(e,t,n){var i=f(e,r);if(i.restParam&&t!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i}))),n.some(L)?null:{params:n,fn:t}}(e,n[e],u.conversions)})).filter(R).forEach((function(e){var t=P(i,(function(t){return function(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++)if(!z(x(e,n,!0),x(t,n,!0)))return!1;var i=e.params.length,s=t.params.length,a=m(e.params),o=m(t.params);return a?o?i===s:s>=i:o?i>=s:i===s}(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+p(t.params)+'" and "'+p(e.params)+'".');i.push(e)}));var s=B(i,(function(e){return(e?I(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(R);s.sort(_);var a=s[0]&&s[0].params.length<=2&&!m(s[0].params),o=s[1]&&s[1].params.length<=2&&!m(s[1].params),l=s[2]&&s[2].params.length<=2&&!m(s[2].params),c=s[3]&&s[3].params.length<=2&&!m(s[3].params),h=s[4]&&s[4].params.length<=2&&!m(s[4].params),v=s[5]&&s[5].params.length<=2&&!m(s[5].params),b=a&&o&&l&&c&&h&&v,w=s.map((function(e){return y(e.params)})),S=a?g(s[0].params[0]):t,A=o?g(s[1].params[0]):t,T=l?g(s[2].params[0]):t,M=c?g(s[3].params[0]):t,C=h?g(s[4].params[0]):t,O=v?g(s[5].params[0]):t,D=a?g(s[0].params[1]):t,F=o?g(s[1].params[1]):t,V=l?g(s[2].params[1]):t,q=c?g(s[3].params[1]):t,$=h?g(s[4].params[1]):t,G=v?g(s[5].params[1]):t,K=s.map((function(e){return function(e,t){var r=t;if(e.some(d)){var n=m(e),i=e.map(N);r=function(){for(var e=[],r=n?arguments.length-1:arguments.length,s=0;s<r;s++)e[s]=i[s](arguments[s]);return n&&(e[r]=arguments[r].map(i[r])),t.apply(this,e)}}var s=r;if(m(e)){var a=e.length-1;s=function(){return r.apply(this,U(arguments,0,a).concat([U(arguments,a)]))}}return s}(e.params,e.fn)})),j=a?K[0]:r,H=o?K[1]:r,W=l?K[2]:r,X=c?K[3]:r,Y=h?K[4]:r,Z=v?K[5]:r,J=a?s[0].params.length:-1,Q=o?s[1].params.length:-1,ee=l?s[2].params.length:-1,te=c?s[3].params.length:-1,re=h?s[4].params.length:-1,ne=v?s[5].params.length:-1,ie=b?6:0,se=s.length,ae=function(){for(var t=ie;t<se;t++)if(w[t](arguments))return K[t].apply(this,arguments);throw E(e,arguments,s)},oe=function e(t,r){return arguments.length===J&&S(t)&&D(r)?j.apply(e,arguments):arguments.length===Q&&A(t)&&F(r)?H.apply(e,arguments):arguments.length===ee&&T(t)&&V(r)?W.apply(e,arguments):arguments.length===te&&M(t)&&q(r)?X.apply(e,arguments):arguments.length===re&&C(t)&&$(r)?Y.apply(e,arguments):arguments.length===ne&&O(t)&&G(r)?Z.apply(e,arguments):ae.apply(e,arguments)};try{Object.defineProperty(oe,"name",{value:e})}catch(e){}return oe.signatures=function(e){var t={};return e.forEach((function(e){e.params.some(d)||I(e.params,!0).forEach((function(r){t[p(r)]=e.fn}))})),t}(s),oe}function O(e){return-1===u.ignore.indexOf(e)}function k(e){return e.trim()}function D(e){return!!e}function R(e){return null!==e}function L(e){return 0===e.types.length}function F(e){return e[e.length-1]}function U(e,t,r){return Array.prototype.slice.call(e,t,r)}function z(e,t){for(var r=0;r<e.length;r++)if(n=t,i=e[r],-1!==n.indexOf(i))return!0;var n,i;return!1}function P(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function B(e,t){return Array.prototype.concat.apply([],e.map(t))}function V(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}function q(e){var t,r={};function n(e,n){if(r.hasOwnProperty(e)&&n!==r[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var s=e[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(n(a,s.signatures[a]),r[a]=s.signatures[a]);else{if("string"!=typeof s.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;n(s.signature,s),r[s.signature]=s}}return r}return(u=C("typed",{"string, Object":C,Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return C(V(t),e)},"...Function":function(e){return C(V(e),q(e))},"string, ...Function":function(e,t){return C(e,q(t))}})).create=n,u.types=i,u.conversions=o,u.ignore=a,u.convert=function(e,t){var r=h(e);if(t===r)return e;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+r+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t}var i=r.join(","),s=e.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()})?r.apply(t,[]):r)||(e.exports=n)}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{Mat:()=>E,Scalar:()=>L,csv2mat:()=>k,json2mat:()=>R,mat2csv:()=>O,mat2json:()=>D});var t={};r.r(t),r.d(t,{Mat:()=>E,Ns:()=>ze,Scalar:()=>L,Sym:()=>se,_Mat:()=>e,_OUTPUT_ITEMS_LIST_:()=>Ze,abs:()=>be,acos:()=>we,acosh:()=>Se,asin:()=>Ce,asinh:()=>Oe,atan:()=>ke,atanh:()=>De,ceil:()=>_e,chol:()=>Ke,cos:()=>xe,csv2mat:()=>me,diag:()=>Ve,diff:()=>pe,draw:()=>Qe,exp:()=>Ne,eye:()=>qe,floor:()=>Me,formulaTex:()=>st,integrate:()=>fe,json2mat:()=>ge,log:()=>Ie,lu:()=>He,markdown:()=>at,mat:()=>le,mat2csv:()=>de,mat2json:()=>ye,ones:()=>Pe,plot2D:()=>et,plot2DLine:()=>tt,plot3D:()=>rt,plot3DMesh:()=>nt,pow:()=>Fe,print:()=>Je,qr:()=>je,random:()=>$e,range:()=>Ge,round:()=>Ue,scalar:()=>he,sign:()=>Ee,sin:()=>ve,sqrt:()=>Ae,sym:()=>ce,tan:()=>Re,tanh:()=>Le,tex:()=>it,tic:()=>Xe,toc:()=>Ye,trunc:()=>Te,zeros:()=>Be});const n=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),s=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.thrown"),o=e=>"object"==typeof e&&null!==e||"function"==typeof e,u=new Map([["proxy",{canHandle:e=>o(e)&&e[n],serialize(e){const{port1:t,port2:r}=new MessageChannel;return l(e,t),[r,[r]]},deserialize:e=>(e.start(),function e(t,r=[],n=function(){}){let a=!1;const o=new Proxy(n,{get(n,i){if(h(a),i===s)return()=>g(t,{type:5,path:r.map(e=>e.toString())}).then(()=>{c(t),a=!0});if("then"===i){if(0===r.length)return{then:()=>o};const e=g(t,{type:0,path:r.map(e=>e.toString())}).then(d);return e.then.bind(e)}return e(t,[...r,i])},set(e,n,i){h(a);const[s,o]=m(i);return g(t,{type:1,path:[...r,n].map(e=>e.toString()),value:s},o).then(d)},apply(n,s,o){h(a);const u=r[r.length-1];if(u===i)return g(t,{type:4}).then(d);if("bind"===u)return e(t,r.slice(0,-1));const[l,c]=p(o);return g(t,{type:2,path:r.map(e=>e.toString()),argumentList:l},c).then(d)},construct(e,n){h(a);const[i,s]=p(n);return g(t,{type:3,path:r.map(e=>e.toString()),argumentList:i},s).then(d)}});return o}(e,[],void 0))}],["throw",{canHandle:e=>o(e)&&a in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function l(e,t=self){t.addEventListener("message",(function r(i){if(!i||!i.data)return;const{id:s,type:o,path:u}=Object.assign({path:[]},i.data),h=(i.data.argumentList||[]).map(d);let p;try{const t=u.slice(0,-1).reduce((e,t)=>e[t],e),r=u.reduce((e,t)=>e[t],e);switch(o){case 0:p=r;break;case 1:t[u.slice(-1)[0]]=d(i.data.value),p=!0;break;case 2:p=r.apply(t,h);break;case 3:p=function(e){return Object.assign(e,{[n]:!0})}(new r(...h));break;case 4:{const{port1:t,port2:r}=new MessageChannel;l(e,r),p=function(e,t){return f.set(e,t),e}(t,[t])}break;case 5:p=void 0}}catch(e){p={value:e,[a]:0}}Promise.resolve(p).catch(e=>({value:e,[a]:0})).then(e=>{const[n,i]=m(e);t.postMessage(Object.assign(Object.assign({},n),{id:s}),i),5===o&&(t.removeEventListener("message",r),c(t))})})),t.start&&t.start()}function c(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function h(e){if(e)throw new Error("Proxy has been released and is not useable")}function p(e){const t=e.map(m);return[t.map(e=>e[0]),(r=t.map(e=>e[1]),Array.prototype.concat.apply([],r))];var r}const f=new WeakMap;function m(e){for(const[t,r]of u)if(r.canHandle(e)){const[n,i]=r.serialize(e);return[{type:3,name:t,value:n},i]}return[{type:0,value:e},f.get(e)||[]]}function d(e){switch(e.type){case 3:return u.get(e.name).deserialize(e.value);case 0:return e.value}}function g(e,t,r){return new Promise(n=>{const i=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===i&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)})}var y=r(9014),v=r.n(y),x=r(9985),b=r(1687),w=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n},S=new x.GPU,E=function(){function e(e){if(this.mode="",this.digits=-1,this.val=[],this.rows=0,this.cols=0,"number"==typeof e)return this.val=[[e]],this.rows=1,this.cols=1,this;Array.isArray(e)&&(Array.isArray(e[0])?this.init(e):this.initVec(e))}return e.prototype.clear=function(){return this.val=[],this.rows=0,this.cols=0,this.digits=-1,this.mode="",this},e.prototype.dimensions=function(){return Array.from([this.rows,this.cols])},e.prototype.isVector=function(){return this.rows<=1},e.prototype.init=function(e){if(this.clear(),this.rows=e.length,this.rows>0){for(var t=0,r=0;r<this.rows;r++)e[r].length>t&&(t=e[r].length);this.cols=t}else this.cols=0;for(var n=0;n<e.length;n++){var i=w(e[n]);this.cols>e[n].length&&i.push.apply(i,Array(this.cols-e[n].length).fill(0)),this.val.push(i)}return this},e.prototype.dimCheck=function(e,t){if(e>=this.rows||e<0||t>this.cols||t<0||!1===Number.isInteger(e)||!1===Number.isInteger(t))throw new Error("Invalid row or column")},e.prototype.min=function(){return Math.min.apply(Math,this.toArray())},e.prototype.max=function(){return Math.max.apply(Math,this.toArray())},e.prototype.initVec=function(e){return this.clear(),this.rows=1,this.cols=e.length,this.val.push(w(e)),this},e.prototype.range=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=1);var n=[],i=0,s=0;if(null===t?(i=0,s=e):(i=e,s=t),i<s){for(var a=i;a<s;a+=r)n.push(a);return this.initVec(n)}for(a=i;a>s;a+=r)n.push(a);return this.initVec(n)},e.prototype.clone=function(){var t=new e;t.rows=this.rows,t.cols=this.cols,t.digits=this.digits,t.mode=this.mode;for(var r=0;r<this.val.length;r++)t.val.push(w(this.val[r]));return t},e.prototype.copy=function(e){return this.init(e.val),this.cols=e.cols,this.rows=e.rows,this.digits=e.digits,this.mode=e.mode,this},e.prototype.equals=function(e,t){return void 0===t&&(t=1e-4),this.cols===e.cols&&this.rows===e.rows&&this.minus(e).squareSum()<=t},e.prototype.Ns=function(e,t,r){this.clear(),this.rows=e,this.cols=t;for(var n=0;n<e;n++)this.val.push(Array(t).fill(r));return this},e.prototype.zeros=function(e,t){return t?this.Ns(e,t,0):this.Ns(e,e,0)},e.prototype.ones=function(e,t){return t?this.Ns(e,t,1):this.Ns(e,e,1)},e.prototype.diag=function(e){this.clear(),this.zeros(e.length,e.length);for(var t=0;t<e.length;t++)this.val[t][t]=e[t];return this},e.prototype.eye=function(e,t){if(t){this.clear(),this.zeros(e,t);for(var r=0;r<Math.min(e,t);r++)this.val[r][r]=1;return this}var n=Array(e).fill(1);return this.diag(n)},e.prototype.random=function(e,t){t||(t=e),this.clear(),this.zeros(e,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.cols;n++)this.val[r][n]=Math.random();return this},e.prototype.T=function(){for(var t=(new e).zeros(this.cols,this.rows),r=0;r<this.rows;r++)for(var n=0;n<this.cols;n++)t.val[n][r]=this.val[r][n];return t},e.prototype.transpose=function(){return this.T()},e.prototype.each=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.cols;r++)this.val[t][r]=e(this.val[t][r]);return this},e.prototype.addScalar=function(e){var t=this.clone();return t.each((function(t){return t+e})),t},e.prototype.multiplyScalar=function(e){var t=this.clone();return t.each((function(t){return t*e})),t.clone()},e.prototype.minusScalar=function(e){return this.addScalar(-1*e)},e.prototype.divideScalar=function(e){return this.multiplyScalar(1/e)},e.prototype.add=function(e){return A(this,e)},e.prototype.minus=function(e){return T(this,e)},e.prototype.multiply=function(e){return M(this,e)},e.prototype.dotMultiply=function(e){return I(this,e)},e.prototype.divide=function(e){return C(this,e)},e.prototype[Symbol.for("+")]=function(t){return Array.isArray(t)?A(this,new e(t)):"number"==typeof t?this.addScalar(t):A(this,t)},e.prototype[Symbol.for("-")]=function(t){return Array.isArray(t)?T(this,new e(t)):"number"==typeof t?this.minusScalar(t):T(this,t)},e.prototype[Symbol.for("*")]=function(t){return Array.isArray(t)?M(this,new e(t)):"number"==typeof t?this.multiplyScalar(t):M(this,t)},e.prototype[Symbol.for("**")]=function(t){if(Array.isArray(t))return I(this,new e(t));if("number"==typeof t){for(var r=this.clone(),n=1;n<t;n++)N(r,this);return r}return I(this,t)},e.prototype[Symbol.for("/")]=function(t){return"number"==typeof t?this.divideScalar(t):Array.isArray(t)?C(this,new e(t)):C(this,t)},e.prototype[Symbol.for("^")]=function(t){if(this.rows!==this.cols)throw new Error("This matrix does not support ^ operator");if(-1===t)return new e(b.JBn(this.val));if(!Number.isInteger(t)||t<1)throw new Error("This right operand does not support ^ operator");for(var r=this.clone(),n=2;n<=t;n++)_(r,this);return r},e.prototype[Symbol.for("==")]=function(t,r){if(void 0===r&&(r=1e-4),Array.isArray(t)){var n=new e(t);return this.equals(n)}if("number"==typeof t){if(1!==this.rows||1!==this.cols)throw new Error("This matrix cannot be compared with a scalar");return(this.val[0][0]-t)*(this.val[0][0]-t)<r}return this.equals(t)},e.prototype[Symbol.for("===")]=function(t,r){if(void 0===r&&(r=1e-4),Array.isArray(t)){var n=new e(t);return this.equals(n)}if("number"==typeof t){if(1!==this.rows||1!==this.cols)throw new Error("This matrix cannot be compared with a scalar");return(this.val[0][0]-t)*(this.val[0][0]-t)<r}return this.equals(t)},e.prototype.set=function(e,t,r){return this.dimCheck(e,t),this.val[e][t]=r,this},e.prototype.get=function(e,t){return this.dimCheck(e,t),this.val[e][t]},e.prototype.at=function(e,t){return this.dimCheck(e,t),this.val[e][t]},e.prototype.row=function(t){return this.dimCheck(t,0),(new e).initVec(this.val[t])},e.prototype.col=function(t){this.dimCheck(0,t);for(var r=Array(this.rows).fill(0),n=0;n<this.rows;n++)r[n]=this.val[n][t];return(new e).initVec(r)},e.prototype.to2DArray=function(){return this.clone().val},e.prototype.toArray=function(){var e;return(e=new Array).concat.apply(e,this.val)},e.prototype.reshape=function(t,r){for(var n=(new e).zeros(t,r),i=this.toArray(),s=0,a=0;a<t;a++){for(var o=0;o<r&&s<i.length;o++)n.val[a][o]=i[s],s++;if(s>=i.length)break}return n},e.prototype.subMatrix=function(t,r,n,i){if(t<0||r>this.rows||n<0||i>this.cols||t>r||n>i)throw new Error("Please check the dimensions of subMatrix");for(var s=(new e).zeros(r-t,i-n),a=t;a<r;a++)for(var o=a-t,u=n;u<i;u++){var l=u-n;s.val[o][l]=this.val[a][u]}return s},e.prototype.resize=function(t,r,n){void 0===n&&(n=0);for(var i=(new e).Ns(t,r,n),s=Math.min(t,this.rows),a=Math.min(r,this.cols),o=0;o<s;o++)for(var u=0;u<a;u++)i.val[o][u]=this.val[o][u];return i},e.prototype.Rows=function(e,t){return this.subMatrix(e,t,0,this.cols)},e.prototype.Cols=function(e,t){return this.subMatrix(0,this.rows,e,t)},e.prototype.RowVector=function(e){return w(this.val[e])},e.prototype.ColVector=function(e){for(var t=[],r=0;r<this.rows;r++)t.push(this.val[r][e]);return t},e.prototype.Row=function(t){return new e(this.RowVector(t))},e.prototype.Col=function(t){return new e(this.ColVector(t))},e.prototype.squareSum=function(){for(var e=0,t=0;t<this.rows;t++)for(var r=0;r<this.cols;r++){var n=this.val[t][r];e+=n*n}return e},e.prototype.setDigits=function(e){return this.digits=e,this},e.prototype.toString=function(){for(var e="",t=0;t<this.rows;t++){for(var r=0;r<this.cols;r++)-1===this.digits?e+=0===r?String(this.val[t][r]):"\t"+String(this.val[t][r]):e+=0===r?this.val[t][r].toFixed(this.digits):"\t"+this.val[t][r].toFixed(this.digits);t!==this.rows-1&&(e+="\n")}return e+"\n"},e.prototype.toCsv=function(){return O(this)},e.prototype.toJson=function(){return JSON.stringify(this)},e.prototype.toTex=function(){for(var e="\\begin{bmatrix} ",t=0;t<this.rows;t++){for(var r=0;r<this.cols;r++)-1===this.digits?e+=0===r?String(this.val[t][r]):"  &  "+String(this.val[t][r]):e+=0===r?this.val[t][r].toFixed(this.digits):"  &  "+this.val[t][r].toFixed(this.digits);t!==this.rows-1&&(e+="  \\\\  ")}return e+" \\end{bmatrix}"},e.prototype.log=function(){return console.log(this),this},e.prototype.appendInRow=function(e){var t,r=e.clone();if(r.cols!==this.cols)throw new Error("Dimension does not match on  appendInRow()");return(t=this.val).push.apply(t,r.val),this.rows+=r.rows,this},e.prototype.appendInColumn=function(e){var t,r=e.clone();if(r.rows!==this.rows)throw new Error("Dimension does not match on  appendInColumn()");for(var n=0;n<this.rows;n++)(t=this.val[n]).push.apply(t,r.val[n]);return this.cols+=r.cols,this},e}();function A(e,t){return function(e,t){if(e.rows!==t.rows||e.cols!==t.cols)throw new Error("Dimension does not match for operation:add");for(var r=e.rows,n=e.cols,i=0;i<r;i++)for(var s=0;s<n;s++)e.val[i][s]+=t.val[i][s];return e}(e.clone(),t)}function T(e,t){return function(e,t){if(e.rows!==t.rows||e.cols!==t.cols)throw new Error("Dimension does not match for operation:minus");for(var r=e.rows,n=e.cols,i=0;i<r;i++)for(var s=0;s<n;s++)e.val[i][s]-=t.val[i][s];return e}(e.clone(),t)}function M(e,t){if(e.cols!==t.rows)throw new Error("Dimension does not match for operation:muitiply");if("gpu"===e.mode||"gpu"===t.mode)return function(e,t){console.log("GPU is used for matrix multiplication acceleration.");var r=e.rows,n=e.cols,i=t.cols,s="function (a, b) {\n    let sum = 0;\n    for (let i = 0; i < "+n.toString()+"; i++) {\n        sum += a[this.thread.y][i] * b[i][this.thread.x];\n    }\n    return sum;\n}",a=S.createKernel(s).setOutput([r,i])(e.val,t.val),o=new E;return o.val=a,o.rows=r,o.cols=i,o}(e,t);for(var r=e.rows,n=e.cols,i=t.cols,s=(new E).zeros(r,i),a=0;a<r;a++)for(var o=0;o<i;o++){for(var u=0,l=0;l<n;l++)u+=e.val[a][l]*t.val[l][o];s.val[a][o]=u}return s}function _(e,t){var r=M(e,t);return e.copy(r),e}function N(e,t){if(e.rows!==t.rows||e.cols!==t.cols)throw new Error("Dimension does not match for operation:dot muitiply");for(var r=0;r<e.rows;r++)for(var n=0;n<e.cols;n++)e.val[r][n]*=t.val[r][n];return e}function I(e,t){return N(e.clone(),t)}function C(e,t){return function(e,t){return _(e,new E(b.JBn(t.val)))}(e.clone(),t)}function O(e){for(var t="",r=0;r<e.rows;r++){for(var n=0;n<e.cols;n++)t+=0===n?String(e.val[r][n]):","+String(e.val[r][n]);t+="\n"}return t}function k(e){var t=new E;try{if(0===k.length)return t;var r=e.split("\n").filter((function(e){return e.length>0})),n=r.length,i=r[0].split(",").length;t.zeros(n,i);for(var s=0;s<n;s++){var a=r[s].split(",");if(a.length!==i)throw new Error("Current row "+s.toString()+" does not have same element as first row");for(var o=0;o<i;o++)t.val[s][o]=Number(a[o])}}catch(e){throw new Error("Cannot parse matrix from csv file. Exception: "+e)}return t}function D(e){return JSON.stringify(e)}function R(e){var t=new E,r=JSON.parse(e);if(t.init(r.val),t.rows===r.rows&&t.cols===r.cols)return t;throw new Error("Fail to read matrix from json")}var L=function(){function e(e){this.val=e}return e.prototype[Symbol.for("+")]=function(e){return e.addScalar(this.val)},e.prototype[Symbol.for("-")]=function(e){return e.multiplyScalar(-1).addScalar(this.val)},e.prototype[Symbol.for("*")]=function(e){return e instanceof E?e.multiplyScalar(this.val):new E(e).multiplyScalar(this.val)},e}();function F(e){return e instanceof E?e.clone():new E(e)}const U=function(e){return F(e).each(Math.sin)},z=function(e){return F(e).each(Math.cos)},P=function(e){return F(e).each(Math.abs)},B=function(e){return F(e).each(Math.acos)},V=function(e){return F(e).each(Math.acosh)},q=function(e){return F(e).each(Math.sign)},$=function(e){return F(e).each(Math.sqrt)},G=function(e){return F(e).each(Math.trunc)},K=function(e){return F(e).each(Math.floor)},j=function(e){return F(e).each(Math.ceil)},H=function(e){return F(e).each(Math.exp)},W=function(e,t){return t?F(e).each((function(e){return Math.log(e)/Math.log(t)})):F(e).each(Math.log)},X=function(e){return F(e).each(Math.asin)},Y=function(e){return F(e).each(Math.asinh)},Z=function(e){return F(e).each(Math.atan)},J=function(e){return F(e).each(Math.atanh)},Q=function(e){return F(e).each(Math.tan)},ee=function(e){return F(e).each(Math.tanh)},te=function(e,t){return F(e).each((function(e){return Math.pow(e,t)}))},re=function(e){return F(e).each(Math.round)};var ne=r(7182),ie=r.n(ne),se=function(){function e(e){this.expression=e?"("+e+")":""}return e.prototype[Symbol.for("+")]=function(t){if(t instanceof e)return new e(this.expression+"+"+t.expression);if("number"==typeof t)return new e(this.expression+"+"+t.toString());throw new Error("This right operand does not support + operator")},e.prototype[Symbol.for("-")]=function(t){if(t instanceof e)return new e(this.expression+"-"+t.expression);if("number"==typeof t)return new e(this.expression+"-"+t.toString());throw new Error("This right operand does not support - operator")},e.prototype[Symbol.for("*")]=function(t){if(t instanceof e)return new e(this.expression+"*"+t.expression);if("number"==typeof t)return new e(this.expression+"*"+t.toString());throw new Error("This right operand does not support * operator")},e.prototype[Symbol.for("/")]=function(t){if(t instanceof e)return new e(this.expression+"/"+t.expression);if("number"==typeof t)return new e(this.expression+"/"+t.toString());throw new Error("This right operand does not support / operator")},e.prototype[Symbol.for("^")]=function(t){if(t instanceof e)return new e(this.expression+"^"+t.expression);if("number"==typeof t)return new e(this.expression+"^"+t.toString());throw new Error("This right operand does not support ^ operator")},e.prototype.toString=function(){return ie()(this.expression).toString()},e.prototype.toTex=function(){return ie()(this.expression).toTeX()},e}(),ae=function(e){if(e.rows!==e.cols||0===e.rows||0===e.cols)throw new Error("Wrong dimension of matrix A.");for(var t=e.rows,r=(new E).zeros(t,t),n=0;n<t;n++)for(var i=0;i<n+1;i++){for(var s=0,a=0;a<i;a++)s+=r.val[n][a]*r.val[i][a];r.val[n][i]=n===i?Math.sqrt(e.val[n][n]-s):1/r.val[i][i]*(e.val[n][i]-s)}this.L=r},oe=function(e){var t=(0,b.xly)(e.val);this.L=new E(t.L),this.U=new E(t.U),this.P=new E(t.P)},ue=function(e){var t=(0,b.qr)(e.val);this.Q=new E(t.Q),this.R=new E(t.R)};function le(e){return new E(e)}function ce(e){return new se(e)}function he(e){return new L(e)}function pe(e,t,r){return void 0===r&&(r=1),new se(t?v().diff(e.toString(),t.toString(),r).text():v().diff(e.toString(),r).text())}function fe(e,t){return new se(t?v().integrate(e.toString(),t.toString()).text():v().integrate(e.toString()).text())}function me(e){return k(e)}function de(e){return O(e)}function ge(e){return R(e)}function ye(e){return D(e)}function ve(e){return e instanceof se?ce("sin("+e.expression+")"):U(e)}function xe(e){return e instanceof se?ce("cos("+e.expression+")"):z(e)}function be(e){return P(e)}function we(e){return e instanceof se?ce("acos("+e.expression+")"):B(e)}function Se(e){return e instanceof se?ce("acosh("+e.expression+")"):V(e)}function Ee(e){return q(e)}function Ae(e){return $(e)}function Te(e){return G(e)}function Me(e){return K(e)}function _e(e){return j(e)}function Ne(e){return e instanceof se?ce("exp("+e.expression+")"):H(e)}function Ie(e,t){return e instanceof se?ce("log("+e.expression+")"):W(e,t)}function Ce(e){return e instanceof se?ce("asin("+e.expression+")"):X(e)}function Oe(e){return e instanceof se?ce("asinh("+e.expression+")"):Y(e)}function ke(e){return e instanceof se?ce("atan("+e.expression+")"):Z(e)}function De(e){return e instanceof se?ce("atanh("+e.expression+")"):J(e)}function Re(e){return e instanceof se?ce("tan("+e.expression+")"):Q(e)}function Le(e){return e instanceof se?ce("tanh("+e.expression+")"):ee(e)}function Fe(e,t){return te(e,t)}function Ue(e){return re(e)}function ze(e,t,r){return le().Ns(e,t,r)}function Pe(e,t){return le().ones(e,t)}function Be(e,t){return le().zeros(e,t)}function Ve(e){return le().diag(e)}function qe(e,t){return le().eye(e,t)}function $e(e,t){return le().random(e,t)}function Ge(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=1),le().range(e,t,r)}function Ke(e){return new ae(e)}function je(e){return new ue(e)}function He(e){return new oe(e)}var We=0;function Xe(){We=performance.now()}function Ye(){Je("Elapsed time: "+(performance.now()-We)+" milliseconds.")}var Ze=[];function Je(e){Ze.push({itemType:"TEXT",text:e.toString()})}function Qe(e,t){Ze.push({itemType:"DRAWING",data:e,layout:t})}function et(e,t){Qe([{x:e,y:t,type:"scatter",mode:"markers",marker:{color:"blue",size:"2"}}])}function tt(e,t){Qe([{x:e,y:t,type:"scatter",mode:"lines+markers",marker:{color:"blue",size:"4"}}])}function rt(e,t,r){Qe([{x:e,y:t,z:r,mode:"markers",marker:{color:"blue",size:2},opacity:.5,type:"scatter3d"}],{})}function nt(e,t,r){Qe([{x:e,y:t,z:r,mode:"markers",marker:{color:"blue",size:2},opacity:.5,type:"mesh3d"}],{})}function it(e){Ze.push({itemType:"TEX",text:e})}function st(e){Ze.push({itemType:"FORMULA",text:e})}function at(e){Ze.push({itemType:"MARKDOWN",text:e})}class ot extends Error{constructor(e){super(null!=e?e:"Operation has been cancelled.")}}l(new class{execute(e,r){if(null==r?void 0:r.aborted)throw new ot;return function(e){var r="";for(var n in t)r+="const "+n+" = prelude."+n+";";var i=new Function("prelude",r+e+"\n return _OUTPUT_ITEMS_LIST_;").call({},t);console.log("Execution results:"),console.log(i);var s=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}(i);return Ze.length=0,s}(e.compiledCode)}})})()})();
//# sourceMappingURL=1e8fba5327a4107bb8a3.worker.js.map